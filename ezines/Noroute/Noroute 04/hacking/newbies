
             -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-    
                LE HACKING POUR LES NEWBIES     PARTIES 1&2        BY TK4
             -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-




  Tout d'abord il faut bien indiquer que ce texte n'a qu'une valeur
  éducative et que tous les exemples appuyants cette doc ne sont que fictifs
  Cette doc est intitulée hacking pour les newbies,l'idée m'est venue de
  la realiser lorsque je me suis rendu compte la difficulté qu'prouve 
  un débutant en hacking afin de trouver des infos necessaires a la fois
  simples ,compréhensibles et precises pour débuter.Ainsi ce doc regroupe
  les principales techniques à mettre en oeuvre afin de pénétrer un
  systeme unix;Je ne cacherait pas que ce texte a ete réalisé pour ceraines
  parties à partir de docs parues dans Noroute (pas la majorité quand meme
  ,loin de la ;),seulement comme l'a si bien dit cod4,pourquoi perdre un temps
  fou a retaper en moins bien ce qui existe deja.Ce doc a pour but de permettre
  un rassemblement de toutes les techniques utilisables afin de gagner le root
  d'un systeme unix et ceci pour un novice en matière de réseau et arrivant à
  peine a installer Linux(justement faut bien qu'mes cours servent a quelquechose
  nan de diou!!=)
  Cette doc paraitra en 3 tomes dont les parties 1&2 ici présentes.

                                                               TK4 dit TheKing1


-------------------------------------------------------------------------------      

  MENU DES REJOUISSANCES : 
--------------------------

    -PARTIE 1 : INSTALLATION D'UN OS DIGNE DE CE NOM :=) 
                 1.Installer Linux
                 2.commandes primaires à savoir
                 3.Configurer X-Windows et le Network
                 4.vous savez pas c'qu'est un script et quoi
                  en foutre , pas de panique :)
                 5.Vi éditeur de texte,ca peut servir :p
                  (ba vi creer un .rhosts par exemple ;))
                 6.commandes telnet , rlogin ,rsh,comment
                  s'envoyer un xterm d'ou on est logué.

    -PARTIE 2 : BASES INDISPENSABLES EN PROTOCOLES TCP/IP
                 1.Historique
                 2.TCP
                 3.IP
                 4.les ports,sockets
     
    -PARTIE 3 : METHODES POUR INFILTRER UNE MACHINE UNIX
                 1.commandes primordiales a effectuer pour cerner la
                   cible potentielle.
                 2.une vieille methode qui marche plus mais bon a savoir
                   :le TFTP.
                 3.Pour les anciennes versions de sendmail , le PORT 25
                   qui resoudra tous vos problemes :)
                 4.LES EXPLOITS : Hacker sans se fatiguer... 
                 5.le Rhosting.
                 6.NFS : Vous avez trouve un repertoire d'utlisateur EXPORTE,
                   ca devient interessant ;).
                 8.les NIS (la methode qui marche le mieux actuellement)
                   texte de COD4 avec les ch'tites annotations maison
                   de TK4.
                 9.je ne pouvais passer sous silence l'un des derniers textes
                   de cod4 est a mon avis le plus complet , je vous le livre
                   dans sa version integrale non retouchée,il est d'un niveau
                   superieur au reste mais avec tous le reste vous devrier
                   piger.
                10.une methode de la derniere chance pour les qi>60 ;)
                   comment forcer un user a modifier son pass par celui
                   que vous voulez :) (extrait du noway3).  

    -PARTIE 4 : COMMENT GARDER UN SYSTEME HACKE!
                 1.Cheval de troie
                 2.Backdoors...
                 3.Adjonction d'une doc d'un allemand,les mesures minimales pour
                   pas se faire chopper et perdre son acces le jour suivant.
                   excellent document.

    -PARTIE 5 : COMMENT CRACKER LES PASSWD CRYPTES ( ba oui pour ceux
                 qu'auraient pas remarques et essayent hjf12JggO1PDgh 
                 comme pass c'est crypte :pp )
     
    -PARTIE 6 : ANNEXES(ca n'veut pas dire qu'c'est a delaisser ;))
                 1.Les Firewalls
                 2.Les Sniffers (infos par TK4 si vous voulez en savoir
                   plus allez voir l'excellent article dessus dans le
                   noroute3)
                 3.L'ICMP 
                 4.Le Spoofing 


=================================================================================


PARTIE 1 :INSTALLATION D'UN OS DIGNE DE CE NOM
----------------------------------------------

I.INSTALLER LINUX
XXXXXXXXXXXXXXXXX

Bon alors déja j'part du principe que vous savez un minimum vous servir d'un
ordinateur,sinon c'est meme pas la peine d'aller plus loin , allez plutot
deja installer le billou95 et ses gros bug de la mort.Bon en premier lieu la
place qu'il vous faut , un minimum de 100 mo sont nécessaires pour amenager
un systeme linux correct,cependant vous n'aurez pas d'interface graphique
et je doute que newbies que vous etes vous vous en sortiez sans alors ,
on va pas discuter plus longtemps et on fonce créer un disque réservé à
linux de 400mo , ba vi je sais bien ca fait de la taille mais ca en vaut
largement le coup car c'est du multitache ca ! , pas du windaube :)
Pour la question carte graphique vous en faites pas , les versions recentes
noyau reconnaissent la totalite des cartes graphiques disponibles sur le 
marche.
vous m'faites a partir de c:\ un ch'ti beau fdisk
si vous aviez de la place inoccupée tant mieux , sinon faut tout repartitio-
nner ;) ; c'est a dire que vous recreez une partition dos principale , vous
l'activez et c'est tout , vous n'allouez pas 400mo destinés plus tard a linux
vous rebootez et reinstallez votre systeme dos et windows pourri voila :)
Bon nous arrivons maintenant a la phase d'installation , on va voir ici cette
installation pour deux distributions differentes : la slackware et la redhat.


A-INSTALLATION DE LA SLACKWARE
------------------------------

La y a deux répertoires qui nous intéressent sur votre cd de linux:les
répertoires rootdsks et bootdsks.144 
Vous allez realiser deux disquettes d'installation gràce à ces répertoires.
L'un des deux disks sera une disquette root sur laquelle sera enregistré un
système d'exploitation minimal.Vous allez choisir en fonction de votre mat-
ériel les fichiers dont vous avez besoin dans les deux repertoires cités plus
haut.ex: si vous possedez un pc classique avec disque dur ide et lecteur de 
cdrom goldstar vous créez la disquette de demarrage avec GOLDSTAR.I et le 
disk root avec color.gz.
Vous créez un repertoire pipo sur votre disque dur :mkdir pipo
puis vous tapez ca : copy d:\bootdsks.144\aha2x9.s c:\pipo
(d:\étant votre lecteur cd)
copy d:\rootdsks\color.gz c:\pipo
copy d:\install\rawrite.exe c:\pipo
puis vous lancez rawrite.exe situé dans c:\pipo
ca vous marquera : "enter source file name:"
Là vous mettez le premier disk dans votre lecteur et tapez aha..
de meme sur un second disk pour color.gz
mettez le disk de démarrage dans le lecteur a: et relancez l'ordi 
si tout va bien vous verez ca :
"loading ramdisk ........."
"uncompressing Linux ... done"
sinon vous vous etes gourré de disk ;=)
Le noyau de linux est alors chargé et il analyse votre systeme
il vous demande apres d'installer le disk root
vous metez ce qu'il demande sans broncher
si tout est ok il mettra : 
"RAMDISK : Compressed image found at block 0"
et il jette au prompt :
slackware login:
vous rentrez root en login et que dal en pass faites pas gaffe au
msg d'erreur possible :)
tapez ensuite fdisk
tapez "n" puis entrée
puis entrez p pour une partition primaire
il vous demandra de définir le premier et dernier cylindre de cette part-
ition , entrez successivement la valeur la plus faible et la plus forte.
tapez deux fois "a" pour rendre cette partition linux active
puis sauvegardez avec "w"(write)
vous lancez le setup en tapant "setup"
vous entrez les caractérisques de votre machine (desolé la j'peut pas tout
 macher ;)).
Lorsqu'il vous demande ou installer linux , indiquez la partition créée anté-
rieurement avec "fdisk".
Vous devrez aussi rattacher votre partition dos à la partition linux pour 
pouvoir avoir accèder a votre lecteur dos sous linux , vous placez alors ce 
disque c:\ dans un repertoire de votre choix exemple /diskc ; c'est un lien,
endroit qui vous permet de communiquer entre les deux systemes.
apres l'installation se déroule...
Vous configurez le LILO ( amorcage de linux...)
je conseil d'installer le lilo sur une disquette d'amorcage comme ca , ca
ne pose pas de problemes si ultérieurement vous installiez winnt4 ou...
(perso vous etes teuhbes si vous preferez nt4 à linux mais bon :)).
Il suffira alors de placer cette disquette d'amorcage dans le lecteur lorsque
vous desirez utiliser linux.
END

B-INSTALLATION DE LA REDHAT
---------------------------

Cette installation est assez similaire , donc je ne vais pas m'attarder sur
les détails , allez voir la partie intitulée "installation de la slackware";
Pour les disquettes d'installation c'est encore plus simple
qui va m'dire que linux est complexe à installer apres!!! grrr
copiez le fichier rawrite.exe qui se trouve sur le cd d'installation
(d:\dosutlis\rawrite.exe) dans le repertoire c:\dos
mettez une disquette dans le lecteur a: ou b: 
allez sur le cd dans d:\images(d:\ puis cd images(a la base c'est pour les
newbies ;)))
a partir de la tapez :
"RAWRITE -f boot.img -d A: -n"
vous voila maintenant avec un sh'ti disk boot :)
relancez l'ordi avec le disk dedans et laissez vous guider
la configuration de fdisk...est identique a la distribution Slackware

OUFFFFFF vous voila maintenant avec un sh'ti systeme d'exploitation tout
beau , ca va vous changer de windaube ; ca c'est clair =)
reste maintenant à configurer xwindow et le network.

II-AVANT UNE P'TITE LISTE NON EXHAUSTIVE DE COMMANDES A SAVOIR.
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX


-rm fichier : effacer un fichier.
-cd chemin : aller dans un repertoire specifique.
-cd .. :pour descendre un repertoire.
-mount chemin1 chemin2 :monter un systeme de fichier
(ex:mount /toto /guignol le rep toto et tous ses sous rep seront
montés dans guignol ) il en est de meme pour monter un systeme
de fichier d'une machine distante mount adresse:chemin /toto
les rep selectionnés du serveur distant seront accessibles dans
/toto de votre machine (très pratique... hehe :) --->NFS)
-find /chemin -name fichier -print :permet de chercher un fichier 
voulu.
-mv :renommer un fichier ou le bouger.
-ls :list equivalent de dir sous dos.            
-cp fichier 'endroit actuel' 'chemin destinataire' copier un fichier
-chmod change le "mode" ou permissions pour les fichiers ou les
repertoires.
-pwd :montre dans quel répertoire vous etes.           
-mkdir :crée un nouveau répertoire.
-rmdir :vire un repertoire existant.
-who :montre qui est sur le systeme.           
-ps :Process Status.
-man :information à propos d'une commande.
-finger @ip :vous donne des infos sur les users d'un systeme
-finger -l ... : cette option indique les personnes actuelle-
ment connectées.
-showmount -e addresse : vous donnes les reprtoires exportes
par un systeme et si oui à qui.(everyone nous interessera...)
-cat fichier : permet de voir le contenu d'un fichier.
-uname -a :donne le type d'un systeme (ex : sunos toto 4.1)


ATTENTION : la partie ci-dessous est la pour combler , mon quota de ko ;)
            alors n'y pretez pas grande attention =)

-----------------------------------
COMMANDES DU MAIL POUR MACHINE UNIX 
-----------------------------------
(la ca m'fesait chier de traduire alors j'ai extrait ca de "unix" commands
 de THE REBEL:))
mailx (AT&T)                Mail program for sending/reading messages.

Mail (BSD)                  Mail program for sending/reading messages.

uuname                      Shows which computers the system is connected to.

.mailrc                     Start-up file for mail. Modify this file to
                            customize your mail(mailx or Mail) program.

/bin/mail                   A stone-aged mail program.

write                       Sends on-line message to another user.

talk                        Instantaneously sends and receives messages.

mesg                        Prevents other users from interrupting you with
                            either the talk or write commands.

chat                        Another program for sending on-line messages
                            between users.

ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
                              mailx/Mail Commands
ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
Command      Abbreviation     Meaning
ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

!command       none           Execute the shell command specified by "comand".

#              none           Comment(e.g.,in .mailrc files).This command is
                              available only in AT&T's System V.

=              none           Displays numbers of current message. This
                              command is available only in AT&T's System V.

?              none           Displays list of mailx/Mail commands.

-              none           Displays previous message(e.g., -3 would mean to
                              back up 3 messages from the current message and
                              display that message).

alias          a              Defines a single name for a set of user names.

alternates     alt            Tells mailx/Mail alternate names for a user
                              name. With no argument, lists your alternate
                              names.

chdir          cd             Change directory. If no argument, changes to
                              your home directory.

copy           co             Copies message to a file(or folder). Does not
                              earmark for deletion when you quit(q) the mail
                              program.

Copy           none           Copies message to a file which is named after
                              the sender of the message. This command is
                              available only in AT&T's System V.

delete         d              Deletes messages.

discard        none           Suppresses display of the specified header
                              fields when displaying messages. The Print and
                              Type commands override this command. This
                              command is equivalent to the ignore command.
                              This command is available only in AT&T's System
                              V.

dp or dt       none           Deletes current message and displays the next
                              message.

echo           none           Displays the specified string.

edit           e              Invokes editor for a given message or messages.

else           none           Conditionally executes mailx commands. Used with
                              if.

endif          none           Marks the end of an if statement. See if.

exit           ex,x,xit       Leaves mailx/Mail program, retaining all message
                              in mailbox EXACTLY as at the beginning of the
                              mail session.

file           fi             Begins reading a new file of messages.
                                          Special Symbols:
                                          %  -  current mailbox
                                      %name  -  mailbox of another user
                                          #  -  the last file read
                                          &  -  your mbox
                               +folder (BSD) - a folder

folder         fo             Same as file.

folders        none           List your folders.

followup       none           Replies to a message. Your reply is saved in a
                              file named after the original sender of the
                              message.  This command is available only in
                              AT&T's System V.

Followup       none           Replies to the first message in a message list.
                              Your reply is sent to the sender of each message
                              in the message list and is saved in a file named
                              after the send of the first message. This
                              command is available only in AT&T's System V.

from           f              Displays header lines of message in the message
                              list specified.

group          none           Same as alias.

headers        h              Displays group of header lines containing the
                              specified message.

help           none           Prints a brief summary of mailx commands.

hold           ho             Retains the specified messages in the mailbox;
                              they won't be moved to mbox. Same as preserve.

if send        none           Conditionally executes Mail commands in the
|receive                      .mailrd file, depending on whether you are
                              reading(if receive) or sending(if send) mail.
                              Used with endif.  This command is available only
                              in Berkeley's version.

if s|r         none           AT&T's "if send|receive" command. This command
                              is available only in AT&T's System V.

ignore         none           Supresses display of the specified header fields
                              when displaying messages. This command is the
                              same as discard.  The Print and Type commands
                              overide this command.

list           none           Lists mailx/Mail commands.

mail           m              Sends mail to specified names.

mbox           none           Saves the specified messages in mbox when you
                              use the quit command.

next           n,+, Return    Displays the next message or the message
                              specified.

pipe           |              Pipes the message through the specified command.
                              With no arguments specified, this command pipes
                              the current message though the command
                              designated by the cmd variable.  With the page
                              variable set, each message has a form feed
                              inserted after it.  This command is available
                              only in AT&T's System V.

preserve       none           Keeps the specified messages in your mailbox
                              when you quit. This command is the same as the
                              hold command.

print          p              Displays specified messages.

Print          P              Displays specified messages, including all
                              header fields.

quit           q              Leaves mailx, updating system malbox and mbox as
                              appropriate.

reply/respond  r              Composes a reply to a message, sending it to the
                              author of the original message and to all the
                              people, except you, who received the message.

Reply/Respond  R              Composes a reply to a message, sending it ONLY
                              to the author of the original message.

save           s              Appends messages to a file. If no file is
                              specified, saves to mbox.

Save           none           Saves the specified messages in a file named
                              after the sender of the first message. This
                              command is available only in AT&T's System V.

set            se             Sets binary or valued options.

shell          sh             Creates a shell in which you can enter Unix
                              commands. When you leave the shell, you are
                              returned to mailx/Mail.

size           none           Displays the size(in characters) for the
                              specified messages. This command is available
                              only in AT&T's System V.

source         so             Executes the mailx/Mail commands in the
                              specified file.

top            to             Prints the first so many ( 5 by default ) lines
                              of each message in the message list.

touch          none           Moves messages in the message list to mbox when
                              you quit, unless the messages are specifically
                              saved to a file.  This command is available only
                              in AT&T's System V.

type           t              Displays specified messages. This command is the
                              same as the print command.

Type           T              Displays specified messages, including all
                              header fields. This command is the same as the
                              Print command.

unalias        none           Removes one or more aliases from the list of
                              aliases. This command is available only to
                              Berkeley's version of Unix.

undelete       u              Recovers messages in the message list that have
                              been deleted in the current mail session.

unset          none           Undoes the operation of a set command.

version        none           Displays the version and release date of the
                              program. This command is only available in
                              AT&T's System V.

visual         v              Invokes visual editor on a list of messages.

write          w              Appends messages to a file; doesn't include
                              headers. Otherwise, similar to save.

xit            x              Synonym for exit.

z+             z              Scrolls to next screenfull of headers.

z-             none           Scrolls to previous screenfull of headers.


III-CONFIGURER X-WINDOW ET LE NETWORK
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX


A-XWINDOW
---------

tapez "xf86config"
Là il va vous harceler de questions , on s'croierait avec les c......
de la DST :p
en gros mettez emulate 3 boutons oui
souris microsoft compatible
cherchez votre carte graphique dans la liste
a la fin mettez comme server x le 5 celui definit a partir des specifications
données sur votre amterial , ramdac de la carte graphique et clock bidul ,
passez on s'en fout :) rentrez par contre le ablayage vertical et horizontal
de votre moniteur , vous trouverez ca dans le manuel de votre ecran.
j'vous conseil de configurer  les resolutions en 1024*768 avec un ecran
virtuel.
pour changer de resolutions quand vous etes dans x pressez "alt +"
pour les moins neophites , un p'tit vi sur xf86config s'avere plus rapide ;)
apres vous tapez "startx"
et si vous avez pas fait de bourde totu va bien,o joie o miracle x se 
lance :))
Si marche pas , recommencez la configuration de xf86config,vous avez merdé
quelquepart.


Bonus : farfouinez un peut sous x pour voir les commandes dispos , en gros
vous pouvez ouvrir plusieurs login en pressant alt-ctrl-(f1 f2...)
pour revenir au premier "alt-ctrl-f7" enfin testez tout ca :)
ca peut servir plusieurs shells , n'oubliez pas que c'est du multitache
ex: vot shell de root avec la connect internet , un shell user pour l'irc...
pour quitter xwindows pressez : "ctrl alt et la grosse touche au-dessus de enter
avec un flèche vers la gauche : j'ai un trou de mémoire là ;))

B-LE NETWORK
------------

Alors la pleins de possibites , pour les plus temeraires on s'fait les p'tits
fichiers a la main :)
y vous faut un pilote ppp deja :)
si l'on a une addresse ip bien definie , il faut le signaler au port série
a l'aide de la commande /sbin/ifconfig

ex de commandes pour liaison SLIP:
/usr/sbin/slattach -s 33600 *dev/ttyS1 &
/sbin/iconfig slO 194.251.125.51 pointtopoint 194.163.125.42
/sbin/route add default gw 194.163.125.42

etablissement d'une connection entre 194.251.125.51 (vous) et 194.163.125.42
(le fournisseur d'acces)
(adresses bidons bien entendu...)

Dans le cas qui nous interesse plus d'une liaison ppp deux programmes etabli-
ssent la liaison : /usr/sbin/pppd et /usr/sbin/chat
avec les memes donnes que ci-dessus les commandes a taper sont :
/usr/sbin/pppd /dev/ttyS1 lock connect \
'char -f /etc/ppp/ppp.chat' crtscts modem \
defaultroute 194.251.125.51:194.163.125.42
dans le cas d'une ip dynamique , pas preciser la premiere addresse ip
pour arreter la connection : "/bin/killall slattach" (pour une liaison ppp)
pour slip rajouter "/sbin/ifconfig dlO doph" avant

Bon à la base là c'est pour les newbies et j'avoue que meme moi le manuel ca
m'prends la tete ;) alors allez sous xwindows et dans control panel
(en tout cas ca existe sur la redhat ) aller dans network config la
vous pouvez add une nouvelle connection dans "interfaces"rentrez le numero a
appeller , votre login pass , le dns du serveur (ip remote address), si vous
ne l'avez pas contactez; votre fournisseur d'accès et demandez lui mais
attention il ne faut rentrer que le seond , le premiere tant l'ip fixe alors
si vous n'en avez pas inscrivez rien mettez liaison 115200 et puis voila :)
suffit de presser active lorsque vous voulez vous connecter et il vous fera
ca comme un grand ; pour déconnecter pressez inactive :p).
Bon aller,on va faire encore plus simple , un ch'ti script bien pratique pour
vous configurer tout ca =) 
Ce pack est composé de 4 fichiers différents , coupez aux bons endroits :)

----cut--------cut-------------cut------------cut--------cut-----------cut----
README.TXT

Installation du script PPP.
=-=-=-=-=-=-=-=-=-=-=-=-=-=

1. Modifie le fichier ppp-on et met a la place de TELEPHONE= le numero de
   telephone de ton provider, ton login pour ACCOUNT, et ton mot de passe pour
   PASSWORD=...

2. Renomme ce fichier comme ca te plait, puis met le dans /usr/sbin par
   exemple.
---------------------------------------------------------------------------
TK4 NOTE : pour copier un fichier : cp fichier destination
---------------------------------------------------------------------------
3. Copie le fichier ppp-on-dialer et ip-up dans /etc/ppp
   ip-up est necessaire si tu as a la fois une carte ethernet et un access
   PPP.

4. Modifie le fichier /etc/resolv.conf et met :
   nameserver 123.123.123.123 (en fait tu mets le serveur DNS de ton FAI)

5. Verifie la securite de tes fichiers, pour qu'il soit en ---x--x--x 
   pour cela tape chmod 111 ppp-on. Verifie egalement la securite de tes
   fichiers de logs de ton syslogd.

6. Enjoy, lance ppp-on pour te connecter, puis ppp-off pour te deconnecter.
------------------------------------------------------------------------------
Script PPP-ON:
----cut-----cut--------------cut------------cut-------cut-------------cut----------

#!/bin/sh
#
# Script pour initier une connection ppp. C'est la 1ere partie des deux
# paires de scripts . Ce n'est psa une paire securisée de script si bien que 
# que les codes sont visibles avec la commande 'ps'.hehe,Simeple non?? ;)
#
# These are the parameters. Change as needed.
TELEPHONE=0123456789	# The telephone number for the connection (en decodé le numero
                        # du prestataire)
ACCOUNT=foo		# The account name for logon (votre login)
PASSWORD=bar		# The password for this account (votre pass)
LOCAL_IP=0.0.0.0	# Local IP address if known. (rentrez 0.0.0.0
                        # si vous avez pas d'ip fixe)
REMOTE_IP=0.0.0.0	# Remote IP address if desired. (la rentrez le DNS
                        # primaire de votre fournisseur d'acces)
NETMASK=255.255.255.0	# The proper netmask if needed (là laissez la valeur par defaut)
#
# Export them so that they will be available at 'ppp-on-dialer' time.
export TELEPHONE ACCOUNT PASSWORD
# 
# This is the location of the script which dials the phone and logs
# in.  Please use the absolute file name as the $PATH variable is not
# used on the connect option.  (To do so on a 'root' account would be
# a security hole so don't ask.)
#
DIALER_SCRIPT=/etc/ppp/ppp-on-dialer
#
# Initiate the connection
# 
# I put most of the common options on this command. Please, don't
# forget the 'lock' option or some programs such as mgetty will not
# work. The asyncmap and escape will permit the PPP link to work with
# a telnet or rlogin connection. You are welcome to make any changes
# as desired. Don't use the 'defaultroute' option if you currently
# have a default route to an ethernet gateway.
#
exec /usr/sbin/pppd debug lock modem crtscts /dev/ttyS1 38400 \
	asyncmap 20A0000 escape FF kdebug 0 $LOCAL_IP:$REMOTE_IP \
	noipdefault netmask $NETMASK defaultroute connect $DIALER_SCRIPT

------cut-----cut------cut-------cut-----------cut-------cut---------cut------
Script PPP-OFF :
------cut-----cut------cut-------cut-----------cut-------cut---------cut------

#!/bin/sh
######################################################################
#
# Determine the device to be terminated.
#
if [ "$1" = "" ]; then
	DEVICE=ppp0
else
	DEVICE=$1
fi

######################################################################
#
# If the ppp0 pid file is present then the program is running. Stop it.
if [ -r /var/run/$DEVICE.pid ]; then
        kill -INT `cat /var/run/$DEVICE.pid`
#
# If the kill did not work then there is no process running for this
# pid. It may also mean that the lock file will be left. You may wish
# to delete the lock file at the same time.
        if [ ! "$?" = "0" ]; then
                rm -f /var/run/$DEVICE.pid
                echo "ERROR: Removed stale pid file"
                exit 1
        fi
#
# Success. Let pppd clean up its own junk.
        echo "PPP link to $DEVICE terminated."
        exit 0
fi
#
# The ppp process is not running for ppp0
echo "ERROR: PPP link is not active on $DEVICE"
exit 1

------cut-----cut------cut-------cut-----------cut-------cut---------cut------
ppp-on-dialer :
------cut-----cut------cut-------cut-----------cut-------cut---------cut------

#!/bin/sh
#
# This is part 2 of the ppp-on script. It will perform the connection
# protocol for the desired connection.
#
exec chat -v						\
	TIMEOUT		100				\
	ABORT		'\nBUSY\r'			\
	ABORT		'\nNO ANSWER\r'			\
	ABORT		'\nRINGING\r\n\r\nRINGING\r'	\
	''		\rAT				\
	'OK-+++\c-OK'	ATH0				\
	TIMEOUT		100				\
	OK		ATDT$TELEPHONE			\
	CONNECT		''				\
	ogin:--ogin:	$ACCOUNT			\
	assword:	$PASSWORD

------cut-----cut------cut-------cut-----------cut-------cut---------cut------


IV-LES SCRIPTS 
XXXXXXXXXXXXXX

Bon alors qu'est ce qu'un script , et bien en gros c'est un regroupement
de commandes , hehe ca c'est de la definition :))))) en fait c'est du language
de programmation : c,c++,Perl et il faut le transformer en language machine
pour que votre ordi pige ; ba oui a la base c'est programme pas pour une
machine spécifique c'est du c ou ... tout court :)
en fait ce sont des petits programmes qui servent à ameliorer , booster ,
(Je rapelle que le C est un language de programmation doc forcement faut le
compiler votre programme sinon forceme marche poa :p.)
rajouter des commandes a un programme existant.De plus certains scripts peuv-
ent etre très utils dans le hacking comme des spoofers , script d'icmp amel-
iorant la commande ping initiale...
Ces scripts sont la plupart du temps non compilés,ainsi vous pouvez le compi-
ler pour votre type de machine.
si vous avez linux ou un unix systeme V...
pas de panique c'est tout con pour compiler :)
vous tapez : 
cc toto.c -o toto
ou gcc toto.c -o toto (ceci est le compilateur GNU)
(exemple si le script s'apelle toto.c :))
et la vous avez le programme près à etre executé.

PHASE DE COMPILATION D'UN PROGRAMME EN C :

    --------------            -------------             ---------
    fichier source ---------->fichier objet ----------->Programme
    --------------            -------------     ^       ---------
                                                |
                                                |
                                                |
                                          -------------
                                          Bibliotheques
                                          -------------
           
           
V-L'EDITEUR DE TEXTES VI
XXXXXXXXXXXXXXXXXXXXXXXX

La rien de bien complqiue masi vu est vital pour tout linuxien qui se respecte
alors faut mieu xsavoir s'en servire car vous verez par exemple plus loin dans
cette doc que pour creer un .rhosts par exemple , ca peut servir =)
alors totu con pour creer un fichier tapez "vi lenom du fichier"
pour editer un fichier pareil vi et le nom du fichier
Vous avez deux modes dans vi , le mode commande et le mode saisie
au debut vous vous trouvez dans le mode commande , la vous n'pouvez rien
ecrire , il vout faut passer en mode saise en appuyant sur a ou i
a(append);i(insert)
toutes les modifications sont effectuées sur une memoire tampon qui sera plus
tard enregistrée sur le disk lorsque vous quitterez l'editeur en tapant "ZZ"
pour quitter l'editeur sans sauvegarder les modifications : taper : :q! puis
validez entrée
pour enregistrer sur le disk des modifs sans partir immediatement taper :
:w puis valider entrée
touches directionnelles pour se balader dans le texte
Voila en gros les commandes courantes , il existe bien trop de commande pour 
que je puisse en effectuer un inventaire complet ici.

VI-COMMANDES TELNET ET RLOGIN
XXXXXXXXXXXXXXXXXXXXXXXXXXXXX

A-TELNET
--------

Vous serez amene a les utliser tres frequemment alors mieux vaut bien les
connaitre des maintenant.
Bon telenet en gros ca sert a se connecter sur une autre machine et plus
particulierement c'qui nous interesse : un serveur unix systeme V.
cependant la commande telnet est assez souple et ne recquiert pas que l'autre
machine soit sous un system UNIX juste la gestion des protocoles TCP/IP suffit
Vous avez deja je pense fait du ftp et bien a la difference du ftp ou vous ne
pouviez juste recuperer des fichiers sur le disque du serveur et bien en 
telnet , vous pouvez controler ce serveur , c'est a dire lui faire effectuer 
des taches , comme lui meme effectuer un ftp sur un autre server ou une cray 
decrypte pour vous des pass par exemple ;).Cependant pour ces operations il
vous faudra un acces complet au systeme : le root , un acces user etant tres
limite , a votre seul repertoire...
Ce systeme devient en fait votre systeme et éffectue les taches auxquelles
vous l'aurez affecté.
Les commandes a taper en telnet sont de l'unix, donc rien de depaysant
pour annuler une operation pressez "ctrl-c"
ls:liste des fichiers
mkdir:créer un repertoire
cd ..:sortir d'un repertoire
cd repertoire:rentrer dans un repertoire
...
bon now arrivons au telnet par lui meme pour realiser un telnet tapez :
telnet adresse
vous arriverez alors a un prompt qui vous demandera de rentrer un login puis
un pass
apres cela vous avez le shell comme sous linux :)
Vous pouvez aussi vous connecter a un port précis voulu comme le port 25 des
mails : tapez : telnet adresse 25
--->Voir la section sur les ports pour plus de details

B-RLOGIN
--------

La fonction pratique par excellence , j'explique un peu :
un rlogin vous permet de vous loguer sur une machine sans avoir a donner de
pass :) j'vous vois deja avec un gros souris jusqu'aux oreilles mais c'est pas
si simple ;)
En effet comme expliqué dans une autre partie , en montant un repertoire
export et en prenant ce login , l'on peut alors passer par le rlogin adresse
et etre alors directement logué dans c'te repertoire :)
(pratique pour recuperer /etc/passwd ou foutre un .rhosts)
(euhh paniquez pas j'aborderais longement et en detail ca plus tard =))
La seule probleme est lorque vous tombez sur des rlogin patchés alors la pas
de bol :((( car bien qu'elle fesait confiance a c'te putain de machine y a une
demande de pass :((
(ps : paniquez pas y a d'autres failles notamment les NIS et là y peuvent pas
y faire grand chose :))) ;))

C-RSH
-----
Permet de vous connecter comme avec un rlogin mais en toute propreté , vous
ne serez pas logué , plus qu'à vous envoyer un xterm de là et c'est dans la
poche :)
commande : "rsh machine -l login csh -i"
Pour vous envoyer un xterm de la machine:"xterm -display 154.248.56.12:0 &"
(154.248.56.12 etant votre ip donc rentrez pas c'te valeur)
en meme pas oubliez pas de faire un ch'ti "xhost +" chez vous sinon le xterm 
que vous enverra le serveur ne sera pas accepté car 'non authorisé'(de plus pas
oublier de refaire un "xhost -" juste après car tout le monde peut se connecter
sur votre machine sinon...).



PARTIE II : BASES EN PROTOCOLES TCP/IP
--------------------------------------


1-HISTORIQUE
XXXXXXXXXXXX

En 1969,le DARPA 'defense advanced research projects agency' met en projet un
réseau de communication à paquets.Ce reseau : Arpanet a ete concu afin de
tester les techniques permettant d'obtenir des transmissions de données
fiables.En 1983,les protocoles TCP/IP sont adoptés comme standarts militaires;
Ces standarts sont alors doc appliqués sur le reseau ; de plus il est adopté 
sur la version unix de l'universite de Berkeley;ce fut alors le commencement de 
la relation unix-protocoles TCP/IP.
En meme temps de l'adoption du TCP/IP , le terme internet émmerge de l'ancien
ARPANET.

caracteristiques des protocoles TCP/IP :
----------------------------------------

-indépendants du systeme d'exploitation ou des machines utilisées:
standarts de protocoles ouverts.

-indépendant aussi du systeme de reseau,ainsi TCP/IP peut intégrer différents 
types de reseaux:Ethernet,X25,liaison commutée...

-plan d'adressage commun

Les RFC contiennent les dernieres spécifications des différents protocoles ...
Ainsi , la description precise du modele en couche de TCP/IP ne peut etre 
detaillée vu qu'il n'existe pas d'accord general quand a ce modèle.
ON peut neanmoins citer le modèle OSI comportant 7 couches :
*Couche application
*couche presentation
*couche session 
*couche transport
*couche reseau
*couche liaison de données 
*couche physique

Cependant afin de mieux cerner tcp/ip on peut le resumer au modèle suivant:

*couche accès:comporte les instructions permettant d'acceder aux resaux
physiques.
*couche internet:definit le datagramme et prend en charge le routage des
données.
*couche transport(hote à hote)
*couche application:comporte les applications et processus utilisant le réseau.


2-TCP
XXXXXX

TK4 NOTE:Les paragraphes tcp et ip sont extraits d'un texte de KEWL paru dans
         le NOROUTE1,pour plus de renseignement sur ces protocoles allez
         vous referer a ce document.


TCP = Transmission Control Protocol, il est oriente connexion, dont la 
   vie est l'etablissement de la connection, la transmission des donnees et 
   enfin la liberation de la connection. TCP ramene les segments sans decoupage
   ni regroupement, et garantie le bon port. En cas d'erreur de transmission, 
   ben c'est tout simplement retransmi :), biensur grace a un controle de
   flux. TCP est utilise par les protocoles ftp, telnet, rlogin, lpd, X11.
   TCP est le protocole #6.


3-IP
XXXX

Ben c'est celui à qui on doit le routage et la fragmentation des paquets,il
est sans connection. Quand on dit routage,en fait on va dire que son boulot
est de trouver le routeur qu'il faut pour atteindre la destination,alors c'est
grace à lui que la bonne interface est choisie. Donc aussi il gère
la fragmentation des paquets,ben ouais il faut bien,car les protocoles
supérieurs (TCP/UDP) sont coupés en fragments IP de taille maximale qui dépend
de l'interface utilisée. En reception, IP reassemble les fragments. Cette
taille depend(pc de cod4 plante)du support utilisé(1500 octets sur l'ethernet
et 4352 sur une fibre optique FDDI).
(ps : a vi modification des fotes d'aurthographess initiales ;)) desole kewl ;)


TK4 addition :) :
-----------------

Ce protocole transmet les données entre hotes sous la forme de datagrammes ,
Chaque datagramme est transmit a l'adresse contenue dans le cinquieme mot de
l'entete (adresse ip du destinataire).L'adresse du destinataire est codée sous
32 bits et contient les informations servant à identifier le reseau et/ou la
machine hote.Une adresse ip comporte deux parties , les deux premier nombres :
ex:194.149... qui informe de la partie reseau et les deux derniers l'adresse
spécifiques de l'utilisateur(dans le cas d'une ip fixe , cette ip sera invar-
iante au cours des connections sur le reseau).
Je ne parlerais pas des différentes classes , référez vous au noroute pour ca :)
Sinon j'ai pas fini ... :p
et puis y a les adresses sous reseaux..enfin bon on voit ca en gros alors
ne compliquons pas :)
Bon allez juste un ch'ti coup pour vot culture :
-pour une addresse de classe A :
on a 8 bits reservés au reseau et 24 bits à l'hote
-pour une adresse de classe B :
on a 16 bits reservés au reseau et 16 bits à l'hote
-pour une adresse de classe C :
on a 24 bits réservés au reseau et 8 bits à l'hote

ex:

26.105.0.16 <classe a>    129.60.13.1 <classe b>   194.182.17.3  <classe c>
<-><------->              <-----><---->             <-------><->
8b reseau   24bits hote   16b reseau 16b hote       24b reseau 8b hote


4-LES PORTS,SOCKETS
XXXXXXXXXXXXXXXXXXX

PORTS : 
-------

Dès qu'IP a transmis les données au protocole de transport,on arrive a la couche
application (arrive à l'autre systeme);Ces services entrants et sortants du reseau 
sont identifiés au moyen de numéros(ports),qui sont des valeurs de 16 bits.
Le numéro du port de la source et celui du destinataire sont contenus dans l'ent-
ète de TCP.
Sur les systèmes UNIX,les numéros de ports et leur attribution spécifique sont
contenus dans /etc/services.
PORTS<256 :services réservés (ftp ,telnet..)
256<PORTS<1024 :Services spécifiques à Unix (rlogin...)
ex : mail port 25
     ftp port 21
     telnet port 23
    
SCHEMA:Numéro de protocole et de port
-------------------------------------

                        TELNET port 23
                           ^
                           |
                           |
                           |
                          TCP protocole 6
                           ^
                           |
                           |
                           |
                      Protocole internet
                           ^
                           |
                           | adresse xxx.xxx.xx.xx
                           |
               |||||||||||||||||||||||||||||||||||||||||||||
               |||||||||||||||||||||||||||||||||||||||||||||
3eme mot  -->  |||||||||||||   6    ||||||||||||||||||||||||
entète diagrame|||||||||||||||||||||||||||||||||||||||||||||              
5eme mot  -->                 xxx.xxx.xx.xx
               ||||||||||||||||||||||           23          <--premier mot de
               ||||||||||||||||||||||||||||||||||||||||||||| l'entète du segment.

SOCKETS :
---------

Le groupement d'une adresse ip et d'un numéro de port est dénommé socket.
Un socket permet d'identifier de maniere absolument unique une opération reseau.
Avec la relation sockets source-hote,ceci engendre que cette paire de socket
définit l'unicité de la connection realisée. 

Pour plus de detais sur TCP/IP --------->Noroutes précédents.


444444444444444444444GREEEEEEEEEEEEEEETTTTTTTZZZZ444444444444444444444444444444
4 GREEETTZZZ : LordFrog,HotCode,Kewl,Cod4,Kemp,Beflo,Ackboo,Dhea,Doc|Sedov    4
4 la #banane,#starsystem,#infonie,A|vin,Ben_Be,Rapha,Afauveau,Net-Run,Titia   4 
4 Paf,DrGiggles,T|lde,Sibere,U|t|matum AND bien entendu tous les membres de   4
4 The Daemons' Phaktory ; et tous ceux qu'j'ai oublié :)                      4
4 A vi j'allais oublier,mon chien mort,mes futurs et ex petites amies,        4
4 ps : n'hésitez pas si vous etes brune yeus bleus/verts 1m80 90/60/90        4
4 une ch'tite photo ca serait kewl TK4H@hotmail.com ;)                        4
4 be vi j'y peut rien si j'aime trop les femmes moi :)                        4
4 ps2 pour la dst : c'est mon point faible , à exploiter... :pp               4
4 A VI FUCK D.S.T ( Devoirs Sur Table bien sur!! ca m'rapelle c'te merde de   4
4 lycée ca :((( heureusement fini now :))) LE 4 VIVRA!!!!!!!!!!!!!!!!!!!!     4
4444444444444444444444444444444444444444444444444444444444444444444444444444444


