
                        _                   _          
                       | |                 | |         
          _ __ ___  ___| |__   ___ _ __ ___| |__   ___ 
         | '__/ _ \/ __| '_ \ / _ \ '__/ __| '_ \ / _ \
         | | |  __/ (__| | | |  __/ | | (__| | | |  __/
         |_|  \___|\___|_| |_|\___|_|  \___|_| |_|\___|
                                              
                                              
          _        __                           _   _             
         (_)      / _|                         | | (_)            
          _ _ __ | |_ ___  _ __ _ __ ___   __ _| |_ _  ___  _ __  
         | | '_ \|  _/ _ \| '__| '_ ` _ \ / _` | __| |/ _ \| '_ \ 
         | | | | | || (_) | |  | | | | | | (_| | |_| | (_) | | | |
         |_|_| |_|_| \___/|_|  |_| |_| |_|\__,_|\__|_|\___/|_| |_|
                                                         
                                                         


    -- [ Méthodologie de la recherche d’information :


Nous avons vu précédemment que notre cher Tolwin avait visité l’ordinateur
de Raoul de Bergerac ! Mais ce qu’il n’a pas précisé c’est que pour ma part
je travaille dans l’entreprise de Raoul… en ayant accès a son réseau… Mais
en plus de ça, j ai aussi accès à son site depuis la maison… que demande de
mieux J…

Alors pour ne pas être trop long, je vais vous expliquer qu’elle méthode j’ai
utilisé pour obtenir le maximum d’information concernant son réseau …

Avant d’attaquer un systèmes nous devons collecter un maximum d’information
(N’est ce pas Night J ) Et cette recherche de renseignements ce qui représente
environ 40 % de notre travail.

Donc dans un premier temps je m’intéresse aux sources publiques.


-	Recherche dans des sources publiques


 - Whois

Les whois sont des services proposés, en ligne et gratuitement, qui permettent
d’obtenir des informations sur un domaine particulier :

 - whois.ripe.net qui s’occupe de l’attribution des adresses IP en Europe 
 - whois.apnic .net qui s’occupe de l’attribution des adresses IP pour l’ASIE
   Pacifique
 - whois.nic.mil gère l’attribution des adresses IP des systèmes militaires
   américains
 - whois.nic.gov : qui gère l’attribution des adresses IP des systèmes du
   gouvernement
…

Les informations fournies par les whois peuvent être obtenues grâce a la
commande whois de Unix, à l’aide de programme ou à l’aide de site proposant
une base de données de recensement des noms de domaines.

-	Les groupes de discutions

Les groupes de discutions ou newsgroup permettent d’avoir des informations
techniques sur un sujet précis. Si un poste du domaine de notre cher Raoul
demande des informations sur la configuration d’un système réseau, alors on
peut récupérer des informations très importantesJ.

Notre pauvre Raoul est toujours aussi fou…Il est sur de ne rien dévoilé mais
le danger viens aussi de ses employés …

-	Le site de la cible

Le site de notre Ami Raoul est tout beau, tout neuf et tout sécurisé … enfin
c ce qu’il pense.. Son site peut nous fournir beaucoup d’informations comme des
adresses, des mails, des commentaires permettant de remonter aux développeurs…

Les aspirateurs de site permettent d’automatiser ces recherches (WebCopier ,
HTTrack, Teleport Pro…)


-	Les annuaires et la presse

Les pages jaunes peuvent être une bonne très bonne source d’information. On
peut trouver le numéro de téléphone de l’entreprise de Raoul est ainsi lancer
des attaques sur les réseaux téléphoniques …

La presse parfois peut aussi nous aider comme par exemple par le biais d’une
interview sur la politique de sécurité de l’entreprise… Malheureusement Raoul
n’a rien fait de ça … Mais c’est pas grave, on a encore beaucoup de chose à
regarderJ.

-	Les moteurs de recherche et les agents intelligents

La principale arme pour trouver les informations à propos de l’entreprise de
Raoul est de manipuler correctement les outils de recherche d’informations sur
l’Internet... Et donc trouver les mots-clés intéressant a utiliser J

-	Social engineering et trashing

Bon cette partie est traité dans tt les endroits du net je ne vais pas m’y
prolonger, pour réussir, la solution ce de lire des livres de psychologies :p
et de manipuler notre cher Raoul qui se crois si fort ! Pour ce qui concerne
Raoul le plus simple c de faire l’ignorant et de venter sa « pseudo » maîtrise
de l’information… se croyant si fort il déballera tout cet idiot J
Mais bon j’ai dis que je m’y étalerais pas, donc à votre google pour ce sujet
la…


Utilitaires et outils automatisés

	Ping

Le ping est une fonction importante car elle permet de savoir si une adresse
IP est attribuée... Elle va permettre de savoir ou est situé Raoul, à qui
appartient l IP… On peut pinger des machines grâce à différant logiciel : 
nmap, Pinger de Rhino9, Ping Sweep de SolarWind…

Les interpréteurs de commande intègrent aussi une commande ping. Voici
quelques options sous MS-DOS :

  -t : envoie des requêtes ping sur l’hôte jusqu’à ce qu’une personne l’interrompe.
  -a : permet de résoudre une adresse IP en nom d’hôte.
  -i x : permet de déterminer le TTL des paquets ping
  -n x : permet d’envoyé un nombre déterminé de paquets ICMP_ECHO_REQUEST


La commande ping envoie des paquets de type ICMP_ECHO_REQUEST et reçoit des
paquets de type ICMP_ECHO_REPLY


	Traceroute et tracert

Traceroute (pour Linux) et tracert (pour windows) permettent de tracer et
suivre le chemin emprunté par un paquets pour arrivé au système de notre
cher et tendre Raoul ! On peut aussi déterminé la topologie d’un réseau.
Normalement la dernière adresse IP marquée doit être celle du destinataire.
Pour notre Raoul c’est la cas… Mais si ce n’était pas le cas, cela signifierait
qu’un système filtrant est placé avant le système du destinataire.

En remarque, on pourrait conseiller d’appliquer le port 53 à nos paquets envoyés
par traceroute et tracert car ce port n’est généralement pas filtré sur les
systèmes de filtrages de paquets..
Ici encore il existe des logiciels pour pinger et tracer notre cher Raoul :
Tridcomm – Neotrace Express 3.25 – Ping Plotter.

	Commande DOS utiles

PING : Permet de savoir si un système est connecté, et d’obtenir des informations
       sur le système.

NETSTAT : Permet d’obtenir des informations locales sur TCP/IP, et d’obtenir l’IP
          d’une personne sous MSN/ICQ … avec qui on a engagé une conversation.

NBSTAT : Permet de voir les informations sur les connexions TCP/IP du système
         cible utilisant NETBIOS.

NET VIEW : Permet de voir les ressources partagées de la machine cible.

NET USE : Permet de se connecter à la ressource partagée spécifiée.

Il y a bien sur d’autres commandes (comme arp, route, nslookup...)
Pour connaître les options de ces commandes il faut utiliser l’aide (help)

	Finger

C’est un utilitaire qui permet d’obtenir des informations sur les utilisateurs
du système de Raoul, je vais sûrement me retrouver dans cette liste J… C’est
aussi un protocole utilisant par défaut le port 79.


	Message d’erreur des serveurs

Les messages d’erreurs du site peuvent nous être utiles, car ça peut nous
permettre de déterminer le type et la version du serveur cible…

Pour afficher des messages d’erreur il existe plusieurs méthodes mais si j’explique
tout je vais pas en finir et Raoul sera déjà parti du travail…(Pointer vers des
fichiers inexistant..)

	Bannières

Une bannière est un bloc de texte que l’on obtient lorsque l’on se connecte aux
ports d’un système. Une bannière donne généralement l’ OS, la version et le nom
du serveur (Ex : serveur FTP). La meilleure parade serait de modifier la bannière,
et le port par défaut du service, mais heureusement notre Raoul n’y a pas pensé… J

	Transferts de Zones

- Les requêtes

	A	Permet de résoudre un nom d’hôte en adresse IP. Pour cela, il faut
                le nom d’hôte de la machine à résoudre et l’adresse du DNS ayant
                autorité sur la machine

	ANY	Permet d’avoir tous les enregistrements qu’un serveur DNS a dans
                son cache au sujet d’une machine particulière. Pour cela, il faut
                le nom d’hôte de la machine à résoudre ou son adresse IP  et
                l’adresse du DNS ayant autorité sur la machine

	AXFR	Permet de faire un transfert de zone sur un DNS. Il faut l’adresse
                du DNS autoritaire et le nom de domaine de la cible (ex : free.fr
                sans le www)

	CNAME( cannonical name) 	Permet de résoudre le nom de d’hôte d’un
                                        système à partir d’un de ses alias. Pour
                                        cela, il faut l’adresse du DNS autoritaire
                                        et celle d’un alias du système cible.

	HINFO (host info)	        Permet d’avoir la configuration (matérielle
                                        et logiciel).Pour cela il faut l’adresse du
                                        DNS autoritaire et du système de la cible

	MX (Mail exchange)	        Permet d’avoir l’adresse IP et le nom d’hôtes
                                        des machines utilisées pour l’acheminement
                                        du mail sur le nom de domaine de la cible.
                                        Pour cela il faut l’adresse du DNS autoritaire
                                        et le nom de domaine de la cible.

	NS (name server)	        Permet d’avoir les adresses des machines
                                        (serveurs DNS) résolvant les noms d’hôtes d’un
                                        domaine. Pour cela il faut l’adresse du DNS
                                        autoritaire et le nom de domaine de la cible.

	PTR (pointer)	                Permet de résoudre une adresse IP en nom d’hôte.
                                        Pour cela, il faut l’adresse IP de la machine et
                                        l’adresse du DNS autoritaire

	SOA (start of autority) 	Permet de savoir l’adresse du DNS principal.
                                        Pour cela il faut l’adresse d’un des serveurs
                                        DNS du réseau.


	Transfert de zones

Lorsqu’un serveur DNS Secondaire a besoin de mettre à jour ses enregistrements,
il fait ce qu’on appelle un transfert de zone à partir du serveur DNS principal.
Quel intérêt allez vous me dire ? Si nous faisons un transfert de zone à la place
d’un serveur secondaire, on aura sur l’écran toutes les informations concernant
le réseau de se cible sans scanner les machines du réseau et sans faire de recherche J..

Là encore il existe certains programmes qui permettent d’interroger les DNS :
Dns Expert – Ipcheck – rPing.

	Cartographie

Cartographier un réseau va permettre d’obtenir la topologie du réseau et la
localisation des éléments du réseau. Les logiciels permettant de cartographier les
réseau font partie des outils des administrateurs, mais aussi peut être un outil
utile pour nous car il nous permettra d « analyser et de surveiller les systèmes du
réseau de notre cher Raoul… qui a ce stade la devrait commencer à s’inquiéter
grandement … car ça devient dangereux mouahHhhhHHh … ^^ désole me suis excité sur
le coup..

Bon on continue il reste plus grand-chose J


	Les messages électroniques

L’analyse du message électronique permet d’obtenir des informations comme l’adresse
IP et les logiciels de messagerie de la cible. Les informations voulues sont situées
dans les en-têtes du message envoyé… ( renseignez vous un peu de ce côté la..)


	Recensement des systèmes et des ressources partagées

Le recensement est une étape importante dans la recherche car c’est à ce moment
qu’il faut commencer à cibler les attaques sur les points faible du système.

Winnt :
A l’aide des commandes DOS net view et net use, il est respectivement possible de
voir et d’accéder aux ressources partagées du systèmes… Il est possible de faire un
recensement des bannières à l’aide de Telnet pour connaître les services qui tournent
sur le système cible. 

Linux :
Comme sous windows on peut recenser les ressources partagées et les utilisateurs mais
les commandes sont bien sûr différentes. Pour recenser les ressources partagées, on
peut utiliser la commande showmount et pour recenser les utilisateurs il faut
utiliser la commande finger. Il est aussi possible de recenser les bannières grâce
à la commande netcat.

	Les divers scanners


Internet scanner
Database scanner	== >  		de ISS (www.iss.net)
System scanner     
Wireless Scanner
Nessus 			== > 		www.nessus.org
Nmap			== >		www.insecure.org
Retina			== > 		www.eeye.com


Pour finir quand même, pour aider notre pauvre Raoul une partie pour lui J :

	Parades

Malheureusement pour notre cher Raoul, il n’y a pas de parades aux techniques de
recherches d’informations décrites dans la première partie puisqu’il est difficile
de contrôler l’accés.
Si l’on donne de fausses informations, on ne respecte plus les exigences légales…
On ne peut cependant à chaque fois donner que les informations minimales. En ce qui
concerne le social engineering, les employés doivent être formés pour répondre à ce
genre de pratiques. Et ça mon Raoul c’est a toi de faire ce boulot et de leur expliquer
qu’il doivent toujours contacter un responsable pour ce genre d’information.

En ce qui concerne la deuxième partie, la parade possible est de modifier les bannières,
d’équiper le réseau de firewall BIEN CONFIGURER J, de n’autoriser les transferts de zones
qu’aux systèmes voulus, de surveiller les informations que contiennent les en-têtes des
emails.

Cette dernière partie est très largement survolé… la sécurité d’un réseau est comme vous
le savez beaucoup plus complexe, mais en gros les directions a suivre sont celles
expliqués au dessus.

Donc j’espère que Raoul lira ce document et qu’il fera le nécessaire pour corriger
les erreurs le concernant J.
Sinon je serais obligé d allez faire le nécessaire … mais vu que Tolwin s’est déjà
occupé de son fixe, il serait regrettable que je m’occupe a mon tour de son entreprise J

Greetz : Tolwin – bleyme – Scanx – Icing – Night_Fall – P41f0x - Drim

    -- [ Yp3rite



