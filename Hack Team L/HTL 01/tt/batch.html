<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

<script language="javascript" type="text/javascript"><!-- 
if (window.top.location.href.indexOf("http://membres.lycos.fr")!=-1) window.top.document.body.cols="*" 
//--> 
</script>

<title>Document sans titre</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#000000" text="#FFFFFF" link="#FFFFFF" vlink="#FFFFFF" alink="#FFFFFF">
<div align="center">
  <h1>BATCH</h1>
  <p align="left"><br>
    Bien que tout soit expliqu&eacute; dans batch creator, mon soft telechargeable
    sur http://www.ilsa.fr.st j'ai tenu a mettre ce vieux tuto de moi qui a plus &agrave; pas
    mal de personnes</p>
  <p align="left">1) echo</p>
  <p align="left">les bases...</p>
  <p align="left">la commande &quot;echo&quot; &agrave; plusieurs utilit&eacute;s<br>
    echo permet d'afficher du texte exemple :</p>
  <p align="left">echo salut</p>
  <p align="left">ceci affichera<br>
    c:\windows\Bureau&gt;echo salut<br>
    salut</p>
  <p align="left">mais qu 'est ce que ce c:\windows\Bureau qui vien de s'afficher ???!<br>
    c 'est le prompt, retenez juste son nom, cela ne vous servira que... plus
      tard<br>
    il y a un moyen pour que juste &quot;salut&quot; soit affich&eacute;<br>
    c 'est une commande qui ce pr&eacute;sente sous cette forme : &quot;echo
    off&quot;<br>
    donc si vous ecrivez :</p>
  <p align="left">echo off<br>
    echo salut</p>
  <p align="left">il S 'affichera<br>
    c:\windows\Bureau&gt;echo off<br>
    salut</p>
  <p align="left">et la, d&eacute;solation... le prompt s'affiche encore, suivi de echo off...<br>
    MAIS pour ce qui en suit il n'y sera pas pr&eacute;sent, ni les commandes!
    (il ne s'affichera pas &quot;echo salut&quot; mais &quot;salut&quot;)<br>
    mais comment faire pour que le prompt et &quot;echo off&quot; ne s'affiche
    pas?<br>
    il y a une technique : le &quot;@&quot; permet pour ce qui en suit que le
    prompt et la commande ne soit pas afficher<br>
    donc pour afficher &quot;salut&quot; je peut ecrire</p>
  <p align="left">echo off<br>
    echo salut</p>
  <p align="left">OU</p>
  <p align="left">@echo salut</p>
  <p align="left">et donc si vous avez un peut de jujote cette commande &agrave; dut faire
    tilte dans votr t&ecirc;te!<br>
    si vous voulez que pendant tout votre programme le prompt et aucune commande
    disgracieuse (lol) ne soit afficher<br>
    vous mettez en t&ecirc;te de votre batch &quot;@echo off&quot;</p>
  <p align="left">encore une utilit&eacute;e de echo,<br>
    c 'est echo. , cela permet de sauter une ligne</p>
  <p align="left"><br>
    ----------------------------------------------------------------------------------------------------------------<br>
    2) PAUSE</p>
  <p align="left">pause est une commande tres simple<br>
    des que vous entrez pause, le programme attend que vous appuiez<br>
    sur une touche pour continuer... et affiche le texte : appuiez sur une touche
    pour continuer...<br>
    si vous voulez personnaliser ce message ecrivez</p>
  <p align="left">echo votre_message<br>
    pause&gt;nul</p>
  <p align="left">le &quot;plus grand que&quot; est une redirection, ce que vous verez plus
    tard...</p>
  <p align="left"><br>
    ----------------------------------------------------------------------------------------------------------------<br>
    3) CLS</p>
  <p align="left">cls permet d'effacer l'ecran, c'est une commande tres utilis&eacute;e !!<br>
    exemple:</p>
  <p align="left">@echo off<br>
    echo salut ga !<br>
    echo.<br>
    echo presse une touche!<br>
    pause&gt;nul<br>
    Cls<br>
    echo cool</p>
  <p align="left"><br>
    ----------------------------------------------------------------------------------------------------------------<br>
    4) DIR</p>
  <p align="left">(1)<br>
    la commande dir permet d'afficher le contenu d'un dossier<br>
    voici sa syntaxe :<br>
    DIR [lecteur:][chemin] [P] [\W] [\A[[:]attribut]] [\O[[:]trispecifique]]
    [\S] [\B][\L][\4]</p>
  <p align="left">ouf... ca a l'air compliqu&eacute; tout ce charabia !<br>
    explication...<br>
    si vous voulez afficher le contenu de windows vous devez ecrire ceci :</p>
  <p align="left">dir c:\windows</p>
  <p align="left"><br>
    (2)<br>
    mais... vu le nombre &eacute;ffarant de fichier dans windows, vous n'aurez
    pas le temps<br>
    de tout voir! ecrivez alors ceci :</p>
  <p align="left">dir c:\windows \P</p>
  <p align="left">le &quot;\P&quot; permet de marquer un arret appr&eacute; chaque page...</p>
  <p align="left"><br>
    (3)<br>
    SI vous voulez afficher le resultat sur 5 colones ecrivez ceci :</p>
  <p align="left">dir c:\windows \W</p>
  <p align="left">et rajoutez le &quot;\P&quot; pour marquer une pause a chaque page :</p>
  <p align="left">dir c:\windows \P \W</p>
  <p align="left">(l'ordre entre \P et \W n'a pas d'importance...)</p>
  <p align="left"><br>
    (4)<br>
    si vous voulez maintenant afficher tout les fichiers cach&eacute; pr&eacute;sents
    dans windows<br>
    ecrivez ceci:</p>
  <p align="left">dir c:\windows \A:H</p>
  <p align="left">il suffit de mettre le &quot;\a:&quot; suivi des lettres:<br>
    D pour les repertoires<br>
    A pour les fichiers archive<br>
    R por les fichers en lecture seule<br>
    H pour les fichiers cach&eacute;s<br>
    S pour les fichiers systemes</p>
  <p align="left">maintenant si vous voulez afficher les dossiers dans un ordre specifique<br>
    par exples par taille vous ecrirez :</p>
  <p align="left">dir c:\windows \O:S</p>
  <p align="left">il suffit de mettre le &quot;\O&quot; suivvit des lettres<br>
    N pour un ordre alphabetique (par defaut)<br>
    E pour un classement en fonction des extentions<br>
    A pour un classement en fonction des derniers acc&egrave;s<br>
    S pour un classement en fonction de la taille</p>
  <p align="left"><br>
    (5)<br>
    mettez le &quot;\S&quot; si vous voulez avoir la liste des sous r&eacute;pertoires
    en plus (en bref mettez ca si vous voulez avoir une liste compl&egrave;te)</p>
  <p align="left"><br>
    (6)<br>
    normalement si vous faite par exemple &quot;dir c:\windows&quot; il s'affichera
    la<br>
    liste des dossier ainsi que des commentaires qui sont les suivants</p>
  <p align="left">Le volume dans le lecteur C n'a pas de nom<br>
    Le num&eacute;ro de s&eacute;rie du volume est xxxx-xxxx<br>
    ainsi que la date, taille etc... a cot&eacute; des fichiers</p>
  <p align="left">si vous mettez le &quot;\B&quot; cela n'affichera pas les &quot;commentaires&quot;</p>
  <p align="left"><br>
    (7)<br>
    le &quot;\L&quot; permet d'afficher en minuscule</p>
  <p align="left"><br>
    (8)<br>
    le &quot;\V&quot; permet d'afficher des commentaires supl&eacute;mentaires</p>
  <p align="left"><br>
    (9) le &quot;\4&quot; afficher en plus les 4 chiffres de l'ann&eacute;e...</p>
  <p align="left">----------------------------------------------------------------------------------------------------------------<br>
    5) DEL</p>
  <p align="left">ceci est une commande m&eacute;&eacute;&eacute;&eacute;chaaaante !! lol<br>
    elle permet d'effacer un ficher!<br>
    sa syntaxe est tres simple, c'est del suivi du chemin ! par exemple :</p>
  <p align="left">del c:\autoexec.bat</p>
  <p align="left">(autoexec.bat est un fichier essenciel a votre ordinateur!)</p>
  <p align="left">----------------------------------------------------------------------------------------------------------------<br>
    6) DELTREE</p>
  <p align="left">cette commande est quasi-similaire &agrave; &quot;DEL&quot; sauf quel efface
    un r&eacute;pertoire complet<br>
    ainsi que tout ses sous dossiers et ses fichier</p>
  <p align="left">seul inconvegnant c'est quel demande une confirmation<br>
    pas de probl&egrave;me... mettez &quot;\Y&quot; cela fait qu'il n'y a pas
    demande de confirmation<br>
    exemple</p>
  <p align="left">deltree c:\windows \y<br>
    echo tu est mouerta !!!</p>
  <p align="left">lol</p>
  <p align="left">----------------------------------------------------------------------------------------------------------------<br>
    7) CD</p>
  <p align="left">&quot;cd&quot; permet de ce placer dans un r&eacute;pertoire<br>
    par exeple si vous vous placer dans le repertoire test<br>
    et que vous affichez tout les dossier, vous allez afficher tout<br>
    les dossiers du repertoire test! exemple</p>
  <p align="left">cd c: util</p>
  <p align="left">(&quot;cd ..&quot; = ce place dans le repertoire parrent)</p>
  <p align="left">----------------------------------------------------------------------------------------------------------------<br>
    8) attrib</p>
  <p align="left">attrib modifie les attributs d'un fichier</p>
  <p align="left">attrib [+R\-R] [+A\-A] [+H\-H] [fichier]</p>
  <p align="left">+R active la protection en ecriture<br>
    -R fait le contraire<br>
    +A active l'attribut d'archivage<br>
    -A annule l'attribut d'archivage<br>
    +H active l'attribut de cach&eacute;<br>
    -H fait le contraire</p>
  <p align="left">exemple</p>
  <p align="left">attrib +H c: est</p>
  <p align="left">----------------------------------------------------------------------------------------------------------------<br>
    9) ettiquettes</p>
  <p align="left">une etiquette ce pr&eacute;sente sous cette forme :<br>
    : etiquette</p>
  <p align="left">2 points suivis d'un nom ne pouvant pas depasser les 8 caract&egrave;res<br>
    tout ce qui suit cette etiquette X jusqu'a une autre etiquette Y sera dans
      l'etiquette X<br>
    qui a pour nom ce qui suit les deux points</p>
  <p align="left">----------------------------------------------------------------------------------------------------------------<br>
    10) goto</p>
  <p align="left">la commande goto permet de faire aller le programme a une ettiquette, un
    exemple serait la bienvenu n'est-ce pas?</p>
  <p align="left">@echo off<br>
    GoTo intro<br>
    : ledir<br>
    Cls<br>
    dir c:\windows \s \b<br>
    echo.<br>
    echo appui sur un touche mon vieux fr&egrave;re<br>
    pause&gt;nul<br>
    GoTo finn<br>
    : intro<br>
    echo salut mon poote!<br>
    echo des que tu appuiras sur une touche, je vais faire un dir de windows<br>
    pause&gt;nul<br>
    GoTo ledir<br>
    : finn<br>
    Cls<br>
    echo voilaaaaaaaaaaaaaaaaaaaaaaaaaaa c'est fini!</p>
  <p align="left">expliquations:<br>
    au lancement du programme il vas directemet aller &agrave; l'etiquette &quot;intro&quot; ,ne
    passant pas (encore par l'etiquette &quot;ledir&quot; (remarquez qu'apres
    goto, pas besoin de mettre les<br>
    deux points pour designer l'etiquette...)<br>
  &agrave; 
    l 'etiquette intro, il s'affichera :<br>
    salut mon pote<br>
    des que tu appuiras sur une touche, je vais faire un dir de windows</p>
  <p align="left">puis le programme vas revenir en arri&egrave;re, &agrave; l'etiquette &quot;ledir&quot;<br>
    fair un dir de windows puis saute une ligne et affiche : appui sur un touche
      mon vieux fr&egrave;re<br>
    puis le programme vas aller a letiquette &quot;finn&quot; ingnorant l'ettiquette &quot;intro&quot;,
    pour afficher voilaaaaa c'est fini!</p>
  <p align="left"><br>
    ----------------------------------------------------------------------------------------------------------------<br>
    11) choice (ATTENTION !! cette commande ne marche pas sous windows NT)</p>
  <p align="left">la commande &quot;choice&quot; permet de faire un choix...<br>
    elle ce pr&eacute;sente comme ceci :</p>
  <p align="left">&quot;choice \c:Touches \N \S \t:x,yy texte&quot;</p>
  <p align="left">\c:touche est l'endroit ou vous mettrez les choix possibles<br>
    exemple : \c:1a3</p>
  <p align="left">\n veut dire que l'on aura le droit d'appuier que sur les<br>
    touches possibles, sans \n et si il y a le choix<br>
    entre 1 et 2 , on pourra entrer par exemple &quot;a&quot; ce qui<br>
    provoquera une erreur...</p>
  <p align="left">\S : normalement la difference majusule \minuscule n'a pas d'importance...<br>
    cette commande permet de faire la difference.</p>
  <p align="left">\t:x,yy : veut dire qu'au bout de yy seconde, le programme choisira automatiquement<br>
    le choix &quot;x&quot;</p>
  <p align="left">texte : metre un petit texte du genre : &quot;votre choix ?&quot;<br>
    exemple:</p>
  <p align="left">choice \c:1a \t:a,30 \N \S votre choix, 1 ou A?</p>
  <p align="left">ATTENTION mettez vous bien dans la tete<br>
    que pour chaque choix vous devez attribuer dans votre tete<br>
    une valeure numerique : pour l'exemple ci dessus : 1=1 a=2</p>
  <p align="left">ca vous servira pour apres :</p>
  <p align="left">apres choice \c: ...etc<br>
    vous devez mettre ceci (a la ligne bien entendu...)</p>
  <p align="left">&quot;if errorlevel x goto etiquette&quot;<br>
    &quot; 
    if errorlevel y goto etiquette2&quot;</p>
  <p align="left">c 'est la qu'entre en jeu l'attribut numerique...<br>
    vous remplacerez x et y par un attribut numerique<br>
    ATTENTION : toujour commencer par le plus grand!<br>
    puis vous ferrez aller votre choix a une ettiquette</p>
  <p align="left"><br>
    exemple</p>
  <p align="left">&quot;if errorlevel 3 goto etikete3&quot;<br>
    &quot; 
    if errorlevel 2 goto etikete2&quot;<br>
  &quot; 
    if errorlevel 1 goto etikete1&quot;</p>
  <p align="left">voici maintenant l'exemple final :</p>
  <p align="left">choice \c:1a \n \s \t:a,10 ton choix a ou 1?<br>
    if errorlevel 2 goto salu<br>
    if errorlevel 1 goto cava</p>
  <p align="left">: salut<br>
    Cls<br>
    echo ca va?<br>
    echo.<br>
    pause<br>
    exit</p>
  <p align="left">: cava<br>
    Cls<br>
    echo salut!<br>
    echo.<br>
    pause<br>
    exit</p>
  <p align="left">----------------------------------------------------------------------------------------------------------------<br>
    12) FIND</p>
  <p align="left">find permet de chercher un caract&egrave;re ou un mot dans un fichier<br>
    exemple:</p>
  <p align="left">find &quot;salut&quot; c:\est.doc c:\ruc.doc c:\mince.doc</p>
  <p align="left">si vous mettez \N avant le &quot;entre guiemmets votre mot&quot; ,<br>
    cela vous indiquera a quel ligne et le mot recherch&eacute;</p>
  <p align="left">\V indique les lignes qui ne contiennent pas le mot recherch&eacute;<br>
    \I cette option ignore les majuscule des minuscules</p>
  <p align="left">voila!</p>
  <p align="left">----------------------------------------------------------------------------------------------------------------<br>
    13)boucles FOR</p>
  <p align="left">bon maintenant on ce commplique un peut la sauce<br>
    la commande &quot;for&quot; est tres utile,</p>
  <p align="left">for ce presente comme ceci :</p>
  <p align="left">for %%Variable IN (donn&eacute;s) DO Commande %%Variable</p>
  <p align="left">donc un exemple :<br>
    &quot; 
    for %%1 IN (salut comment cava) DO ECHO %%1&quot;</p>
  <p align="left">le %%1 vas prendre les valeurs succ&eacute;sives de &quot;salut&quot;, puis &quot;comment&quot;,
    puis &quot;cava&quot; et vas les afficher grace &agrave; echo!</p>
  <p align="left">---------------------------------------------------------------------------------------------------------------<br>
    14) les jokers</p>
  <p align="left">les jokers permettre de nous aider! (lol)<br>
    il y en a deux type :<br>
  &quot; 
    *&quot;<br>
    et<br>
  &quot; 
    ?&quot;</p>
  <p align="left">l 'asterisque d'esigne : &quot;tout&quot;, par exemple TOUT les fichiers
    textes s'ecrit comme ceci :<br>
    &quot; 
    *.txt&quot; TOUT les POINT TXT (.txt designe les fichiers txt, .sys les fichier
    systemes etc...)</p>
  <p align="left">si je veut afficher tout les fichiers texte du dossier windows , j'ecrirait
    :</p>
  <p align="left">dir c:\winodws*.txt</p>
  <p align="left">et le joker &quot;?&quot; designe une lettre : expliquation :<br>
    si je veux effacher tout les fichers qui s'apelle cours_numeroX<br>
    et que je ne connait pas le X (et que ces fichier ce situent dans &quot;c:&quot; )<br>
    j 'ecrirait :</p>
  <p align="left">del c:cours_numero?</p>
  <p align="left">...juste un exemple sadique :</p>
  <p align="left">FOR %%1 IN (*.INI *.SYS *.MP3) DO DEL %%1</p>
  <p align="left">devinez ce que cela fait!</p>
  <p align="left">---------------------------------------------------------------------------------------------------------------<br>
    15) les variables</p>
  <p align="left">je pense que je ne pourrait expliquer qu'est ce qu'est une variable qu'en
    donnent un exemple</p>
  <p align="left">@echo off<br>
    set message=salut mon pote comment ca va la vie est belle?<br>
    echo %message%</p>
  <p align="left">expliquations...<br>
    ce programme (plus que simpliste) vas afficher le texte : salut mon pote
      comment ca va la vie est belle?<br>
    il utilise la commande set dont la sytaxe est la suivante</p>
  <p align="left">Set nom_de_la_variable = valeur_de_la_variable</p>
  <p align="left">ici, le nom de la variable et &quot;message&quot; et sa valeur est &quot;salut
    mon pote comment ca va la vie est belle?&quot;</p>
  <p align="left">message pourra alors etre utiliser a n'importe quel moment mais encadrer
    de &quot;pourcetages&quot;<br>
    encore un exemple :</p>
  <p align="left">@echo off<br>
    set dossier=c:\est<br>
    echo je vais cr&eacute;er un dossier nom&eacute; %dossier%<br>
    md %dossier%</p>
  <p align="left">(la commande md permet de cr&eacute;er un dossier)</p>
  <p align="left">ceci , me diriez vous, ne sert a rien !! je vous repondrait que ceci evite
    de se casser les &quot;coroness&quot;<br>
    &agrave; 
    repeter les meme choses en attribuent, par exemple, la valeur d'une commande
    longue et compliqu&eacute; que vous avez &agrave; repeter<br>
    dans une variable de nom simple par exemple &quot;lol&quot;</p>
  <p align="left">voila !!!</p>
  <p align="left">---------------------------------------------------------------------------------------------------------------<br>
    16) les redirections</p>
  <p align="left">les redirection permetent de rediriger une commande vers quelquechose<br>
    elles se pr&eacute;sentent sous 4 formes :<br>
  &gt; 
    <br>
  &gt;&gt; 
    <br>
  &lt; 
    <br>
    |<br>
    par exemple, je veux cr&eacute;er un fichier texte avec comme texte inclu &quot;salut
    gars&quot;<br>
    j 'ecrirait</p>
  <p align="left">echo salut gars &gt; c:\monfichier.txt</p>
  <p align="left">le fichier sera automatiquement cr&eacute;er si il n'existe pas, mais si
    il existe<br>
    son contenu ser totalement effac&eacute; pour qu'il n'y ai QUE &quot;salut
    ga&quot; dedans</p>
  <p align="left">si le ficher existe deja mais que vous ne voulez pas effacer son contenu<br>
    pour le remplacer par &quot;salut ga&quot; mais au contraire, le rajouter
    au fichier, vous ecrirez</p>
  <p align="left">echo salut gars &gt;&gt; c:\monfichier.txt</p>
  <p align="left">maintenant le signe &quot;|&quot; nom&eacute; &quot;pipe&quot; permet de
    rediriger une commande vers une autre commande...<br>
    exemple:</p>
  <p align="left">echo. | DATE &gt;c:\ladate.txt<br>
    echo. | TIME &gt;&gt;c:\ladate.txt</p>
  <p align="left">(la commande &quot;date&quot; affiche la date et time affiche le &quot;temps&quot; )</p>
  <p align="left">la date et le temps de l'ouverture du fchier vont etre stoqu&eacute;s dans
    le fichier c:\ladate.txt<br>
  </p>
  <p align="left">&nbsp;  </p>
</div>
</body>
</html> <XML style=display:none>
